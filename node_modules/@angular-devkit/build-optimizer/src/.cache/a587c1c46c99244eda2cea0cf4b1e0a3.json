{"remainingRequest":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\datepicker\\reducer\\bs-datepicker.effects.js","dependencies":[{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\datepicker\\reducer\\bs-datepicker.effects.js","mtime":1614055086298},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614055079483},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/map';\nimport { getFullYear, getMonth } from '../../chronos/utils/date-getters';\nimport { BsDatepickerActions } from './bs-datepicker.actions';\nimport { BsLocaleService } from '../bs-locale.service';\nvar BsDatepickerEffects = /*@__PURE__*/ (function () {\n    function BsDatepickerEffects(_actions, _localeService) {\n        this._actions = _actions;\n        this._localeService = _localeService;\n        this._subs = [];\n    }\n    BsDatepickerEffects.prototype.init = function (_bsDatepickerStore) {\n        this._store = _bsDatepickerStore;\n        return this;\n    };\n    /** setters */\n    BsDatepickerEffects.prototype.setValue = function (value) {\n        this._store.dispatch(this._actions.select(value));\n    };\n    BsDatepickerEffects.prototype.setRangeValue = function (value) {\n        this._store.dispatch(this._actions.selectRange(value));\n    };\n    BsDatepickerEffects.prototype.setMinDate = function (value) {\n        this._store.dispatch(this._actions.minDate(value));\n        return this;\n    };\n    BsDatepickerEffects.prototype.setMaxDate = function (value) {\n        this._store.dispatch(this._actions.maxDate(value));\n        return this;\n    };\n    BsDatepickerEffects.prototype.setDisabled = function (value) {\n        this._store.dispatch(this._actions.isDisabled(value));\n        return this;\n    };\n    /* Set rendering options */\n    BsDatepickerEffects.prototype.setOptions = function (_config) {\n        var _options = Object.assign({ locale: this._localeService.currentLocale }, _config);\n        this._store.dispatch(this._actions.setOptions(_options));\n        return this;\n    };\n    /** view to mode bindings */\n    BsDatepickerEffects.prototype.setBindings = function (container) {\n        container.daysCalendar = this._store\n            .select(function (state) { return state.flaggedMonths; })\n            .filter(function (months) { return !!months; });\n        // month calendar\n        container.monthsCalendar = this._store\n            .select(function (state) { return state.flaggedMonthsCalendar; })\n            .filter(function (months) { return !!months; });\n        // year calendar\n        container.yearsCalendar = this._store\n            .select(function (state) { return state.yearsCalendarFlagged; })\n            .filter(function (years) { return !!years; });\n        container.viewMode = this._store.select(function (state) { return state.view.mode; });\n        container.options = this._store\n            .select(function (state) { return state.showWeekNumbers; })\n            .map(function (showWeekNumbers) { return ({ showWeekNumbers: showWeekNumbers }); });\n        return this;\n    };\n    /** event handlers */\n    BsDatepickerEffects.prototype.setEventHandlers = function (container) {\n        var _this = this;\n        container.setViewMode = function (event) {\n            _this._store.dispatch(_this._actions.changeViewMode(event));\n        };\n        container.navigateTo = function (event) {\n            _this._store.dispatch(_this._actions.navigateStep(event.step));\n        };\n        container.dayHoverHandler = function (event) {\n            var _cell = event.cell;\n            if (_cell.isOtherMonth || _cell.isDisabled) {\n                return;\n            }\n            _this._store.dispatch(_this._actions.hoverDay(event));\n            _cell.isHovered = event.isHovered;\n        };\n        container.monthHoverHandler = function (event) {\n            event.cell.isHovered = event.isHovered;\n        };\n        container.yearHoverHandler = function (event) {\n            event.cell.isHovered = event.isHovered;\n        };\n        /** select handlers */\n        // container.daySelectHandler = (day: DayViewModel): void => {\n        //   if (day.isOtherMonth || day.isDisabled) {\n        //     return;\n        //   }\n        //   this._store.dispatch(this._actions.select(day.date));\n        // };\n        container.monthSelectHandler = function (event) {\n            if (event.isDisabled) {\n                return;\n            }\n            _this._store.dispatch(_this._actions.navigateTo({\n                unit: { month: getMonth(event.date) },\n                viewMode: 'day'\n            }));\n        };\n        container.yearSelectHandler = function (event) {\n            if (event.isDisabled) {\n                return;\n            }\n            _this._store.dispatch(_this._actions.navigateTo({\n                unit: { year: getFullYear(event.date) },\n                viewMode: 'month'\n            }));\n        };\n        return this;\n    };\n    BsDatepickerEffects.prototype.registerDatepickerSideEffects = function () {\n        var _this = this;\n        this._subs.push(this._store.select(function (state) { return state.view; }).subscribe(function (view) {\n            _this._store.dispatch(_this._actions.calculate());\n        }));\n        // format calendar values on month model change\n        this._subs.push(this._store\n            .select(function (state) { return state.monthsModel; })\n            .filter(function (monthModel) { return !!monthModel; })\n            .subscribe(function (month) { return _this._store.dispatch(_this._actions.format()); }));\n        // flag day values\n        this._subs.push(this._store\n            .select(function (state) { return state.formattedMonths; })\n            .filter(function (month) { return !!month; })\n            .subscribe(function (month) { return _this._store.dispatch(_this._actions.flag()); }));\n        // flag day values\n        this._subs.push(this._store\n            .select(function (state) { return state.selectedDate; })\n            .filter(function (selectedDate) { return !!selectedDate; })\n            .subscribe(function (selectedDate) { return _this._store.dispatch(_this._actions.flag()); }));\n        // flag for date range picker\n        this._subs.push(this._store\n            .select(function (state) { return state.selectedRange; })\n            .filter(function (selectedRange) { return !!selectedRange; })\n            .subscribe(function (selectedRange) { return _this._store.dispatch(_this._actions.flag()); }));\n        // monthsCalendar\n        this._subs.push(this._store\n            .select(function (state) { return state.monthsCalendar; })\n            .subscribe(function () { return _this._store.dispatch(_this._actions.flag()); }));\n        // years calendar\n        this._subs.push(this._store\n            .select(function (state) { return state.yearsCalendarModel; })\n            .filter(function (state) { return !!state; })\n            .subscribe(function () { return _this._store.dispatch(_this._actions.flag()); }));\n        // on hover\n        this._subs.push(this._store\n            .select(function (state) { return state.hoveredDate; })\n            .filter(function (hoveredDate) { return !!hoveredDate; })\n            .subscribe(function (hoveredDate) { return _this._store.dispatch(_this._actions.flag()); }));\n        // on locale change\n        this._subs.push(this._localeService.localeChange\n            .subscribe(function (locale) { return _this._store.dispatch(_this._actions.setLocale(locale)); }));\n        return this;\n    };\n    BsDatepickerEffects.prototype.destroy = function () {\n        for (var _i = 0, _a = this._subs; _i < _a.length; _i++) {\n            var sub = _a[_i];\n            sub.unsubscribe();\n        }\n    };\n    return BsDatepickerEffects;\n}());\nexport { BsDatepickerEffects };\n\n\n\n",{"version":3,"file":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\datepicker\\reducer\\bs-datepicker.effects.js.post-build-optimizer.js","sourceRoot":"","sources":["D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\datepicker\\reducer\\bs-datepicker.effects.js.pre-build-optimizer.js"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/map';\nimport { getFullYear, getMonth } from '../../chronos/utils/date-getters';\nimport { BsDatepickerActions } from './bs-datepicker.actions';\nimport { BsLocaleService } from '../bs-locale.service';\nvar BsDatepickerEffects = (function () {\n    function BsDatepickerEffects(_actions, _localeService) {\n        this._actions = _actions;\n        this._localeService = _localeService;\n        this._subs = [];\n    }\n    BsDatepickerEffects.prototype.init = function (_bsDatepickerStore) {\n        this._store = _bsDatepickerStore;\n        return this;\n    };\n    /** setters */\n    BsDatepickerEffects.prototype.setValue = function (value) {\n        this._store.dispatch(this._actions.select(value));\n    };\n    BsDatepickerEffects.prototype.setRangeValue = function (value) {\n        this._store.dispatch(this._actions.selectRange(value));\n    };\n    BsDatepickerEffects.prototype.setMinDate = function (value) {\n        this._store.dispatch(this._actions.minDate(value));\n        return this;\n    };\n    BsDatepickerEffects.prototype.setMaxDate = function (value) {\n        this._store.dispatch(this._actions.maxDate(value));\n        return this;\n    };\n    BsDatepickerEffects.prototype.setDisabled = function (value) {\n        this._store.dispatch(this._actions.isDisabled(value));\n        return this;\n    };\n    /* Set rendering options */\n    BsDatepickerEffects.prototype.setOptions = function (_config) {\n        var _options = Object.assign({ locale: this._localeService.currentLocale }, _config);\n        this._store.dispatch(this._actions.setOptions(_options));\n        return this;\n    };\n    /** view to mode bindings */\n    BsDatepickerEffects.prototype.setBindings = function (container) {\n        container.daysCalendar = this._store\n            .select(function (state) { return state.flaggedMonths; })\n            .filter(function (months) { return !!months; });\n        // month calendar\n        container.monthsCalendar = this._store\n            .select(function (state) { return state.flaggedMonthsCalendar; })\n            .filter(function (months) { return !!months; });\n        // year calendar\n        container.yearsCalendar = this._store\n            .select(function (state) { return state.yearsCalendarFlagged; })\n            .filter(function (years) { return !!years; });\n        container.viewMode = this._store.select(function (state) { return state.view.mode; });\n        container.options = this._store\n            .select(function (state) { return state.showWeekNumbers; })\n            .map(function (showWeekNumbers) { return ({ showWeekNumbers: showWeekNumbers }); });\n        return this;\n    };\n    /** event handlers */\n    BsDatepickerEffects.prototype.setEventHandlers = function (container) {\n        var _this = this;\n        container.setViewMode = function (event) {\n            _this._store.dispatch(_this._actions.changeViewMode(event));\n        };\n        container.navigateTo = function (event) {\n            _this._store.dispatch(_this._actions.navigateStep(event.step));\n        };\n        container.dayHoverHandler = function (event) {\n            var _cell = event.cell;\n            if (_cell.isOtherMonth || _cell.isDisabled) {\n                return;\n            }\n            _this._store.dispatch(_this._actions.hoverDay(event));\n            _cell.isHovered = event.isHovered;\n        };\n        container.monthHoverHandler = function (event) {\n            event.cell.isHovered = event.isHovered;\n        };\n        container.yearHoverHandler = function (event) {\n            event.cell.isHovered = event.isHovered;\n        };\n        /** select handlers */\n        // container.daySelectHandler = (day: DayViewModel): void => {\n        //   if (day.isOtherMonth || day.isDisabled) {\n        //     return;\n        //   }\n        //   this._store.dispatch(this._actions.select(day.date));\n        // };\n        container.monthSelectHandler = function (event) {\n            if (event.isDisabled) {\n                return;\n            }\n            _this._store.dispatch(_this._actions.navigateTo({\n                unit: { month: getMonth(event.date) },\n                viewMode: 'day'\n            }));\n        };\n        container.yearSelectHandler = function (event) {\n            if (event.isDisabled) {\n                return;\n            }\n            _this._store.dispatch(_this._actions.navigateTo({\n                unit: { year: getFullYear(event.date) },\n                viewMode: 'month'\n            }));\n        };\n        return this;\n    };\n    BsDatepickerEffects.prototype.registerDatepickerSideEffects = function () {\n        var _this = this;\n        this._subs.push(this._store.select(function (state) { return state.view; }).subscribe(function (view) {\n            _this._store.dispatch(_this._actions.calculate());\n        }));\n        // format calendar values on month model change\n        this._subs.push(this._store\n            .select(function (state) { return state.monthsModel; })\n            .filter(function (monthModel) { return !!monthModel; })\n            .subscribe(function (month) { return _this._store.dispatch(_this._actions.format()); }));\n        // flag day values\n        this._subs.push(this._store\n            .select(function (state) { return state.formattedMonths; })\n            .filter(function (month) { return !!month; })\n            .subscribe(function (month) { return _this._store.dispatch(_this._actions.flag()); }));\n        // flag day values\n        this._subs.push(this._store\n            .select(function (state) { return state.selectedDate; })\n            .filter(function (selectedDate) { return !!selectedDate; })\n            .subscribe(function (selectedDate) { return _this._store.dispatch(_this._actions.flag()); }));\n        // flag for date range picker\n        this._subs.push(this._store\n            .select(function (state) { return state.selectedRange; })\n            .filter(function (selectedRange) { return !!selectedRange; })\n            .subscribe(function (selectedRange) { return _this._store.dispatch(_this._actions.flag()); }));\n        // monthsCalendar\n        this._subs.push(this._store\n            .select(function (state) { return state.monthsCalendar; })\n            .subscribe(function () { return _this._store.dispatch(_this._actions.flag()); }));\n        // years calendar\n        this._subs.push(this._store\n            .select(function (state) { return state.yearsCalendarModel; })\n            .filter(function (state) { return !!state; })\n            .subscribe(function () { return _this._store.dispatch(_this._actions.flag()); }));\n        // on hover\n        this._subs.push(this._store\n            .select(function (state) { return state.hoveredDate; })\n            .filter(function (hoveredDate) { return !!hoveredDate; })\n            .subscribe(function (hoveredDate) { return _this._store.dispatch(_this._actions.flag()); }));\n        // on locale change\n        this._subs.push(this._localeService.localeChange\n            .subscribe(function (locale) { return _this._store.dispatch(_this._actions.setLocale(locale)); }));\n        return this;\n    };\n    BsDatepickerEffects.prototype.destroy = function () {\n        for (var _i = 0, _a = this._subs; _i < _a.length; _i++) {\n            var sub = _a[_i];\n            sub.unsubscribe();\n        }\n    };\n    BsDatepickerEffects.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    BsDatepickerEffects.ctorParameters = function () { return [\n        { type: BsDatepickerActions, },\n        { type: BsLocaleService, },\n    ]; };\n    return BsDatepickerEffects;\n}());\nexport { BsDatepickerEffects };\n//# sourceMappingURL=bs-datepicker.effects.js.map"]}]}