{"remainingRequest":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular\\animations\\esm5\\browser.js","dependencies":[{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular\\animations\\esm5\\browser.js","mtime":1526507299000},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614055079483},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["/**\n * @license Angular v5.2.11\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n/** PURE_IMPORTS_START _angular_animations,tslib PURE_IMPORTS_END */\nimport { AUTO_STYLE, NoopAnimationPlayer, sequence, style, ɵAnimationGroupPlayer, ɵPRE_STYLE } from '@angular/animations';\nimport { __assign, __extends } from 'tslib';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @param {?} players\n * @return {?}\n */\nfunction optimizeGroupPlayer(players) {\n    switch (players.length) {\n        case 0:\n            return new NoopAnimationPlayer();\n        case 1:\n            return players[0];\n        default:\n            return new ɵAnimationGroupPlayer(players);\n    }\n}\n/**\n * @param {?} driver\n * @param {?} normalizer\n * @param {?} element\n * @param {?} keyframes\n * @param {?=} preStyles\n * @param {?=} postStyles\n * @return {?}\n */\nfunction normalizeKeyframes(driver, normalizer, element, keyframes, preStyles, postStyles) {\n    if (preStyles === void 0) {\n        preStyles = {};\n    }\n    if (postStyles === void 0) {\n        postStyles = {};\n    }\n    var /** @type {?} */ errors = [];\n    var /** @type {?} */ normalizedKeyframes = [];\n    var /** @type {?} */ previousOffset = -1;\n    var /** @type {?} */ previousKeyframe = null;\n    keyframes.forEach(function (kf) {\n        var /** @type {?} */ offset = (kf['offset']);\n        var /** @type {?} */ isSameOffset = offset == previousOffset;\n        var /** @type {?} */ normalizedKeyframe = (isSameOffset && previousKeyframe) || {};\n        Object.keys(kf).forEach(function (prop) {\n            var /** @type {?} */ normalizedProp = prop;\n            var /** @type {?} */ normalizedValue = kf[prop];\n            if (prop !== 'offset') {\n                normalizedProp = normalizer.normalizePropertyName(normalizedProp, errors);\n                switch (normalizedValue) {\n                    case ɵPRE_STYLE:\n                        normalizedValue = preStyles[prop];\n                        break;\n                    case AUTO_STYLE:\n                        normalizedValue = postStyles[prop];\n                        break;\n                    default:\n                        normalizedValue =\n                            normalizer.normalizeStyleValue(prop, normalizedProp, normalizedValue, errors);\n                        break;\n                }\n            }\n            normalizedKeyframe[normalizedProp] = normalizedValue;\n        });\n        if (!isSameOffset) {\n            normalizedKeyframes.push(normalizedKeyframe);\n        }\n        previousKeyframe = normalizedKeyframe;\n        previousOffset = offset;\n    });\n    if (errors.length) {\n        var /** @type {?} */ LINE_START = '\\n - ';\n        throw new Error(\"Unable to animate due to the following errors:\" + LINE_START + errors.join(LINE_START));\n    }\n    return normalizedKeyframes;\n}\n/**\n * @param {?} player\n * @param {?} eventName\n * @param {?} event\n * @param {?} callback\n * @return {?}\n */\nfunction listenOnPlayer(player, eventName, event, callback) {\n    switch (eventName) {\n        case 'start':\n            player.onStart(function () { return callback(event && copyAnimationEvent(event, 'start', player.totalTime)); });\n            break;\n        case 'done':\n            player.onDone(function () { return callback(event && copyAnimationEvent(event, 'done', player.totalTime)); });\n            break;\n        case 'destroy':\n            player.onDestroy(function () { return callback(event && copyAnimationEvent(event, 'destroy', player.totalTime)); });\n            break;\n    }\n}\n/**\n * @param {?} e\n * @param {?=} phaseName\n * @param {?=} totalTime\n * @return {?}\n */\nfunction copyAnimationEvent(e, phaseName, totalTime) {\n    var /** @type {?} */ event = makeAnimationEvent(e.element, e.triggerName, e.fromState, e.toState, phaseName || e.phaseName, totalTime == undefined ? e.totalTime : totalTime);\n    var /** @type {?} */ data = ((e))['_data'];\n    if (data != null) {\n        ((event))['_data'] = data;\n    }\n    return event;\n}\n/**\n * @param {?} element\n * @param {?} triggerName\n * @param {?} fromState\n * @param {?} toState\n * @param {?=} phaseName\n * @param {?=} totalTime\n * @return {?}\n */\nfunction makeAnimationEvent(element, triggerName, fromState, toState, phaseName, totalTime) {\n    if (phaseName === void 0) {\n        phaseName = '';\n    }\n    if (totalTime === void 0) {\n        totalTime = 0;\n    }\n    return { element: element, triggerName: triggerName, fromState: fromState, toState: toState, phaseName: phaseName, totalTime: totalTime };\n}\n/**\n * @param {?} map\n * @param {?} key\n * @param {?} defaultValue\n * @return {?}\n */\nfunction getOrSetAsInMap(map, key, defaultValue) {\n    var /** @type {?} */ value;\n    if (map instanceof Map) {\n        value = map.get(key);\n        if (!value) {\n            map.set(key, value = defaultValue);\n        }\n    }\n    else {\n        value = map[key];\n        if (!value) {\n            value = map[key] = defaultValue;\n        }\n    }\n    return value;\n}\n/**\n * @param {?} command\n * @return {?}\n */\nfunction parseTimelineCommand(command) {\n    var /** @type {?} */ separatorPos = command.indexOf(':');\n    var /** @type {?} */ id = command.substring(1, separatorPos);\n    var /** @type {?} */ action = command.substr(separatorPos + 1);\n    return [id, action];\n}\nvar _contains = function (elm1, elm2) { return false; };\nvar _matches = function (element, selector) {\n    return false;\n};\nvar _query = function (element, selector, multi) {\n    return [];\n};\nif (typeof Element != 'undefined') {\n    // this is well supported in all browsers\n    _contains = function (elm1, elm2) { return /** @type {?} */ (elm1.contains(elm2)); };\n    if (Element.prototype.matches) {\n        _matches = function (element, selector) { return element.matches(selector); };\n    }\n    else {\n        var /** @type {?} */ proto = (Element.prototype);\n        var /** @type {?} */ fn_1 = proto.matchesSelector || proto.mozMatchesSelector || proto.msMatchesSelector ||\n            proto.oMatchesSelector || proto.webkitMatchesSelector;\n        if (fn_1) {\n            _matches = function (element, selector) { return fn_1.apply(element, [selector]); };\n        }\n    }\n    _query = function (element, selector, multi) {\n        var /** @type {?} */ results = [];\n        if (multi) {\n            results.push.apply(results, element.querySelectorAll(selector));\n        }\n        else {\n            var /** @type {?} */ elm = element.querySelector(selector);\n            if (elm) {\n                results.push(elm);\n            }\n        }\n        return results;\n    };\n}\n/**\n * @param {?} prop\n * @return {?}\n */\nfunction containsVendorPrefix(prop) {\n    // Webkit is the only real popular vendor prefix nowadays\n    // cc: http://shouldiprefix.com/\n    return prop.substring(1, 6) == 'ebkit'; // webkit or Webkit\n}\nvar _CACHED_BODY = null;\nvar _IS_WEBKIT = false;\n/**\n * @param {?} prop\n * @return {?}\n */\nfunction validateStyleProperty(prop) {\n    if (!_CACHED_BODY) {\n        _CACHED_BODY = getBodyNode() || {};\n        _IS_WEBKIT = /** @type {?} */ ((_CACHED_BODY)).style ? ('WebkitAppearance' in /** @type {?} */ ((_CACHED_BODY)).style) : false;\n    }\n    var /** @type {?} */ result = true;\n    if (((_CACHED_BODY)).style && !containsVendorPrefix(prop)) {\n        result = prop in /** @type {?} */ ((_CACHED_BODY)).style;\n        if (!result && _IS_WEBKIT) {\n            var /** @type {?} */ camelProp = 'Webkit' + prop.charAt(0).toUpperCase() + prop.substr(1);\n            result = camelProp in /** @type {?} */ ((_CACHED_BODY)).style;\n        }\n    }\n    return result;\n}\n/**\n * @return {?}\n */\nfunction getBodyNode() {\n    if (typeof document != 'undefined') {\n        return document.body;\n    }\n    return null;\n}\nvar matchesElement = _matches;\nvar containsElement = _contains;\nvar invokeQuery = _query;\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * \\@experimental\n */\nvar NoopAnimationDriver = /*@__PURE__*/ (function () {\n    function NoopAnimationDriver() {\n    }\n    /**\n     * @param {?} prop\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.validateStyleProperty = /**\n     * @param {?} prop\n     * @return {?}\n     */\n        function (prop) { return validateStyleProperty(prop); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.matchesElement = /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n        function (element, selector) {\n            return matchesElement(element, selector);\n        };\n    /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.containsElement = /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n        function (elm1, elm2) { return containsElement(elm1, elm2); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.query = /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n        function (element, selector, multi) {\n            return invokeQuery(element, selector, multi);\n        };\n    /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.computeStyle = /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n        function (element, prop, defaultValue) {\n            return defaultValue || '';\n        };\n    /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.animate = /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n        function (element, keyframes, duration, delay, easing, previousPlayers) {\n            if (previousPlayers === void 0) {\n                previousPlayers = [];\n            }\n            return new NoopAnimationPlayer();\n        };\n    return NoopAnimationDriver;\n}());\n/**\n * \\@experimental\n * @abstract\n */\nvar AnimationDriver = /*@__PURE__*/ (function () {\n    function AnimationDriver() {\n    }\n    AnimationDriver.NOOP = new NoopAnimationDriver();\n    return AnimationDriver;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar ONE_SECOND = 1000;\nvar SUBSTITUTION_EXPR_START = '{{';\nvar SUBSTITUTION_EXPR_END = '}}';\nvar ENTER_CLASSNAME = 'ng-enter';\nvar LEAVE_CLASSNAME = 'ng-leave';\nvar NG_TRIGGER_CLASSNAME = 'ng-trigger';\nvar NG_TRIGGER_SELECTOR = '.ng-trigger';\nvar NG_ANIMATING_CLASSNAME = 'ng-animating';\nvar NG_ANIMATING_SELECTOR = '.ng-animating';\n/**\n * @param {?} value\n * @return {?}\n */\nfunction resolveTimingValue(value) {\n    if (typeof value == 'number')\n        return value;\n    var /** @type {?} */ matches = ((value)).match(/^(-?[\\.\\d]+)(m?s)/);\n    if (!matches || matches.length < 2)\n        return 0;\n    return _convertTimeValueToMS(parseFloat(matches[1]), matches[2]);\n}\n/**\n * @param {?} value\n * @param {?} unit\n * @return {?}\n */\nfunction _convertTimeValueToMS(value, unit) {\n    switch (unit) {\n        case 's':\n            return value * ONE_SECOND;\n        default:\n            // ms or something else\n            return value;\n    }\n}\n/**\n * @param {?} timings\n * @param {?} errors\n * @param {?=} allowNegativeValues\n * @return {?}\n */\nfunction resolveTiming(timings, errors, allowNegativeValues) {\n    return timings.hasOwnProperty('duration') ? /** @type {?} */ (timings) :\n        parseTimeExpression(/** @type {?} */ (timings), errors, allowNegativeValues);\n}\n/**\n * @param {?} exp\n * @param {?} errors\n * @param {?=} allowNegativeValues\n * @return {?}\n */\nfunction parseTimeExpression(exp, errors, allowNegativeValues) {\n    var /** @type {?} */ regex = /^(-?[\\.\\d]+)(m?s)(?:\\s+(-?[\\.\\d]+)(m?s))?(?:\\s+([-a-z]+(?:\\(.+?\\))?))?$/i;\n    var /** @type {?} */ duration;\n    var /** @type {?} */ delay = 0;\n    var /** @type {?} */ easing = '';\n    if (typeof exp === 'string') {\n        var /** @type {?} */ matches = exp.match(regex);\n        if (matches === null) {\n            errors.push(\"The provided timing value \\\"\" + exp + \"\\\" is invalid.\");\n            return { duration: 0, delay: 0, easing: '' };\n        }\n        duration = _convertTimeValueToMS(parseFloat(matches[1]), matches[2]);\n        var /** @type {?} */ delayMatch = matches[3];\n        if (delayMatch != null) {\n            delay = _convertTimeValueToMS(Math.floor(parseFloat(delayMatch)), matches[4]);\n        }\n        var /** @type {?} */ easingVal = matches[5];\n        if (easingVal) {\n            easing = easingVal;\n        }\n    }\n    else {\n        duration = /** @type {?} */ (exp);\n    }\n    if (!allowNegativeValues) {\n        var /** @type {?} */ containsErrors = false;\n        var /** @type {?} */ startIndex = errors.length;\n        if (duration < 0) {\n            errors.push(\"Duration values below 0 are not allowed for this animation step.\");\n            containsErrors = true;\n        }\n        if (delay < 0) {\n            errors.push(\"Delay values below 0 are not allowed for this animation step.\");\n            containsErrors = true;\n        }\n        if (containsErrors) {\n            errors.splice(startIndex, 0, \"The provided timing value \\\"\" + exp + \"\\\" is invalid.\");\n        }\n    }\n    return { duration: duration, delay: delay, easing: easing };\n}\n/**\n * @param {?} obj\n * @param {?=} destination\n * @return {?}\n */\nfunction copyObj(obj, destination) {\n    if (destination === void 0) {\n        destination = {};\n    }\n    Object.keys(obj).forEach(function (prop) { destination[prop] = obj[prop]; });\n    return destination;\n}\n/**\n * @param {?} styles\n * @return {?}\n */\nfunction normalizeStyles(styles) {\n    var /** @type {?} */ normalizedStyles = {};\n    if (Array.isArray(styles)) {\n        styles.forEach(function (data) { return copyStyles(data, false, normalizedStyles); });\n    }\n    else {\n        copyStyles(styles, false, normalizedStyles);\n    }\n    return normalizedStyles;\n}\n/**\n * @param {?} styles\n * @param {?} readPrototype\n * @param {?=} destination\n * @return {?}\n */\nfunction copyStyles(styles, readPrototype, destination) {\n    if (destination === void 0) {\n        destination = {};\n    }\n    if (readPrototype) {\n        // we make use of a for-in loop so that the\n        // prototypically inherited properties are\n        // revealed from the backFill map\n        for (var /** @type {?} */ prop in styles) {\n            destination[prop] = styles[prop];\n        }\n    }\n    else {\n        copyObj(styles, destination);\n    }\n    return destination;\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nfunction setStyles(element, styles) {\n    if (element['style']) {\n        Object.keys(styles).forEach(function (prop) {\n            var /** @type {?} */ camelProp = dashCaseToCamelCase(prop);\n            element.style[camelProp] = styles[prop];\n        });\n    }\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nfunction eraseStyles(element, styles) {\n    if (element['style']) {\n        Object.keys(styles).forEach(function (prop) {\n            var /** @type {?} */ camelProp = dashCaseToCamelCase(prop);\n            element.style[camelProp] = '';\n        });\n    }\n}\n/**\n * @param {?} steps\n * @return {?}\n */\nfunction normalizeAnimationEntry(steps) {\n    if (Array.isArray(steps)) {\n        if (steps.length == 1)\n            return steps[0];\n        return sequence(steps);\n    }\n    return /** @type {?} */ (steps);\n}\n/**\n * @param {?} value\n * @param {?} options\n * @param {?} errors\n * @return {?}\n */\nfunction validateStyleParams(value, options, errors) {\n    var /** @type {?} */ params = options.params || {};\n    var /** @type {?} */ matches = extractStyleParams(value);\n    if (matches.length) {\n        matches.forEach(function (varName) {\n            if (!params.hasOwnProperty(varName)) {\n                errors.push(\"Unable to resolve the local animation param \" + varName + \" in the given list of values\");\n            }\n        });\n    }\n}\nvar PARAM_REGEX = /*@__PURE__*/ new RegExp(SUBSTITUTION_EXPR_START + \"\\\\s*(.+?)\\\\s*\" + SUBSTITUTION_EXPR_END, 'g');\n/**\n * @param {?} value\n * @return {?}\n */\nfunction extractStyleParams(value) {\n    var /** @type {?} */ params = [];\n    if (typeof value === 'string') {\n        var /** @type {?} */ val = value.toString();\n        var /** @type {?} */ match = void 0;\n        while (match = PARAM_REGEX.exec(val)) {\n            params.push(/** @type {?} */ (match[1]));\n        }\n        PARAM_REGEX.lastIndex = 0;\n    }\n    return params;\n}\n/**\n * @param {?} value\n * @param {?} params\n * @param {?} errors\n * @return {?}\n */\nfunction interpolateParams(value, params, errors) {\n    var /** @type {?} */ original = value.toString();\n    var /** @type {?} */ str = original.replace(PARAM_REGEX, function (_, varName) {\n        var /** @type {?} */ localVal = params[varName];\n        // this means that the value was never overidden by the data passed in by the user\n        if (!params.hasOwnProperty(varName)) {\n            errors.push(\"Please provide a value for the animation param \" + varName);\n            localVal = '';\n        }\n        return localVal.toString();\n    });\n    // we do this to assert that numeric values stay as they are\n    return str == original ? value : str;\n}\n/**\n * @param {?} iterator\n * @return {?}\n */\nfunction iteratorToArray(iterator) {\n    var /** @type {?} */ arr = [];\n    var /** @type {?} */ item = iterator.next();\n    while (!item.done) {\n        arr.push(item.value);\n        item = iterator.next();\n    }\n    return arr;\n}\n/**\n * @param {?} source\n * @param {?} destination\n * @return {?}\n */\nvar DASH_CASE_REGEXP = /-+([a-z0-9])/g;\n/**\n * @param {?} input\n * @return {?}\n */\nfunction dashCaseToCamelCase(input) {\n    return input.replace(DASH_CASE_REGEXP, function () {\n        var m = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            m[_i] = arguments[_i];\n        }\n        return m[1].toUpperCase();\n    });\n}\n/**\n * @param {?} duration\n * @param {?} delay\n * @return {?}\n */\nfunction allowPreviousPlayerStylesMerge(duration, delay) {\n    return duration === 0 || delay === 0;\n}\n/**\n * @param {?} visitor\n * @param {?} node\n * @param {?} context\n * @return {?}\n */\nfunction visitDslNode(visitor, node, context) {\n    switch (node.type) {\n        case 7 /* Trigger */:\n            return visitor.visitTrigger(node, context);\n        case 0 /* State */:\n            return visitor.visitState(node, context);\n        case 1 /* Transition */:\n            return visitor.visitTransition(node, context);\n        case 2 /* Sequence */:\n            return visitor.visitSequence(node, context);\n        case 3 /* Group */:\n            return visitor.visitGroup(node, context);\n        case 4 /* Animate */:\n            return visitor.visitAnimate(node, context);\n        case 5 /* Keyframes */:\n            return visitor.visitKeyframes(node, context);\n        case 6 /* Style */:\n            return visitor.visitStyle(node, context);\n        case 8 /* Reference */:\n            return visitor.visitReference(node, context);\n        case 9 /* AnimateChild */:\n            return visitor.visitAnimateChild(node, context);\n        case 10 /* AnimateRef */:\n            return visitor.visitAnimateRef(node, context);\n        case 11 /* Query */:\n            return visitor.visitQuery(node, context);\n        case 12 /* Stagger */:\n            return visitor.visitStagger(node, context);\n        default:\n            throw new Error(\"Unable to resolve animation metadata node #\" + node.type);\n    }\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ANY_STATE = '*';\n/**\n * @param {?} transitionValue\n * @param {?} errors\n * @return {?}\n */\nfunction parseTransitionExpr(transitionValue, errors) {\n    var /** @type {?} */ expressions = [];\n    if (typeof transitionValue == 'string') {\n        ((transitionValue))\n            .split(/\\s*,\\s*/)\n            .forEach(function (str) { return parseInnerTransitionStr(str, expressions, errors); });\n    }\n    else {\n        expressions.push(/** @type {?} */ (transitionValue));\n    }\n    return expressions;\n}\n/**\n * @param {?} eventStr\n * @param {?} expressions\n * @param {?} errors\n * @return {?}\n */\nfunction parseInnerTransitionStr(eventStr, expressions, errors) {\n    if (eventStr[0] == ':') {\n        var /** @type {?} */ result = parseAnimationAlias(eventStr, errors);\n        if (typeof result == 'function') {\n            expressions.push(result);\n            return;\n        }\n        eventStr = /** @type {?} */ (result);\n    }\n    var /** @type {?} */ match = eventStr.match(/^(\\*|[-\\w]+)\\s*(<?[=-]>)\\s*(\\*|[-\\w]+)$/);\n    if (match == null || match.length < 4) {\n        errors.push(\"The provided transition expression \\\"\" + eventStr + \"\\\" is not supported\");\n        return expressions;\n    }\n    var /** @type {?} */ fromState = match[1];\n    var /** @type {?} */ separator = match[2];\n    var /** @type {?} */ toState = match[3];\n    expressions.push(makeLambdaFromStates(fromState, toState));\n    var /** @type {?} */ isFullAnyStateExpr = fromState == ANY_STATE && toState == ANY_STATE;\n    if (separator[0] == '<' && !isFullAnyStateExpr) {\n        expressions.push(makeLambdaFromStates(toState, fromState));\n    }\n}\n/**\n * @param {?} alias\n * @param {?} errors\n * @return {?}\n */\nfunction parseAnimationAlias(alias, errors) {\n    switch (alias) {\n        case ':enter':\n            return 'void => *';\n        case ':leave':\n            return '* => void';\n        case ':increment':\n            return function (fromState, toState) { return parseFloat(toState) > parseFloat(fromState); };\n        case ':decrement':\n            return function (fromState, toState) { return parseFloat(toState) < parseFloat(fromState); };\n        default:\n            errors.push(\"The transition alias value \\\"\" + alias + \"\\\" is not supported\");\n            return '* => *';\n    }\n}\n// DO NOT REFACTOR ... keep the follow set instantiations\n// with the values intact (closure compiler for some reason\n// removes follow-up lines that add the values outside of\n// the constructor...\nvar TRUE_BOOLEAN_VALUES = /*@__PURE__*/ new Set(['true', '1']);\nvar FALSE_BOOLEAN_VALUES = /*@__PURE__*/ new Set(['false', '0']);\n/**\n * @param {?} lhs\n * @param {?} rhs\n * @return {?}\n */\nfunction makeLambdaFromStates(lhs, rhs) {\n    var /** @type {?} */ LHS_MATCH_BOOLEAN = TRUE_BOOLEAN_VALUES.has(lhs) || FALSE_BOOLEAN_VALUES.has(lhs);\n    var /** @type {?} */ RHS_MATCH_BOOLEAN = TRUE_BOOLEAN_VALUES.has(rhs) || FALSE_BOOLEAN_VALUES.has(rhs);\n    return function (fromState, toState) {\n        var /** @type {?} */ lhsMatch = lhs == ANY_STATE || lhs == fromState;\n        var /** @type {?} */ rhsMatch = rhs == ANY_STATE || rhs == toState;\n        if (!lhsMatch && LHS_MATCH_BOOLEAN && typeof fromState === 'boolean') {\n            lhsMatch = fromState ? TRUE_BOOLEAN_VALUES.has(lhs) : FALSE_BOOLEAN_VALUES.has(lhs);\n        }\n        if (!rhsMatch && RHS_MATCH_BOOLEAN && typeof toState === 'boolean') {\n            rhsMatch = toState ? TRUE_BOOLEAN_VALUES.has(rhs) : FALSE_BOOLEAN_VALUES.has(rhs);\n        }\n        return lhsMatch && rhsMatch;\n    };\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar SELF_TOKEN = ':self';\nvar SELF_TOKEN_REGEX = /*@__PURE__*/ new RegExp(\"s*\" + SELF_TOKEN + \"s*,?\", 'g');\n/**\n * @param {?} driver\n * @param {?} metadata\n * @param {?} errors\n * @return {?}\n */\nfunction buildAnimationAst(driver, metadata, errors) {\n    return new AnimationAstBuilderVisitor(driver).build(metadata, errors);\n}\nvar ROOT_SELECTOR = '';\nvar AnimationAstBuilderVisitor = /*@__PURE__*/ (function () {\n    function AnimationAstBuilderVisitor(_driver) {\n        this._driver = _driver;\n    }\n    /**\n     * @param {?} metadata\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.build = /**\n     * @param {?} metadata\n     * @param {?} errors\n     * @return {?}\n     */\n        function (metadata, errors) {\n            var /** @type {?} */ context = new AnimationAstBuilderContext(errors);\n            this._resetContextStyleTimingState(context);\n            return /** @type {?} */ (visitDslNode(this, normalizeAnimationEntry(metadata), context));\n        };\n    /**\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype._resetContextStyleTimingState = /**\n     * @param {?} context\n     * @return {?}\n     */\n        function (context) {\n            context.currentQuerySelector = ROOT_SELECTOR;\n            context.collectedStyles = {};\n            context.collectedStyles[ROOT_SELECTOR] = {};\n            context.currentTime = 0;\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitTrigger = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var _this = this;\n            var /** @type {?} */ queryCount = context.queryCount = 0;\n            var /** @type {?} */ depCount = context.depCount = 0;\n            var /** @type {?} */ states = [];\n            var /** @type {?} */ transitions = [];\n            if (metadata.name.charAt(0) == '@') {\n                context.errors.push('animation triggers cannot be prefixed with an `@` sign (e.g. trigger(\\'@foo\\', [...]))');\n            }\n            metadata.definitions.forEach(function (def) {\n                _this._resetContextStyleTimingState(context);\n                if (def.type == 0 /* State */) {\n                    var /** @type {?} */ stateDef_1 = (def);\n                    var /** @type {?} */ name_1 = stateDef_1.name;\n                    name_1.split(/\\s*,\\s*/).forEach(function (n) {\n                        stateDef_1.name = n;\n                        states.push(_this.visitState(stateDef_1, context));\n                    });\n                    stateDef_1.name = name_1;\n                }\n                else if (def.type == 1 /* Transition */) {\n                    var /** @type {?} */ transition = _this.visitTransition(/** @type {?} */ (def), context);\n                    queryCount += transition.queryCount;\n                    depCount += transition.depCount;\n                    transitions.push(transition);\n                }\n                else {\n                    context.errors.push('only state() and transition() definitions can sit inside of a trigger()');\n                }\n            });\n            return {\n                type: 7 /* Trigger */,\n                name: metadata.name, states: states, transitions: transitions, queryCount: queryCount, depCount: depCount,\n                options: null\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitState = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var /** @type {?} */ styleAst = this.visitStyle(metadata.styles, context);\n            var /** @type {?} */ astParams = (metadata.options && metadata.options.params) || null;\n            if (styleAst.containsDynamicStyles) {\n                var /** @type {?} */ missingSubs_1 = new Set();\n                var /** @type {?} */ params_1 = astParams || {};\n                styleAst.styles.forEach(function (value) {\n                    if (isObject(value)) {\n                        var /** @type {?} */ stylesObj_1 = (value);\n                        Object.keys(stylesObj_1).forEach(function (prop) {\n                            extractStyleParams(stylesObj_1[prop]).forEach(function (sub) {\n                                if (!params_1.hasOwnProperty(sub)) {\n                                    missingSubs_1.add(sub);\n                                }\n                            });\n                        });\n                    }\n                });\n                if (missingSubs_1.size) {\n                    var /** @type {?} */ missingSubsArr = iteratorToArray(missingSubs_1.values());\n                    context.errors.push(\"state(\\\"\" + metadata.name + \"\\\", ...) must define default values for all the following style substitutions: \" + missingSubsArr.join(', '));\n                }\n            }\n            return {\n                type: 0 /* State */,\n                name: metadata.name,\n                style: styleAst,\n                options: astParams ? { params: astParams } : null\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitTransition = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            context.queryCount = 0;\n            context.depCount = 0;\n            var /** @type {?} */ animation = visitDslNode(this, normalizeAnimationEntry(metadata.animation), context);\n            var /** @type {?} */ matchers = parseTransitionExpr(metadata.expr, context.errors);\n            return {\n                type: 1 /* Transition */,\n                matchers: matchers,\n                animation: animation,\n                queryCount: context.queryCount,\n                depCount: context.depCount,\n                options: normalizeAnimationOptions(metadata.options)\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitSequence = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var _this = this;\n            return {\n                type: 2 /* Sequence */,\n                steps: metadata.steps.map(function (s) { return visitDslNode(_this, s, context); }),\n                options: normalizeAnimationOptions(metadata.options)\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitGroup = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var _this = this;\n            var /** @type {?} */ currentTime = context.currentTime;\n            var /** @type {?} */ furthestTime = 0;\n            var /** @type {?} */ steps = metadata.steps.map(function (step) {\n                context.currentTime = currentTime;\n                var /** @type {?} */ innerAst = visitDslNode(_this, step, context);\n                furthestTime = Math.max(furthestTime, context.currentTime);\n                return innerAst;\n            });\n            context.currentTime = furthestTime;\n            return {\n                type: 3 /* Group */,\n                steps: steps,\n                options: normalizeAnimationOptions(metadata.options)\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitAnimate = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var /** @type {?} */ timingAst = constructTimingAst(metadata.timings, context.errors);\n            context.currentAnimateTimings = timingAst;\n            var /** @type {?} */ styleAst;\n            var /** @type {?} */ styleMetadata = metadata.styles ? metadata.styles : style({});\n            if (styleMetadata.type == 5 /* Keyframes */) {\n                styleAst = this.visitKeyframes(/** @type {?} */ (styleMetadata), context);\n            }\n            else {\n                var /** @type {?} */ styleMetadata_1 = (metadata.styles);\n                var /** @type {?} */ isEmpty = false;\n                if (!styleMetadata_1) {\n                    isEmpty = true;\n                    var /** @type {?} */ newStyleData = {};\n                    if (timingAst.easing) {\n                        newStyleData['easing'] = timingAst.easing;\n                    }\n                    styleMetadata_1 = style(newStyleData);\n                }\n                context.currentTime += timingAst.duration + timingAst.delay;\n                var /** @type {?} */ _styleAst = this.visitStyle(styleMetadata_1, context);\n                _styleAst.isEmptyStep = isEmpty;\n                styleAst = _styleAst;\n            }\n            context.currentAnimateTimings = null;\n            return {\n                type: 4 /* Animate */,\n                timings: timingAst,\n                style: styleAst,\n                options: null\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitStyle = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var /** @type {?} */ ast = this._makeStyleAst(metadata, context);\n            this._validateStyleAst(ast, context);\n            return ast;\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype._makeStyleAst = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var /** @type {?} */ styles = [];\n            if (Array.isArray(metadata.styles)) {\n                ((metadata.styles)).forEach(function (styleTuple) {\n                    if (typeof styleTuple == 'string') {\n                        if (styleTuple == AUTO_STYLE) {\n                            styles.push(/** @type {?} */ (styleTuple));\n                        }\n                        else {\n                            context.errors.push(\"The provided style string value \" + styleTuple + \" is not allowed.\");\n                        }\n                    }\n                    else {\n                        styles.push(/** @type {?} */ (styleTuple));\n                    }\n                });\n            }\n            else {\n                styles.push(metadata.styles);\n            }\n            var /** @type {?} */ containsDynamicStyles = false;\n            var /** @type {?} */ collectedEasing = null;\n            styles.forEach(function (styleData) {\n                if (isObject(styleData)) {\n                    var /** @type {?} */ styleMap = (styleData);\n                    var /** @type {?} */ easing = styleMap['easing'];\n                    if (easing) {\n                        collectedEasing = /** @type {?} */ (easing);\n                        delete styleMap['easing'];\n                    }\n                    if (!containsDynamicStyles) {\n                        for (var /** @type {?} */ prop in styleMap) {\n                            var /** @type {?} */ value = styleMap[prop];\n                            if (value.toString().indexOf(SUBSTITUTION_EXPR_START) >= 0) {\n                                containsDynamicStyles = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n            });\n            return {\n                type: 6 /* Style */,\n                styles: styles,\n                easing: collectedEasing,\n                offset: metadata.offset, containsDynamicStyles: containsDynamicStyles,\n                options: null\n            };\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype._validateStyleAst = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var _this = this;\n            var /** @type {?} */ timings = context.currentAnimateTimings;\n            var /** @type {?} */ endTime = context.currentTime;\n            var /** @type {?} */ startTime = context.currentTime;\n            if (timings && startTime > 0) {\n                startTime -= timings.duration + timings.delay;\n            }\n            ast.styles.forEach(function (tuple) {\n                if (typeof tuple == 'string')\n                    return;\n                Object.keys(tuple).forEach(function (prop) {\n                    if (!_this._driver.validateStyleProperty(prop)) {\n                        context.errors.push(\"The provided animation property \\\"\" + prop + \"\\\" is not a supported CSS property for animations\");\n                        return;\n                    }\n                    var /** @type {?} */ collectedStyles = context.collectedStyles[((context.currentQuerySelector))];\n                    var /** @type {?} */ collectedEntry = collectedStyles[prop];\n                    var /** @type {?} */ updateCollectedStyle = true;\n                    if (collectedEntry) {\n                        if (startTime != endTime && startTime >= collectedEntry.startTime &&\n                            endTime <= collectedEntry.endTime) {\n                            context.errors.push(\"The CSS property \\\"\" + prop + \"\\\" that exists between the times of \\\"\" + collectedEntry.startTime + \"ms\\\" and \\\"\" + collectedEntry.endTime + \"ms\\\" is also being animated in a parallel animation between the times of \\\"\" + startTime + \"ms\\\" and \\\"\" + endTime + \"ms\\\"\");\n                            updateCollectedStyle = false;\n                        }\n                        // we always choose the smaller start time value since we\n                        // want to have a record of the entire animation window where\n                        // the style property is being animated in between\n                        startTime = collectedEntry.startTime;\n                    }\n                    if (updateCollectedStyle) {\n                        collectedStyles[prop] = { startTime: startTime, endTime: endTime };\n                    }\n                    if (context.options) {\n                        validateStyleParams(tuple[prop], context.options, context.errors);\n                    }\n                });\n            });\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitKeyframes = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var _this = this;\n            var /** @type {?} */ ast = { type: 5 /* Keyframes */, styles: [], options: null };\n            if (!context.currentAnimateTimings) {\n                context.errors.push(\"keyframes() must be placed inside of a call to animate()\");\n                return ast;\n            }\n            var /** @type {?} */ MAX_KEYFRAME_OFFSET = 1;\n            var /** @type {?} */ totalKeyframesWithOffsets = 0;\n            var /** @type {?} */ offsets = [];\n            var /** @type {?} */ offsetsOutOfOrder = false;\n            var /** @type {?} */ keyframesOutOfRange = false;\n            var /** @type {?} */ previousOffset = 0;\n            var /** @type {?} */ keyframes = metadata.steps.map(function (styles) {\n                var /** @type {?} */ style$$1 = _this._makeStyleAst(styles, context);\n                var /** @type {?} */ offsetVal = style$$1.offset != null ? style$$1.offset : consumeOffset(style$$1.styles);\n                var /** @type {?} */ offset = 0;\n                if (offsetVal != null) {\n                    totalKeyframesWithOffsets++;\n                    offset = style$$1.offset = offsetVal;\n                }\n                keyframesOutOfRange = keyframesOutOfRange || offset < 0 || offset > 1;\n                offsetsOutOfOrder = offsetsOutOfOrder || offset < previousOffset;\n                previousOffset = offset;\n                offsets.push(offset);\n                return style$$1;\n            });\n            if (keyframesOutOfRange) {\n                context.errors.push(\"Please ensure that all keyframe offsets are between 0 and 1\");\n            }\n            if (offsetsOutOfOrder) {\n                context.errors.push(\"Please ensure that all keyframe offsets are in order\");\n            }\n            var /** @type {?} */ length = metadata.steps.length;\n            var /** @type {?} */ generatedOffset = 0;\n            if (totalKeyframesWithOffsets > 0 && totalKeyframesWithOffsets < length) {\n                context.errors.push(\"Not all style() steps within the declared keyframes() contain offsets\");\n            }\n            else if (totalKeyframesWithOffsets == 0) {\n                generatedOffset = MAX_KEYFRAME_OFFSET / (length - 1);\n            }\n            var /** @type {?} */ limit = length - 1;\n            var /** @type {?} */ currentTime = context.currentTime;\n            var /** @type {?} */ currentAnimateTimings = ((context.currentAnimateTimings));\n            var /** @type {?} */ animateDuration = currentAnimateTimings.duration;\n            keyframes.forEach(function (kf, i) {\n                var /** @type {?} */ offset = generatedOffset > 0 ? (i == limit ? 1 : (generatedOffset * i)) : offsets[i];\n                var /** @type {?} */ durationUpToThisFrame = offset * animateDuration;\n                context.currentTime = currentTime + currentAnimateTimings.delay + durationUpToThisFrame;\n                currentAnimateTimings.duration = durationUpToThisFrame;\n                _this._validateStyleAst(kf, context);\n                kf.offset = offset;\n                ast.styles.push(kf);\n            });\n            return ast;\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitReference = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            return {\n                type: 8 /* Reference */,\n                animation: visitDslNode(this, normalizeAnimationEntry(metadata.animation), context),\n                options: normalizeAnimationOptions(metadata.options)\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitAnimateChild = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            context.depCount++;\n            return {\n                type: 9 /* AnimateChild */,\n                options: normalizeAnimationOptions(metadata.options)\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitAnimateRef = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            return {\n                type: 10 /* AnimateRef */,\n                animation: this.visitReference(metadata.animation, context),\n                options: normalizeAnimationOptions(metadata.options)\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitQuery = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            var /** @type {?} */ parentSelector = ((context.currentQuerySelector));\n            var /** @type {?} */ options = ((metadata.options || {}));\n            context.queryCount++;\n            context.currentQuery = metadata;\n            var _a = normalizeSelector(metadata.selector), selector = _a[0], includeSelf = _a[1];\n            context.currentQuerySelector =\n                parentSelector.length ? (parentSelector + ' ' + selector) : selector;\n            getOrSetAsInMap(context.collectedStyles, context.currentQuerySelector, {});\n            var /** @type {?} */ animation = visitDslNode(this, normalizeAnimationEntry(metadata.animation), context);\n            context.currentQuery = null;\n            context.currentQuerySelector = parentSelector;\n            return {\n                type: 11 /* Query */,\n                selector: selector,\n                limit: options.limit || 0,\n                optional: !!options.optional, includeSelf: includeSelf, animation: animation,\n                originalSelector: metadata.selector,\n                options: normalizeAnimationOptions(metadata.options)\n            };\n        };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitStagger = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n        function (metadata, context) {\n            if (!context.currentQuery) {\n                context.errors.push(\"stagger() can only be used inside of query()\");\n            }\n            var /** @type {?} */ timings = metadata.timings === 'full' ?\n                { duration: 0, delay: 0, easing: 'full' } :\n                resolveTiming(metadata.timings, context.errors, true);\n            return {\n                type: 12 /* Stagger */,\n                animation: visitDslNode(this, normalizeAnimationEntry(metadata.animation), context), timings: timings,\n                options: null\n            };\n        };\n    return AnimationAstBuilderVisitor;\n}());\n/**\n * @param {?} selector\n * @return {?}\n */\nfunction normalizeSelector(selector) {\n    var /** @type {?} */ hasAmpersand = selector.split(/\\s*,\\s*/).find(function (token) { return token == SELF_TOKEN; }) ? true : false;\n    if (hasAmpersand) {\n        selector = selector.replace(SELF_TOKEN_REGEX, '');\n    }\n    // the :enter and :leave selectors are filled in at runtime during timeline building\n    selector = selector.replace(/@\\*/g, NG_TRIGGER_SELECTOR)\n        .replace(/@\\w+/g, function (match) { return NG_TRIGGER_SELECTOR + '-' + match.substr(1); })\n        .replace(/:animating/g, NG_ANIMATING_SELECTOR);\n    return [selector, hasAmpersand];\n}\n/**\n * @param {?} obj\n * @return {?}\n */\nfunction normalizeParams(obj) {\n    return obj ? copyObj(obj) : null;\n}\nvar AnimationAstBuilderContext = /*@__PURE__*/ (function () {\n    function AnimationAstBuilderContext(errors) {\n        this.errors = errors;\n        this.queryCount = 0;\n        this.depCount = 0;\n        this.currentTransition = null;\n        this.currentQuery = null;\n        this.currentQuerySelector = null;\n        this.currentAnimateTimings = null;\n        this.currentTime = 0;\n        this.collectedStyles = {};\n        this.options = null;\n    }\n    return AnimationAstBuilderContext;\n}());\n/**\n * @param {?} styles\n * @return {?}\n */\nfunction consumeOffset(styles) {\n    if (typeof styles == 'string')\n        return null;\n    var /** @type {?} */ offset = null;\n    if (Array.isArray(styles)) {\n        styles.forEach(function (styleTuple) {\n            if (isObject(styleTuple) && styleTuple.hasOwnProperty('offset')) {\n                var /** @type {?} */ obj = (styleTuple);\n                offset = parseFloat(/** @type {?} */ (obj['offset']));\n                delete obj['offset'];\n            }\n        });\n    }\n    else if (isObject(styles) && styles.hasOwnProperty('offset')) {\n        var /** @type {?} */ obj = (styles);\n        offset = parseFloat(/** @type {?} */ (obj['offset']));\n        delete obj['offset'];\n    }\n    return offset;\n}\n/**\n * @param {?} value\n * @return {?}\n */\nfunction isObject(value) {\n    return !Array.isArray(value) && typeof value == 'object';\n}\n/**\n * @param {?} value\n * @param {?} errors\n * @return {?}\n */\nfunction constructTimingAst(value, errors) {\n    var /** @type {?} */ timings = null;\n    if (value.hasOwnProperty('duration')) {\n        timings = /** @type {?} */ (value);\n    }\n    else if (typeof value == 'number') {\n        var /** @type {?} */ duration = resolveTiming(/** @type {?} */ (value), errors).duration;\n        return makeTimingAst(/** @type {?} */ (duration), 0, '');\n    }\n    var /** @type {?} */ strValue = (value);\n    var /** @type {?} */ isDynamic = strValue.split(/\\s+/).some(function (v) { return v.charAt(0) == '{' && v.charAt(1) == '{'; });\n    if (isDynamic) {\n        var /** @type {?} */ ast = (makeTimingAst(0, 0, ''));\n        ast.dynamic = true;\n        ast.strValue = strValue;\n        return /** @type {?} */ (ast);\n    }\n    timings = timings || resolveTiming(strValue, errors);\n    return makeTimingAst(timings.duration, timings.delay, timings.easing);\n}\n/**\n * @param {?} options\n * @return {?}\n */\nfunction normalizeAnimationOptions(options) {\n    if (options) {\n        options = copyObj(options);\n        if (options['params']) {\n            options['params'] = /** @type {?} */ ((normalizeParams(options['params'])));\n        }\n    }\n    else {\n        options = {};\n    }\n    return options;\n}\n/**\n * @param {?} duration\n * @param {?} delay\n * @param {?} easing\n * @return {?}\n */\nfunction makeTimingAst(duration, delay, easing) {\n    return { duration: duration, delay: delay, easing: easing };\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @record\n */\n/**\n * @param {?} element\n * @param {?} keyframes\n * @param {?} preStyleProps\n * @param {?} postStyleProps\n * @param {?} duration\n * @param {?} delay\n * @param {?=} easing\n * @param {?=} subTimeline\n * @return {?}\n */\nfunction createTimelineInstruction(element, keyframes, preStyleProps, postStyleProps, duration, delay, easing, subTimeline) {\n    if (easing === void 0) {\n        easing = null;\n    }\n    if (subTimeline === void 0) {\n        subTimeline = false;\n    }\n    return {\n        type: 1 /* TimelineAnimation */,\n        element: element,\n        keyframes: keyframes,\n        preStyleProps: preStyleProps,\n        postStyleProps: postStyleProps,\n        duration: duration,\n        delay: delay,\n        totalTime: duration + delay, easing: easing, subTimeline: subTimeline\n    };\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar ElementInstructionMap = /*@__PURE__*/ (function () {\n    function ElementInstructionMap() {\n        this._map = new Map();\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.consume = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            var /** @type {?} */ instructions = this._map.get(element);\n            if (instructions) {\n                this._map.delete(element);\n            }\n            else {\n                instructions = [];\n            }\n            return instructions;\n        };\n    /**\n     * @param {?} element\n     * @param {?} instructions\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.append = /**\n     * @param {?} element\n     * @param {?} instructions\n     * @return {?}\n     */\n        function (element, instructions) {\n            var /** @type {?} */ existingInstructions = this._map.get(element);\n            if (!existingInstructions) {\n                this._map.set(element, existingInstructions = []);\n            }\n            existingInstructions.push.apply(existingInstructions, instructions);\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.has = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) { return this._map.has(element); };\n    /**\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.clear = /**\n     * @return {?}\n     */\n        function () { this._map.clear(); };\n    return ElementInstructionMap;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar ONE_FRAME_IN_MILLISECONDS = 1;\nvar ENTER_TOKEN = ':enter';\nvar ENTER_TOKEN_REGEX = /*@__PURE__*/ new RegExp(ENTER_TOKEN, 'g');\nvar LEAVE_TOKEN = ':leave';\nvar LEAVE_TOKEN_REGEX = /*@__PURE__*/ new RegExp(LEAVE_TOKEN, 'g');\n/**\n * @param {?} driver\n * @param {?} rootElement\n * @param {?} ast\n * @param {?} enterClassName\n * @param {?} leaveClassName\n * @param {?=} startingStyles\n * @param {?=} finalStyles\n * @param {?=} options\n * @param {?=} subInstructions\n * @param {?=} errors\n * @return {?}\n */\nfunction buildAnimationTimelines(driver, rootElement, ast, enterClassName, leaveClassName, startingStyles, finalStyles, options, subInstructions, errors) {\n    if (startingStyles === void 0) {\n        startingStyles = {};\n    }\n    if (finalStyles === void 0) {\n        finalStyles = {};\n    }\n    if (errors === void 0) {\n        errors = [];\n    }\n    return new AnimationTimelineBuilderVisitor().buildKeyframes(driver, rootElement, ast, enterClassName, leaveClassName, startingStyles, finalStyles, options, subInstructions, errors);\n}\nvar AnimationTimelineBuilderVisitor = /*@__PURE__*/ (function () {\n    function AnimationTimelineBuilderVisitor() {\n    }\n    /**\n     * @param {?} driver\n     * @param {?} rootElement\n     * @param {?} ast\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?} startingStyles\n     * @param {?} finalStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @param {?=} errors\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.buildKeyframes = /**\n     * @param {?} driver\n     * @param {?} rootElement\n     * @param {?} ast\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?} startingStyles\n     * @param {?} finalStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @param {?=} errors\n     * @return {?}\n     */\n        function (driver, rootElement, ast, enterClassName, leaveClassName, startingStyles, finalStyles, options, subInstructions, errors) {\n            if (errors === void 0) {\n                errors = [];\n            }\n            subInstructions = subInstructions || new ElementInstructionMap();\n            var /** @type {?} */ context = new AnimationTimelineContext(driver, rootElement, subInstructions, enterClassName, leaveClassName, errors, []);\n            context.options = options;\n            context.currentTimeline.setStyles([startingStyles], null, context.errors, options);\n            visitDslNode(this, ast, context);\n            // this checks to see if an actual animation happened\n            var /** @type {?} */ timelines = context.timelines.filter(function (timeline) { return timeline.containsAnimation(); });\n            if (timelines.length && Object.keys(finalStyles).length) {\n                var /** @type {?} */ tl = timelines[timelines.length - 1];\n                if (!tl.allowOnlyTimelineStyles()) {\n                    tl.setStyles([finalStyles], null, context.errors, options);\n                }\n            }\n            return timelines.length ? timelines.map(function (timeline) { return timeline.buildKeyframes(); }) :\n                [createTimelineInstruction(rootElement, [], [], [], 0, 0, '', false)];\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitTrigger = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            // these values are not visited in this AST\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitState = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            // these values are not visited in this AST\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitTransition = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            // these values are not visited in this AST\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitAnimateChild = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var /** @type {?} */ elementInstructions = context.subInstructions.consume(context.element);\n            if (elementInstructions) {\n                var /** @type {?} */ innerContext = context.createSubContext(ast.options);\n                var /** @type {?} */ startTime = context.currentTimeline.currentTime;\n                var /** @type {?} */ endTime = this._visitSubInstructions(elementInstructions, innerContext, /** @type {?} */ (innerContext.options));\n                if (startTime != endTime) {\n                    // we do this on the upper context because we created a sub context for\n                    // the sub child animations\n                    context.transformIntoNewTimeline(endTime);\n                }\n            }\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitAnimateRef = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var /** @type {?} */ innerContext = context.createSubContext(ast.options);\n            innerContext.transformIntoNewTimeline();\n            this.visitReference(ast.animation, innerContext);\n            context.transformIntoNewTimeline(innerContext.currentTimeline.currentTime);\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} instructions\n     * @param {?} context\n     * @param {?} options\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype._visitSubInstructions = /**\n     * @param {?} instructions\n     * @param {?} context\n     * @param {?} options\n     * @return {?}\n     */\n        function (instructions, context, options) {\n            var /** @type {?} */ startTime = context.currentTimeline.currentTime;\n            var /** @type {?} */ furthestTime = startTime;\n            // this is a special-case for when a user wants to skip a sub\n            // animation from being fired entirely.\n            var /** @type {?} */ duration = options.duration != null ? resolveTimingValue(options.duration) : null;\n            var /** @type {?} */ delay = options.delay != null ? resolveTimingValue(options.delay) : null;\n            if (duration !== 0) {\n                instructions.forEach(function (instruction) {\n                    var /** @type {?} */ instructionTimings = context.appendInstructionToTimeline(instruction, duration, delay);\n                    furthestTime =\n                        Math.max(furthestTime, instructionTimings.duration + instructionTimings.delay);\n                });\n            }\n            return furthestTime;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitReference = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            context.updateOptions(ast.options, true);\n            visitDslNode(this, ast.animation, context);\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitSequence = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var _this = this;\n            var /** @type {?} */ subContextCount = context.subContextCount;\n            var /** @type {?} */ ctx = context;\n            var /** @type {?} */ options = ast.options;\n            if (options && (options.params || options.delay)) {\n                ctx = context.createSubContext(options);\n                ctx.transformIntoNewTimeline();\n                if (options.delay != null) {\n                    if (ctx.previousNode.type == 6 /* Style */) {\n                        ctx.currentTimeline.snapshotCurrentStyles();\n                        ctx.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n                    }\n                    var /** @type {?} */ delay = resolveTimingValue(options.delay);\n                    ctx.delayNextStep(delay);\n                }\n            }\n            if (ast.steps.length) {\n                ast.steps.forEach(function (s) { return visitDslNode(_this, s, ctx); });\n                // this is here just incase the inner steps only contain or end with a style() call\n                ctx.currentTimeline.applyStylesToKeyframe();\n                // this means that some animation function within the sequence\n                // ended up creating a sub timeline (which means the current\n                // timeline cannot overlap with the contents of the sequence)\n                if (ctx.subContextCount > subContextCount) {\n                    ctx.transformIntoNewTimeline();\n                }\n            }\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitGroup = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var _this = this;\n            var /** @type {?} */ innerTimelines = [];\n            var /** @type {?} */ furthestTime = context.currentTimeline.currentTime;\n            var /** @type {?} */ delay = ast.options && ast.options.delay ? resolveTimingValue(ast.options.delay) : 0;\n            ast.steps.forEach(function (s) {\n                var /** @type {?} */ innerContext = context.createSubContext(ast.options);\n                if (delay) {\n                    innerContext.delayNextStep(delay);\n                }\n                visitDslNode(_this, s, innerContext);\n                furthestTime = Math.max(furthestTime, innerContext.currentTimeline.currentTime);\n                innerTimelines.push(innerContext.currentTimeline);\n            });\n            // this operation is run after the AST loop because otherwise\n            // if the parent timeline's collected styles were updated then\n            // it would pass in invalid data into the new-to-be forked items\n            innerTimelines.forEach(function (timeline) { return context.currentTimeline.mergeTimelineCollectedStyles(timeline); });\n            context.transformIntoNewTimeline(furthestTime);\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype._visitTiming = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            if (((ast)).dynamic) {\n                var /** @type {?} */ strValue = ((ast)).strValue;\n                var /** @type {?} */ timingValue = context.params ? interpolateParams(strValue, context.params, context.errors) : strValue;\n                return resolveTiming(timingValue, context.errors);\n            }\n            else {\n                return { duration: ast.duration, delay: ast.delay, easing: ast.easing };\n            }\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitAnimate = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var /** @type {?} */ timings = context.currentAnimateTimings = this._visitTiming(ast.timings, context);\n            var /** @type {?} */ timeline = context.currentTimeline;\n            if (timings.delay) {\n                context.incrementTime(timings.delay);\n                timeline.snapshotCurrentStyles();\n            }\n            var /** @type {?} */ style$$1 = ast.style;\n            if (style$$1.type == 5 /* Keyframes */) {\n                this.visitKeyframes(style$$1, context);\n            }\n            else {\n                context.incrementTime(timings.duration);\n                this.visitStyle(/** @type {?} */ (style$$1), context);\n                timeline.applyStylesToKeyframe();\n            }\n            context.currentAnimateTimings = null;\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitStyle = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var /** @type {?} */ timeline = context.currentTimeline;\n            var /** @type {?} */ timings = ((context.currentAnimateTimings));\n            // this is a special case for when a style() call\n            // directly follows  an animate() call (but not inside of an animate() call)\n            if (!timings && timeline.getCurrentStyleProperties().length) {\n                timeline.forwardFrame();\n            }\n            var /** @type {?} */ easing = (timings && timings.easing) || ast.easing;\n            if (ast.isEmptyStep) {\n                timeline.applyEmptyStep(easing);\n            }\n            else {\n                timeline.setStyles(ast.styles, easing, context.errors, context.options);\n            }\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitKeyframes = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var /** @type {?} */ currentAnimateTimings = ((context.currentAnimateTimings));\n            var /** @type {?} */ startTime = (((context.currentTimeline))).duration;\n            var /** @type {?} */ duration = currentAnimateTimings.duration;\n            var /** @type {?} */ innerContext = context.createSubContext();\n            var /** @type {?} */ innerTimeline = innerContext.currentTimeline;\n            innerTimeline.easing = currentAnimateTimings.easing;\n            ast.styles.forEach(function (step) {\n                var /** @type {?} */ offset = step.offset || 0;\n                innerTimeline.forwardTime(offset * duration);\n                innerTimeline.setStyles(step.styles, step.easing, context.errors, context.options);\n                innerTimeline.applyStylesToKeyframe();\n            });\n            // this will ensure that the parent timeline gets all the styles from\n            // the child even if the new timeline below is not used\n            context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline);\n            // we do this because the window between this timeline and the sub timeline\n            // should ensure that the styles within are exactly the same as they were before\n            context.transformIntoNewTimeline(startTime + duration);\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitQuery = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var _this = this;\n            // in the event that the first step before this is a style step we need\n            // to ensure the styles are applied before the children are animated\n            var /** @type {?} */ startTime = context.currentTimeline.currentTime;\n            var /** @type {?} */ options = ((ast.options || {}));\n            var /** @type {?} */ delay = options.delay ? resolveTimingValue(options.delay) : 0;\n            if (delay && (context.previousNode.type === 6 /* Style */ ||\n                (startTime == 0 && context.currentTimeline.getCurrentStyleProperties().length))) {\n                context.currentTimeline.snapshotCurrentStyles();\n                context.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n            }\n            var /** @type {?} */ furthestTime = startTime;\n            var /** @type {?} */ elms = context.invokeQuery(ast.selector, ast.originalSelector, ast.limit, ast.includeSelf, options.optional ? true : false, context.errors);\n            context.currentQueryTotal = elms.length;\n            var /** @type {?} */ sameElementTimeline = null;\n            elms.forEach(function (element, i) {\n                context.currentQueryIndex = i;\n                var /** @type {?} */ innerContext = context.createSubContext(ast.options, element);\n                if (delay) {\n                    innerContext.delayNextStep(delay);\n                }\n                if (element === context.element) {\n                    sameElementTimeline = innerContext.currentTimeline;\n                }\n                visitDslNode(_this, ast.animation, innerContext);\n                // this is here just incase the inner steps only contain or end\n                // with a style() call (which is here to signal that this is a preparatory\n                // call to style an element before it is animated again)\n                innerContext.currentTimeline.applyStylesToKeyframe();\n                var /** @type {?} */ endTime = innerContext.currentTimeline.currentTime;\n                furthestTime = Math.max(furthestTime, endTime);\n            });\n            context.currentQueryIndex = 0;\n            context.currentQueryTotal = 0;\n            context.transformIntoNewTimeline(furthestTime);\n            if (sameElementTimeline) {\n                context.currentTimeline.mergeTimelineCollectedStyles(sameElementTimeline);\n                context.currentTimeline.snapshotCurrentStyles();\n            }\n            context.previousNode = ast;\n        };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitStagger = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n        function (ast, context) {\n            var /** @type {?} */ parentContext = ((context.parentContext));\n            var /** @type {?} */ tl = context.currentTimeline;\n            var /** @type {?} */ timings = ast.timings;\n            var /** @type {?} */ duration = Math.abs(timings.duration);\n            var /** @type {?} */ maxTime = duration * (context.currentQueryTotal - 1);\n            var /** @type {?} */ delay = duration * context.currentQueryIndex;\n            var /** @type {?} */ staggerTransformer = timings.duration < 0 ? 'reverse' : timings.easing;\n            switch (staggerTransformer) {\n                case 'reverse':\n                    delay = maxTime - delay;\n                    break;\n                case 'full':\n                    delay = parentContext.currentStaggerTime;\n                    break;\n            }\n            var /** @type {?} */ timeline = context.currentTimeline;\n            if (delay) {\n                timeline.delayNextStep(delay);\n            }\n            var /** @type {?} */ startingTime = timeline.currentTime;\n            visitDslNode(this, ast.animation, context);\n            context.previousNode = ast;\n            // time = duration + delay\n            // the reason why this computation is so complex is because\n            // the inner timeline may either have a delay value or a stretched\n            // keyframe depending on if a subtimeline is not used or is used.\n            parentContext.currentStaggerTime =\n                (tl.currentTime - startingTime) + (tl.startTime - parentContext.currentTimeline.startTime);\n        };\n    return AnimationTimelineBuilderVisitor;\n}());\nvar DEFAULT_NOOP_PREVIOUS_NODE = ({});\nvar AnimationTimelineContext = /*@__PURE__*/ (function () {\n    function AnimationTimelineContext(_driver, element, subInstructions, _enterClassName, _leaveClassName, errors, timelines, initialTimeline) {\n        this._driver = _driver;\n        this.element = element;\n        this.subInstructions = subInstructions;\n        this._enterClassName = _enterClassName;\n        this._leaveClassName = _leaveClassName;\n        this.errors = errors;\n        this.timelines = timelines;\n        this.parentContext = null;\n        this.currentAnimateTimings = null;\n        this.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n        this.subContextCount = 0;\n        this.options = {};\n        this.currentQueryIndex = 0;\n        this.currentQueryTotal = 0;\n        this.currentStaggerTime = 0;\n        this.currentTimeline = initialTimeline || new TimelineBuilder(this._driver, element, 0);\n        timelines.push(this.currentTimeline);\n    }\n    Object.defineProperty(AnimationTimelineContext.prototype, \"params\", {\n        get: /**\n         * @return {?}\n         */ function () { return this.options.params; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} options\n     * @param {?=} skipIfExists\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.updateOptions = /**\n     * @param {?} options\n     * @param {?=} skipIfExists\n     * @return {?}\n     */\n        function (options, skipIfExists) {\n            var _this = this;\n            if (!options)\n                return;\n            var /** @type {?} */ newOptions = (options);\n            var /** @type {?} */ optionsToUpdate = this.options;\n            // NOTE: this will get patched up when other animation methods support duration overrides\n            if (newOptions.duration != null) {\n                ((optionsToUpdate)).duration = resolveTimingValue(newOptions.duration);\n            }\n            if (newOptions.delay != null) {\n                optionsToUpdate.delay = resolveTimingValue(newOptions.delay);\n            }\n            var /** @type {?} */ newParams = newOptions.params;\n            if (newParams) {\n                var /** @type {?} */ paramsToUpdate_1 = ((optionsToUpdate.params));\n                if (!paramsToUpdate_1) {\n                    paramsToUpdate_1 = this.options.params = {};\n                }\n                Object.keys(newParams).forEach(function (name) {\n                    if (!skipIfExists || !paramsToUpdate_1.hasOwnProperty(name)) {\n                        paramsToUpdate_1[name] = interpolateParams(newParams[name], paramsToUpdate_1, _this.errors);\n                    }\n                });\n            }\n        };\n    /**\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype._copyOptions = /**\n     * @return {?}\n     */\n        function () {\n            var /** @type {?} */ options = {};\n            if (this.options) {\n                var /** @type {?} */ oldParams_1 = this.options.params;\n                if (oldParams_1) {\n                    var /** @type {?} */ params_1 = options['params'] = {};\n                    Object.keys(oldParams_1).forEach(function (name) { params_1[name] = oldParams_1[name]; });\n                }\n            }\n            return options;\n        };\n    /**\n     * @param {?=} options\n     * @param {?=} element\n     * @param {?=} newTime\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.createSubContext = /**\n     * @param {?=} options\n     * @param {?=} element\n     * @param {?=} newTime\n     * @return {?}\n     */\n        function (options, element, newTime) {\n            if (options === void 0) {\n                options = null;\n            }\n            var /** @type {?} */ target = element || this.element;\n            var /** @type {?} */ context = new AnimationTimelineContext(this._driver, target, this.subInstructions, this._enterClassName, this._leaveClassName, this.errors, this.timelines, this.currentTimeline.fork(target, newTime || 0));\n            context.previousNode = this.previousNode;\n            context.currentAnimateTimings = this.currentAnimateTimings;\n            context.options = this._copyOptions();\n            context.updateOptions(options);\n            context.currentQueryIndex = this.currentQueryIndex;\n            context.currentQueryTotal = this.currentQueryTotal;\n            context.parentContext = this;\n            this.subContextCount++;\n            return context;\n        };\n    /**\n     * @param {?=} newTime\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.transformIntoNewTimeline = /**\n     * @param {?=} newTime\n     * @return {?}\n     */\n        function (newTime) {\n            this.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n            this.currentTimeline = this.currentTimeline.fork(this.element, newTime);\n            this.timelines.push(this.currentTimeline);\n            return this.currentTimeline;\n        };\n    /**\n     * @param {?} instruction\n     * @param {?} duration\n     * @param {?} delay\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.appendInstructionToTimeline = /**\n     * @param {?} instruction\n     * @param {?} duration\n     * @param {?} delay\n     * @return {?}\n     */\n        function (instruction, duration, delay) {\n            var /** @type {?} */ updatedTimings = {\n                duration: duration != null ? duration : instruction.duration,\n                delay: this.currentTimeline.currentTime + (delay != null ? delay : 0) + instruction.delay,\n                easing: ''\n            };\n            var /** @type {?} */ builder = new SubTimelineBuilder(this._driver, instruction.element, instruction.keyframes, instruction.preStyleProps, instruction.postStyleProps, updatedTimings, instruction.stretchStartingKeyframe);\n            this.timelines.push(builder);\n            return updatedTimings;\n        };\n    /**\n     * @param {?} time\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.incrementTime = /**\n     * @param {?} time\n     * @return {?}\n     */\n        function (time) {\n            this.currentTimeline.forwardTime(this.currentTimeline.duration + time);\n        };\n    /**\n     * @param {?} delay\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.delayNextStep = /**\n     * @param {?} delay\n     * @return {?}\n     */\n        function (delay) {\n            // negative delays are not yet supported\n            if (delay > 0) {\n                this.currentTimeline.delayNextStep(delay);\n            }\n        };\n    /**\n     * @param {?} selector\n     * @param {?} originalSelector\n     * @param {?} limit\n     * @param {?} includeSelf\n     * @param {?} optional\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.invokeQuery = /**\n     * @param {?} selector\n     * @param {?} originalSelector\n     * @param {?} limit\n     * @param {?} includeSelf\n     * @param {?} optional\n     * @param {?} errors\n     * @return {?}\n     */\n        function (selector, originalSelector, limit, includeSelf, optional, errors) {\n            var /** @type {?} */ results = [];\n            if (includeSelf) {\n                results.push(this.element);\n            }\n            if (selector.length > 0) {\n                // if :self is only used then the selector is empty\n                selector = selector.replace(ENTER_TOKEN_REGEX, '.' + this._enterClassName);\n                selector = selector.replace(LEAVE_TOKEN_REGEX, '.' + this._leaveClassName);\n                var /** @type {?} */ multi = limit != 1;\n                var /** @type {?} */ elements = this._driver.query(this.element, selector, multi);\n                if (limit !== 0) {\n                    elements = limit < 0 ? elements.slice(elements.length + limit, elements.length) :\n                        elements.slice(0, limit);\n                }\n                results.push.apply(results, elements);\n            }\n            if (!optional && results.length == 0) {\n                errors.push(\"`query(\\\"\" + originalSelector + \"\\\")` returned zero elements. (Use `query(\\\"\" + originalSelector + \"\\\", { optional: true })` if you wish to allow this.)\");\n            }\n            return results;\n        };\n    return AnimationTimelineContext;\n}());\nvar TimelineBuilder = /*@__PURE__*/ (function () {\n    function TimelineBuilder(_driver, element, startTime, _elementTimelineStylesLookup) {\n        this._driver = _driver;\n        this.element = element;\n        this.startTime = startTime;\n        this._elementTimelineStylesLookup = _elementTimelineStylesLookup;\n        this.duration = 0;\n        this._previousKeyframe = {};\n        this._currentKeyframe = {};\n        this._keyframes = new Map();\n        this._styleSummary = {};\n        this._pendingStyles = {};\n        this._backFill = {};\n        this._currentEmptyStepKeyframe = null;\n        if (!this._elementTimelineStylesLookup) {\n            this._elementTimelineStylesLookup = new Map();\n        }\n        this._localTimelineStyles = Object.create(this._backFill, {});\n        this._globalTimelineStyles = /** @type {?} */ ((this._elementTimelineStylesLookup.get(element)));\n        if (!this._globalTimelineStyles) {\n            this._globalTimelineStyles = this._localTimelineStyles;\n            this._elementTimelineStylesLookup.set(element, this._localTimelineStyles);\n        }\n        this._loadKeyframe();\n    }\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.containsAnimation = /**\n     * @return {?}\n     */\n        function () {\n            switch (this._keyframes.size) {\n                case 0:\n                    return false;\n                case 1:\n                    return this.getCurrentStyleProperties().length > 0;\n                default:\n                    return true;\n            }\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.getCurrentStyleProperties = /**\n     * @return {?}\n     */\n        function () { return Object.keys(this._currentKeyframe); };\n    Object.defineProperty(TimelineBuilder.prototype, \"currentTime\", {\n        get: /**\n         * @return {?}\n         */ function () { return this.startTime + this.duration; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} delay\n     * @return {?}\n     */\n    TimelineBuilder.prototype.delayNextStep = /**\n     * @param {?} delay\n     * @return {?}\n     */\n        function (delay) {\n            // in the event that a style() step is placed right before a stagger()\n            // and that style() step is the very first style() value in the animation\n            // then we need to make a copy of the keyframe [0, copy, 1] so that the delay\n            // properly applies the style() values to work with the stagger...\n            var /** @type {?} */ hasPreStyleStep = this._keyframes.size == 1 && Object.keys(this._pendingStyles).length;\n            if (this.duration || hasPreStyleStep) {\n                this.forwardTime(this.currentTime + delay);\n                if (hasPreStyleStep) {\n                    this.snapshotCurrentStyles();\n                }\n            }\n            else {\n                this.startTime += delay;\n            }\n        };\n    /**\n     * @param {?} element\n     * @param {?=} currentTime\n     * @return {?}\n     */\n    TimelineBuilder.prototype.fork = /**\n     * @param {?} element\n     * @param {?=} currentTime\n     * @return {?}\n     */\n        function (element, currentTime) {\n            this.applyStylesToKeyframe();\n            return new TimelineBuilder(this._driver, element, currentTime || this.currentTime, this._elementTimelineStylesLookup);\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype._loadKeyframe = /**\n     * @return {?}\n     */\n        function () {\n            if (this._currentKeyframe) {\n                this._previousKeyframe = this._currentKeyframe;\n            }\n            this._currentKeyframe = /** @type {?} */ ((this._keyframes.get(this.duration)));\n            if (!this._currentKeyframe) {\n                this._currentKeyframe = Object.create(this._backFill, {});\n                this._keyframes.set(this.duration, this._currentKeyframe);\n            }\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.forwardFrame = /**\n     * @return {?}\n     */\n        function () {\n            this.duration += ONE_FRAME_IN_MILLISECONDS;\n            this._loadKeyframe();\n        };\n    /**\n     * @param {?} time\n     * @return {?}\n     */\n    TimelineBuilder.prototype.forwardTime = /**\n     * @param {?} time\n     * @return {?}\n     */\n        function (time) {\n            this.applyStylesToKeyframe();\n            this.duration = time;\n            this._loadKeyframe();\n        };\n    /**\n     * @param {?} prop\n     * @param {?} value\n     * @return {?}\n     */\n    TimelineBuilder.prototype._updateStyle = /**\n     * @param {?} prop\n     * @param {?} value\n     * @return {?}\n     */\n        function (prop, value) {\n            this._localTimelineStyles[prop] = value;\n            this._globalTimelineStyles[prop] = value;\n            this._styleSummary[prop] = { time: this.currentTime, value: value };\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.allowOnlyTimelineStyles = /**\n     * @return {?}\n     */\n        function () { return this._currentEmptyStepKeyframe !== this._currentKeyframe; };\n    /**\n     * @param {?} easing\n     * @return {?}\n     */\n    TimelineBuilder.prototype.applyEmptyStep = /**\n     * @param {?} easing\n     * @return {?}\n     */\n        function (easing) {\n            var _this = this;\n            if (easing) {\n                this._previousKeyframe['easing'] = easing;\n            }\n            // special case for animate(duration):\n            // all missing styles are filled with a `*` value then\n            // if any destination styles are filled in later on the same\n            // keyframe then they will override the overridden styles\n            // We use `_globalTimelineStyles` here because there may be\n            // styles in previous keyframes that are not present in this timeline\n            Object.keys(this._globalTimelineStyles).forEach(function (prop) {\n                _this._backFill[prop] = _this._globalTimelineStyles[prop] || AUTO_STYLE;\n                _this._currentKeyframe[prop] = AUTO_STYLE;\n            });\n            this._currentEmptyStepKeyframe = this._currentKeyframe;\n        };\n    /**\n     * @param {?} input\n     * @param {?} easing\n     * @param {?} errors\n     * @param {?=} options\n     * @return {?}\n     */\n    TimelineBuilder.prototype.setStyles = /**\n     * @param {?} input\n     * @param {?} easing\n     * @param {?} errors\n     * @param {?=} options\n     * @return {?}\n     */\n        function (input, easing, errors, options) {\n            var _this = this;\n            if (easing) {\n                this._previousKeyframe['easing'] = easing;\n            }\n            var /** @type {?} */ params = (options && options.params) || {};\n            var /** @type {?} */ styles = flattenStyles(input, this._globalTimelineStyles);\n            Object.keys(styles).forEach(function (prop) {\n                var /** @type {?} */ val = interpolateParams(styles[prop], params, errors);\n                _this._pendingStyles[prop] = val;\n                if (!_this._localTimelineStyles.hasOwnProperty(prop)) {\n                    _this._backFill[prop] = _this._globalTimelineStyles.hasOwnProperty(prop) ?\n                        _this._globalTimelineStyles[prop] :\n                        AUTO_STYLE;\n                }\n                _this._updateStyle(prop, val);\n            });\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.applyStylesToKeyframe = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            var /** @type {?} */ styles = this._pendingStyles;\n            var /** @type {?} */ props = Object.keys(styles);\n            if (props.length == 0)\n                return;\n            this._pendingStyles = {};\n            props.forEach(function (prop) {\n                var /** @type {?} */ val = styles[prop];\n                _this._currentKeyframe[prop] = val;\n            });\n            Object.keys(this._localTimelineStyles).forEach(function (prop) {\n                if (!_this._currentKeyframe.hasOwnProperty(prop)) {\n                    _this._currentKeyframe[prop] = _this._localTimelineStyles[prop];\n                }\n            });\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.snapshotCurrentStyles = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            Object.keys(this._localTimelineStyles).forEach(function (prop) {\n                var /** @type {?} */ val = _this._localTimelineStyles[prop];\n                _this._pendingStyles[prop] = val;\n                _this._updateStyle(prop, val);\n            });\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.getFinalKeyframe = /**\n     * @return {?}\n     */\n        function () { return this._keyframes.get(this.duration); };\n    Object.defineProperty(TimelineBuilder.prototype, \"properties\", {\n        get: /**\n         * @return {?}\n         */ function () {\n            var /** @type {?} */ properties = [];\n            for (var /** @type {?} */ prop in this._currentKeyframe) {\n                properties.push(prop);\n            }\n            return properties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} timeline\n     * @return {?}\n     */\n    TimelineBuilder.prototype.mergeTimelineCollectedStyles = /**\n     * @param {?} timeline\n     * @return {?}\n     */\n        function (timeline) {\n            var _this = this;\n            Object.keys(timeline._styleSummary).forEach(function (prop) {\n                var /** @type {?} */ details0 = _this._styleSummary[prop];\n                var /** @type {?} */ details1 = timeline._styleSummary[prop];\n                if (!details0 || details1.time > details0.time) {\n                    _this._updateStyle(prop, details1.value);\n                }\n            });\n        };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.buildKeyframes = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            this.applyStylesToKeyframe();\n            var /** @type {?} */ preStyleProps = new Set();\n            var /** @type {?} */ postStyleProps = new Set();\n            var /** @type {?} */ isEmpty = this._keyframes.size === 1 && this.duration === 0;\n            var /** @type {?} */ finalKeyframes = [];\n            this._keyframes.forEach(function (keyframe, time) {\n                var /** @type {?} */ finalKeyframe = copyStyles(keyframe, true);\n                Object.keys(finalKeyframe).forEach(function (prop) {\n                    var /** @type {?} */ value = finalKeyframe[prop];\n                    if (value == ɵPRE_STYLE) {\n                        preStyleProps.add(prop);\n                    }\n                    else if (value == AUTO_STYLE) {\n                        postStyleProps.add(prop);\n                    }\n                });\n                if (!isEmpty) {\n                    finalKeyframe['offset'] = time / _this.duration;\n                }\n                finalKeyframes.push(finalKeyframe);\n            });\n            var /** @type {?} */ preProps = preStyleProps.size ? iteratorToArray(preStyleProps.values()) : [];\n            var /** @type {?} */ postProps = postStyleProps.size ? iteratorToArray(postStyleProps.values()) : [];\n            // special case for a 0-second animation (which is designed just to place styles onscreen)\n            if (isEmpty) {\n                var /** @type {?} */ kf0 = finalKeyframes[0];\n                var /** @type {?} */ kf1 = copyObj(kf0);\n                kf0['offset'] = 0;\n                kf1['offset'] = 1;\n                finalKeyframes = [kf0, kf1];\n            }\n            return createTimelineInstruction(this.element, finalKeyframes, preProps, postProps, this.duration, this.startTime, this.easing, false);\n        };\n    return TimelineBuilder;\n}());\nvar SubTimelineBuilder = /*@__PURE__*/ (function (_super) {\n    __extends(SubTimelineBuilder, _super);\n    function SubTimelineBuilder(driver, element, keyframes, preStyleProps, postStyleProps, timings, _stretchStartingKeyframe) {\n        if (_stretchStartingKeyframe === void 0) {\n            _stretchStartingKeyframe = false;\n        }\n        var _this = _super.call(this, driver, element, timings.delay) || this;\n        _this.element = element;\n        _this.keyframes = keyframes;\n        _this.preStyleProps = preStyleProps;\n        _this.postStyleProps = postStyleProps;\n        _this._stretchStartingKeyframe = _stretchStartingKeyframe;\n        _this.timings = { duration: timings.duration, delay: timings.delay, easing: timings.easing };\n        return _this;\n    }\n    /**\n     * @return {?}\n     */\n    SubTimelineBuilder.prototype.containsAnimation = /**\n     * @return {?}\n     */\n        function () { return this.keyframes.length > 1; };\n    /**\n     * @return {?}\n     */\n    SubTimelineBuilder.prototype.buildKeyframes = /**\n     * @return {?}\n     */\n        function () {\n            var /** @type {?} */ keyframes = this.keyframes;\n            var _a = this.timings, delay = _a.delay, duration = _a.duration, easing = _a.easing;\n            if (this._stretchStartingKeyframe && delay) {\n                var /** @type {?} */ newKeyframes = [];\n                var /** @type {?} */ totalTime = duration + delay;\n                var /** @type {?} */ startingGap = delay / totalTime;\n                // the original starting keyframe now starts once the delay is done\n                var /** @type {?} */ newFirstKeyframe = copyStyles(keyframes[0], false);\n                newFirstKeyframe['offset'] = 0;\n                newKeyframes.push(newFirstKeyframe);\n                var /** @type {?} */ oldFirstKeyframe = copyStyles(keyframes[0], false);\n                oldFirstKeyframe['offset'] = roundOffset(startingGap);\n                newKeyframes.push(oldFirstKeyframe);\n                /*\n                        When the keyframe is stretched then it means that the delay before the animation\n                        starts is gone. Instead the first keyframe is placed at the start of the animation\n                        and it is then copied to where it starts when the original delay is over. This basically\n                        means nothing animates during that delay, but the styles are still renderered. For this\n                        to work the original offset values that exist in the original keyframes must be \"warped\"\n                        so that they can take the new keyframe + delay into account.\n                \r\n                        delay=1000, duration=1000, keyframes = 0 .5 1\n                \r\n                        turns into\n                \r\n                        delay=0, duration=2000, keyframes = 0 .33 .66 1\n                       */\n                // offsets between 1 ... n -1 are all warped by the keyframe stretch\n                var /** @type {?} */ limit = keyframes.length - 1;\n                for (var /** @type {?} */ i = 1; i <= limit; i++) {\n                    var /** @type {?} */ kf = copyStyles(keyframes[i], false);\n                    var /** @type {?} */ oldOffset = (kf['offset']);\n                    var /** @type {?} */ timeAtKeyframe = delay + oldOffset * duration;\n                    kf['offset'] = roundOffset(timeAtKeyframe / totalTime);\n                    newKeyframes.push(kf);\n                }\n                // the new starting keyframe should be added at the start\n                duration = totalTime;\n                delay = 0;\n                easing = '';\n                keyframes = newKeyframes;\n            }\n            return createTimelineInstruction(this.element, keyframes, this.preStyleProps, this.postStyleProps, duration, delay, easing, true);\n        };\n    return SubTimelineBuilder;\n}(TimelineBuilder));\n/**\n * @param {?} offset\n * @param {?=} decimalPoints\n * @return {?}\n */\nfunction roundOffset(offset, decimalPoints) {\n    if (decimalPoints === void 0) {\n        decimalPoints = 3;\n    }\n    var /** @type {?} */ mult = Math.pow(10, decimalPoints - 1);\n    return Math.round(offset * mult) / mult;\n}\n/**\n * @param {?} input\n * @param {?} allStyles\n * @return {?}\n */\nfunction flattenStyles(input, allStyles) {\n    var /** @type {?} */ styles = {};\n    var /** @type {?} */ allProperties;\n    input.forEach(function (token) {\n        if (token === '*') {\n            allProperties = allProperties || Object.keys(allStyles);\n            allProperties.forEach(function (prop) { styles[prop] = AUTO_STYLE; });\n        }\n        else {\n            copyStyles(/** @type {?} */ (token), false, styles);\n        }\n    });\n    return styles;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Animation = /*@__PURE__*/ (function () {\n    function Animation(_driver, input) {\n        this._driver = _driver;\n        var /** @type {?} */ errors = [];\n        var /** @type {?} */ ast = buildAnimationAst(_driver, input, errors);\n        if (errors.length) {\n            var /** @type {?} */ errorMessage = \"animation validation failed:\\n\" + errors.join(\"\\n\");\n            throw new Error(errorMessage);\n        }\n        this._animationAst = ast;\n    }\n    /**\n     * @param {?} element\n     * @param {?} startingStyles\n     * @param {?} destinationStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n    Animation.prototype.buildTimelines = /**\n     * @param {?} element\n     * @param {?} startingStyles\n     * @param {?} destinationStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n        function (element, startingStyles, destinationStyles, options, subInstructions) {\n            var /** @type {?} */ start = Array.isArray(startingStyles) ? normalizeStyles(startingStyles) : /** @type {?} */ (startingStyles);\n            var /** @type {?} */ dest = Array.isArray(destinationStyles) ? normalizeStyles(destinationStyles) : /** @type {?} */ (destinationStyles);\n            var /** @type {?} */ errors = [];\n            subInstructions = subInstructions || new ElementInstructionMap();\n            var /** @type {?} */ result = buildAnimationTimelines(this._driver, element, this._animationAst, ENTER_CLASSNAME, LEAVE_CLASSNAME, start, dest, options, subInstructions, errors);\n            if (errors.length) {\n                var /** @type {?} */ errorMessage = \"animation building failed:\\n\" + errors.join(\"\\n\");\n                throw new Error(errorMessage);\n            }\n            return result;\n        };\n    return Animation;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental Animation support is experimental.\n * @abstract\n */\nvar AnimationStyleNormalizer = /*@__PURE__*/ (function () {\n    function AnimationStyleNormalizer() {\n    }\n    return AnimationStyleNormalizer;\n}());\n/**\n * \\@experimental Animation support is experimental.\n */\nvar NoopAnimationStyleNormalizer = /*@__PURE__*/ (function () {\n    function NoopAnimationStyleNormalizer() {\n    }\n    /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n    NoopAnimationStyleNormalizer.prototype.normalizePropertyName = /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n        function (propertyName, errors) { return propertyName; };\n    /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n    NoopAnimationStyleNormalizer.prototype.normalizeStyleValue = /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n        function (userProvidedProperty, normalizedProperty, value, errors) {\n            return /** @type {?} */ (value);\n        };\n    return NoopAnimationStyleNormalizer;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar WebAnimationsStyleNormalizer = /*@__PURE__*/ (function (_super) {\n    __extends(WebAnimationsStyleNormalizer, _super);\n    function WebAnimationsStyleNormalizer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n    WebAnimationsStyleNormalizer.prototype.normalizePropertyName = /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n        function (propertyName, errors) {\n            return dashCaseToCamelCase(propertyName);\n        };\n    /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n    WebAnimationsStyleNormalizer.prototype.normalizeStyleValue = /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n        function (userProvidedProperty, normalizedProperty, value, errors) {\n            var /** @type {?} */ unit = '';\n            var /** @type {?} */ strVal = value.toString().trim();\n            if (DIMENSIONAL_PROP_MAP[normalizedProperty] && value !== 0 && value !== '0') {\n                if (typeof value === 'number') {\n                    unit = 'px';\n                }\n                else {\n                    var /** @type {?} */ valAndSuffixMatch = value.match(/^[+-]?[\\d\\.]+([a-z]*)$/);\n                    if (valAndSuffixMatch && valAndSuffixMatch[1].length == 0) {\n                        errors.push(\"Please provide a CSS unit value for \" + userProvidedProperty + \":\" + value);\n                    }\n                }\n            }\n            return strVal + unit;\n        };\n    return WebAnimationsStyleNormalizer;\n}(AnimationStyleNormalizer));\nvar DIMENSIONAL_PROP_MAP = /*@__PURE__*/ makeBooleanMap(/*@__PURE__*/ 'width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective'\n    .split(','));\n/**\n * @param {?} keys\n * @return {?}\n */\nfunction makeBooleanMap(keys) {\n    var /** @type {?} */ map = {};\n    keys.forEach(function (key) { return map[key] = true; });\n    return map;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @record\n */\n/**\n * @param {?} element\n * @param {?} triggerName\n * @param {?} fromState\n * @param {?} toState\n * @param {?} isRemovalTransition\n * @param {?} fromStyles\n * @param {?} toStyles\n * @param {?} timelines\n * @param {?} queriedElements\n * @param {?} preStyleProps\n * @param {?} postStyleProps\n * @param {?=} errors\n * @return {?}\n */\nfunction createTransitionInstruction(element, triggerName, fromState, toState, isRemovalTransition, fromStyles, toStyles, timelines, queriedElements, preStyleProps, postStyleProps, errors) {\n    return {\n        type: 0 /* TransitionAnimation */,\n        element: element,\n        triggerName: triggerName,\n        isRemovalTransition: isRemovalTransition,\n        fromState: fromState,\n        fromStyles: fromStyles,\n        toState: toState,\n        toStyles: toStyles,\n        timelines: timelines,\n        queriedElements: queriedElements,\n        preStyleProps: preStyleProps,\n        postStyleProps: postStyleProps,\n        errors: errors\n    };\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EMPTY_OBJECT = {};\nvar AnimationTransitionFactory = /*@__PURE__*/ (function () {\n    function AnimationTransitionFactory(_triggerName, ast, _stateStyles) {\n        this._triggerName = _triggerName;\n        this.ast = ast;\n        this._stateStyles = _stateStyles;\n    }\n    /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n    AnimationTransitionFactory.prototype.match = /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n        function (currentState, nextState) {\n            return oneOrMoreTransitionsMatch(this.ast.matchers, currentState, nextState);\n        };\n    /**\n     * @param {?} stateName\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationTransitionFactory.prototype.buildStyles = /**\n     * @param {?} stateName\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n        function (stateName, params, errors) {\n            var /** @type {?} */ backupStateStyler = this._stateStyles['*'];\n            var /** @type {?} */ stateStyler = this._stateStyles[stateName];\n            var /** @type {?} */ backupStyles = backupStateStyler ? backupStateStyler.buildStyles(params, errors) : {};\n            return stateStyler ? stateStyler.buildStyles(params, errors) : backupStyles;\n        };\n    /**\n     * @param {?} driver\n     * @param {?} element\n     * @param {?} currentState\n     * @param {?} nextState\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?=} currentOptions\n     * @param {?=} nextOptions\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n    AnimationTransitionFactory.prototype.build = /**\n     * @param {?} driver\n     * @param {?} element\n     * @param {?} currentState\n     * @param {?} nextState\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?=} currentOptions\n     * @param {?=} nextOptions\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n        function (driver, element, currentState, nextState, enterClassName, leaveClassName, currentOptions, nextOptions, subInstructions) {\n            var /** @type {?} */ errors = [];\n            var /** @type {?} */ transitionAnimationParams = this.ast.options && this.ast.options.params || EMPTY_OBJECT;\n            var /** @type {?} */ currentAnimationParams = currentOptions && currentOptions.params || EMPTY_OBJECT;\n            var /** @type {?} */ currentStateStyles = this.buildStyles(currentState, currentAnimationParams, errors);\n            var /** @type {?} */ nextAnimationParams = nextOptions && nextOptions.params || EMPTY_OBJECT;\n            var /** @type {?} */ nextStateStyles = this.buildStyles(nextState, nextAnimationParams, errors);\n            var /** @type {?} */ queriedElements = new Set();\n            var /** @type {?} */ preStyleMap = new Map();\n            var /** @type {?} */ postStyleMap = new Map();\n            var /** @type {?} */ isRemoval = nextState === 'void';\n            var /** @type {?} */ animationOptions = { params: __assign({}, transitionAnimationParams, nextAnimationParams) };\n            var /** @type {?} */ timelines = buildAnimationTimelines(driver, element, this.ast.animation, enterClassName, leaveClassName, currentStateStyles, nextStateStyles, animationOptions, subInstructions, errors);\n            if (errors.length) {\n                return createTransitionInstruction(element, this._triggerName, currentState, nextState, isRemoval, currentStateStyles, nextStateStyles, [], [], preStyleMap, postStyleMap, errors);\n            }\n            timelines.forEach(function (tl) {\n                var /** @type {?} */ elm = tl.element;\n                var /** @type {?} */ preProps = getOrSetAsInMap(preStyleMap, elm, {});\n                tl.preStyleProps.forEach(function (prop) { return preProps[prop] = true; });\n                var /** @type {?} */ postProps = getOrSetAsInMap(postStyleMap, elm, {});\n                tl.postStyleProps.forEach(function (prop) { return postProps[prop] = true; });\n                if (elm !== element) {\n                    queriedElements.add(elm);\n                }\n            });\n            var /** @type {?} */ queriedElementsList = iteratorToArray(queriedElements.values());\n            return createTransitionInstruction(element, this._triggerName, currentState, nextState, isRemoval, currentStateStyles, nextStateStyles, timelines, queriedElementsList, preStyleMap, postStyleMap);\n        };\n    return AnimationTransitionFactory;\n}());\n/**\n * @param {?} matchFns\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\nfunction oneOrMoreTransitionsMatch(matchFns, currentState, nextState) {\n    return matchFns.some(function (fn) { return fn(currentState, nextState); });\n}\nvar AnimationStateStyles = /*@__PURE__*/ (function () {\n    function AnimationStateStyles(styles, defaultParams) {\n        this.styles = styles;\n        this.defaultParams = defaultParams;\n    }\n    /**\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationStateStyles.prototype.buildStyles = /**\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n        function (params, errors) {\n            var /** @type {?} */ finalStyles = {};\n            var /** @type {?} */ combinedParams = copyObj(this.defaultParams);\n            Object.keys(params).forEach(function (key) {\n                var /** @type {?} */ value = params[key];\n                if (value != null) {\n                    combinedParams[key] = value;\n                }\n            });\n            this.styles.styles.forEach(function (value) {\n                if (typeof value !== 'string') {\n                    var /** @type {?} */ styleObj_1 = (value);\n                    Object.keys(styleObj_1).forEach(function (prop) {\n                        var /** @type {?} */ val = styleObj_1[prop];\n                        if (val.length > 1) {\n                            val = interpolateParams(val, combinedParams, errors);\n                        }\n                        finalStyles[prop] = val;\n                    });\n                }\n            });\n            return finalStyles;\n        };\n    return AnimationStateStyles;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * \\@experimental Animation support is experimental.\n * @param {?} name\n * @param {?} ast\n * @return {?}\n */\nfunction buildTrigger(name, ast) {\n    return new AnimationTrigger(name, ast);\n}\n/**\n * \\@experimental Animation support is experimental.\n */\nvar AnimationTrigger = /*@__PURE__*/ (function () {\n    function AnimationTrigger(name, ast) {\n        var _this = this;\n        this.name = name;\n        this.ast = ast;\n        this.transitionFactories = [];\n        this.states = {};\n        ast.states.forEach(function (ast) {\n            var /** @type {?} */ defaultParams = (ast.options && ast.options.params) || {};\n            _this.states[ast.name] = new AnimationStateStyles(ast.style, defaultParams);\n        });\n        balanceProperties(this.states, 'true', '1');\n        balanceProperties(this.states, 'false', '0');\n        ast.transitions.forEach(function (ast) {\n            _this.transitionFactories.push(new AnimationTransitionFactory(name, ast, _this.states));\n        });\n        this.fallbackTransition = createFallbackTransition(name, this.states);\n    }\n    Object.defineProperty(AnimationTrigger.prototype, \"containsQueries\", {\n        get: /**\n         * @return {?}\n         */ function () { return this.ast.queryCount > 0; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n    AnimationTrigger.prototype.matchTransition = /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n        function (currentState, nextState) {\n            var /** @type {?} */ entry = this.transitionFactories.find(function (f) { return f.match(currentState, nextState); });\n            return entry || null;\n        };\n    /**\n     * @param {?} currentState\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationTrigger.prototype.matchStyles = /**\n     * @param {?} currentState\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n        function (currentState, params, errors) {\n            return this.fallbackTransition.buildStyles(currentState, params, errors);\n        };\n    return AnimationTrigger;\n}());\n/**\n * @param {?} triggerName\n * @param {?} states\n * @return {?}\n */\nfunction createFallbackTransition(triggerName, states) {\n    var /** @type {?} */ matchers = [function (fromState, toState) { return true; }];\n    var /** @type {?} */ animation = { type: 2 /* Sequence */, steps: [], options: null };\n    var /** @type {?} */ transition = {\n        type: 1 /* Transition */,\n        animation: animation,\n        matchers: matchers,\n        options: null,\n        queryCount: 0,\n        depCount: 0\n    };\n    return new AnimationTransitionFactory(triggerName, transition, states);\n}\n/**\n * @param {?} obj\n * @param {?} key1\n * @param {?} key2\n * @return {?}\n */\nfunction balanceProperties(obj, key1, key2) {\n    if (obj.hasOwnProperty(key1)) {\n        if (!obj.hasOwnProperty(key2)) {\n            obj[key2] = obj[key1];\n        }\n    }\n    else if (obj.hasOwnProperty(key2)) {\n        obj[key1] = obj[key2];\n    }\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EMPTY_INSTRUCTION_MAP = /*@__PURE__*/ new ElementInstructionMap();\nvar TimelineAnimationEngine = /*@__PURE__*/ (function () {\n    function TimelineAnimationEngine(_driver, _normalizer) {\n        this._driver = _driver;\n        this._normalizer = _normalizer;\n        this._animations = {};\n        this._playersById = {};\n        this.players = [];\n    }\n    /**\n     * @param {?} id\n     * @param {?} metadata\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.register = /**\n     * @param {?} id\n     * @param {?} metadata\n     * @return {?}\n     */\n        function (id, metadata) {\n            var /** @type {?} */ errors = [];\n            var /** @type {?} */ ast = buildAnimationAst(this._driver, metadata, errors);\n            if (errors.length) {\n                throw new Error(\"Unable to build the animation due to the following errors: \" + errors.join(\"\\n\"));\n            }\n            else {\n                this._animations[id] = ast;\n            }\n        };\n    /**\n     * @param {?} i\n     * @param {?} preStyles\n     * @param {?=} postStyles\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype._buildPlayer = /**\n     * @param {?} i\n     * @param {?} preStyles\n     * @param {?=} postStyles\n     * @return {?}\n     */\n        function (i, preStyles, postStyles) {\n            var /** @type {?} */ element = i.element;\n            var /** @type {?} */ keyframes = normalizeKeyframes(this._driver, this._normalizer, element, i.keyframes, preStyles, postStyles);\n            return this._driver.animate(element, keyframes, i.duration, i.delay, i.easing, []);\n        };\n    /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?=} options\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.create = /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?=} options\n     * @return {?}\n     */\n        function (id, element, options) {\n            var _this = this;\n            if (options === void 0) {\n                options = {};\n            }\n            var /** @type {?} */ errors = [];\n            var /** @type {?} */ ast = this._animations[id];\n            var /** @type {?} */ instructions;\n            var /** @type {?} */ autoStylesMap = new Map();\n            if (ast) {\n                instructions = buildAnimationTimelines(this._driver, element, ast, ENTER_CLASSNAME, LEAVE_CLASSNAME, {}, {}, options, EMPTY_INSTRUCTION_MAP, errors);\n                instructions.forEach(function (inst) {\n                    var /** @type {?} */ styles = getOrSetAsInMap(autoStylesMap, inst.element, {});\n                    inst.postStyleProps.forEach(function (prop) { return styles[prop] = null; });\n                });\n            }\n            else {\n                errors.push('The requested animation doesn\\'t exist or has already been destroyed');\n                instructions = [];\n            }\n            if (errors.length) {\n                throw new Error(\"Unable to create the animation due to the following errors: \" + errors.join(\"\\n\"));\n            }\n            autoStylesMap.forEach(function (styles, element) {\n                Object.keys(styles).forEach(function (prop) { styles[prop] = _this._driver.computeStyle(element, prop, AUTO_STYLE); });\n            });\n            var /** @type {?} */ players = instructions.map(function (i) {\n                var /** @type {?} */ styles = autoStylesMap.get(i.element);\n                return _this._buildPlayer(i, {}, styles);\n            });\n            var /** @type {?} */ player = optimizeGroupPlayer(players);\n            this._playersById[id] = player;\n            player.onDestroy(function () { return _this.destroy(id); });\n            this.players.push(player);\n            return player;\n        };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.destroy = /**\n     * @param {?} id\n     * @return {?}\n     */\n        function (id) {\n            var /** @type {?} */ player = this._getPlayer(id);\n            player.destroy();\n            delete this._playersById[id];\n            var /** @type {?} */ index = this.players.indexOf(player);\n            if (index >= 0) {\n                this.players.splice(index, 1);\n            }\n        };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype._getPlayer = /**\n     * @param {?} id\n     * @return {?}\n     */\n        function (id) {\n            var /** @type {?} */ player = this._playersById[id];\n            if (!player) {\n                throw new Error(\"Unable to find the timeline player referenced by \" + id);\n            }\n            return player;\n        };\n    /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.listen = /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n        function (id, element, eventName, callback) {\n            // triggerName, fromState, toState are all ignored for timeline animations\n            var /** @type {?} */ baseEvent = makeAnimationEvent(element, '', '', '');\n            listenOnPlayer(this._getPlayer(id), eventName, baseEvent, callback);\n            return function () { };\n        };\n    /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} command\n     * @param {?} args\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.command = /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} command\n     * @param {?} args\n     * @return {?}\n     */\n        function (id, element, command, args) {\n            if (command == 'register') {\n                this.register(id, /** @type {?} */ (args[0]));\n                return;\n            }\n            if (command == 'create') {\n                var /** @type {?} */ options = ((args[0] || {}));\n                this.create(id, element, options);\n                return;\n            }\n            var /** @type {?} */ player = this._getPlayer(id);\n            switch (command) {\n                case 'play':\n                    player.play();\n                    break;\n                case 'pause':\n                    player.pause();\n                    break;\n                case 'reset':\n                    player.reset();\n                    break;\n                case 'restart':\n                    player.restart();\n                    break;\n                case 'finish':\n                    player.finish();\n                    break;\n                case 'init':\n                    player.init();\n                    break;\n                case 'setPosition':\n                    player.setPosition(parseFloat(/** @type {?} */ (args[0])));\n                    break;\n                case 'destroy':\n                    this.destroy(id);\n                    break;\n            }\n        };\n    return TimelineAnimationEngine;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar QUEUED_CLASSNAME = 'ng-animate-queued';\nvar QUEUED_SELECTOR = '.ng-animate-queued';\nvar DISABLED_CLASSNAME = 'ng-animate-disabled';\nvar DISABLED_SELECTOR = '.ng-animate-disabled';\nvar STAR_CLASSNAME = 'ng-star-inserted';\nvar STAR_SELECTOR = '.ng-star-inserted';\nvar EMPTY_PLAYER_ARRAY = [];\nvar NULL_REMOVAL_STATE = {\n    namespaceId: '',\n    setForRemoval: null,\n    hasAnimation: false,\n    removedBeforeQueried: false\n};\nvar NULL_REMOVED_QUERIED_STATE = {\n    namespaceId: '',\n    setForRemoval: null,\n    hasAnimation: false,\n    removedBeforeQueried: true\n};\n/**\n * @record\n */\nvar REMOVAL_FLAG = '__ng_removed';\n/**\n * @record\n */\nvar StateValue = /*@__PURE__*/ (function () {\n    function StateValue(input, namespaceId) {\n        if (namespaceId === void 0) {\n            namespaceId = '';\n        }\n        this.namespaceId = namespaceId;\n        var /** @type {?} */ isObj = input && input.hasOwnProperty('value');\n        var /** @type {?} */ value = isObj ? input['value'] : input;\n        this.value = normalizeTriggerValue(value);\n        if (isObj) {\n            var /** @type {?} */ options = copyObj(/** @type {?} */ (input));\n            delete options['value'];\n            this.options = /** @type {?} */ (options);\n        }\n        else {\n            this.options = {};\n        }\n        if (!this.options.params) {\n            this.options.params = {};\n        }\n    }\n    Object.defineProperty(StateValue.prototype, \"params\", {\n        get: /**\n         * @return {?}\n         */ function () { return /** @type {?} */ (this.options.params); },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    StateValue.prototype.absorbOptions = /**\n     * @param {?} options\n     * @return {?}\n     */\n        function (options) {\n            var /** @type {?} */ newParams = options.params;\n            if (newParams) {\n                var /** @type {?} */ oldParams_1 = ((this.options.params));\n                Object.keys(newParams).forEach(function (prop) {\n                    if (oldParams_1[prop] == null) {\n                        oldParams_1[prop] = newParams[prop];\n                    }\n                });\n            }\n        };\n    return StateValue;\n}());\nvar VOID_VALUE = 'void';\nvar DEFAULT_STATE_VALUE = /*@__PURE__*/ new StateValue(VOID_VALUE);\nvar DELETED_STATE_VALUE = /*@__PURE__*/ new StateValue('DELETED');\nvar AnimationTransitionNamespace = /*@__PURE__*/ (function () {\n    function AnimationTransitionNamespace(id, hostElement, _engine) {\n        this.id = id;\n        this.hostElement = hostElement;\n        this._engine = _engine;\n        this.players = [];\n        this._triggers = {};\n        this._queue = [];\n        this._elementListeners = new Map();\n        this._hostClassName = 'ng-tns-' + id;\n        addClass(hostElement, this._hostClassName);\n    }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.listen = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n        function (element, name, phase, callback) {\n            var _this = this;\n            if (!this._triggers.hasOwnProperty(name)) {\n                throw new Error(\"Unable to listen on the animation trigger event \\\"\" + phase + \"\\\" because the animation trigger \\\"\" + name + \"\\\" doesn't exist!\");\n            }\n            if (phase == null || phase.length == 0) {\n                throw new Error(\"Unable to listen on the animation trigger \\\"\" + name + \"\\\" because the provided event is undefined!\");\n            }\n            if (!isTriggerEventValid(phase)) {\n                throw new Error(\"The provided animation trigger event \\\"\" + phase + \"\\\" for the animation trigger \\\"\" + name + \"\\\" is not supported!\");\n            }\n            var /** @type {?} */ listeners = getOrSetAsInMap(this._elementListeners, element, []);\n            var /** @type {?} */ data = { name: name, phase: phase, callback: callback };\n            listeners.push(data);\n            var /** @type {?} */ triggersWithStates = getOrSetAsInMap(this._engine.statesByElement, element, {});\n            if (!triggersWithStates.hasOwnProperty(name)) {\n                addClass(element, NG_TRIGGER_CLASSNAME);\n                addClass(element, NG_TRIGGER_CLASSNAME + '-' + name);\n                triggersWithStates[name] = DEFAULT_STATE_VALUE;\n            }\n            return function () {\n                // the event listener is removed AFTER the flush has occurred such\n                // that leave animations callbacks can fire (otherwise if the node\n                // is removed in between then the listeners would be deregistered)\n                // the event listener is removed AFTER the flush has occurred such\n                // that leave animations callbacks can fire (otherwise if the node\n                // is removed in between then the listeners would be deregistered)\n                _this._engine.afterFlush(function () {\n                    var /** @type {?} */ index = listeners.indexOf(data);\n                    if (index >= 0) {\n                        listeners.splice(index, 1);\n                    }\n                    if (!_this._triggers[name]) {\n                        delete triggersWithStates[name];\n                    }\n                });\n            };\n        };\n    /**\n     * @param {?} name\n     * @param {?} ast\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.register = /**\n     * @param {?} name\n     * @param {?} ast\n     * @return {?}\n     */\n        function (name, ast) {\n            if (this._triggers[name]) {\n                // throw\n                return false;\n            }\n            else {\n                this._triggers[name] = ast;\n                return true;\n            }\n        };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype._getTrigger = /**\n     * @param {?} name\n     * @return {?}\n     */\n        function (name) {\n            var /** @type {?} */ trigger = this._triggers[name];\n            if (!trigger) {\n                throw new Error(\"The provided animation trigger \\\"\" + name + \"\\\" has not been registered!\");\n            }\n            return trigger;\n        };\n    /**\n     * @param {?} element\n     * @param {?} triggerName\n     * @param {?} value\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.trigger = /**\n     * @param {?} element\n     * @param {?} triggerName\n     * @param {?} value\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n        function (element, triggerName, value, defaultToFallback) {\n            var _this = this;\n            if (defaultToFallback === void 0) {\n                defaultToFallback = true;\n            }\n            var /** @type {?} */ trigger = this._getTrigger(triggerName);\n            var /** @type {?} */ player = new TransitionAnimationPlayer(this.id, triggerName, element);\n            var /** @type {?} */ triggersWithStates = this._engine.statesByElement.get(element);\n            if (!triggersWithStates) {\n                addClass(element, NG_TRIGGER_CLASSNAME);\n                addClass(element, NG_TRIGGER_CLASSNAME + '-' + triggerName);\n                this._engine.statesByElement.set(element, triggersWithStates = {});\n            }\n            var /** @type {?} */ fromState = triggersWithStates[triggerName];\n            var /** @type {?} */ toState = new StateValue(value, this.id);\n            var /** @type {?} */ isObj = value && value.hasOwnProperty('value');\n            if (!isObj && fromState) {\n                toState.absorbOptions(fromState.options);\n            }\n            triggersWithStates[triggerName] = toState;\n            if (!fromState) {\n                fromState = DEFAULT_STATE_VALUE;\n            }\n            else if (fromState === DELETED_STATE_VALUE) {\n                return player;\n            }\n            var /** @type {?} */ isRemoval = toState.value === VOID_VALUE;\n            // normally this isn't reached by here, however, if an object expression\n            // is passed in then it may be a new object each time. Comparing the value\n            // is important since that will stay the same despite there being a new object.\n            // The removal arc here is special cased because the same element is triggered\n            // twice in the event that it contains animations on the outer/inner portions\n            // of the host container\n            if (!isRemoval && fromState.value === toState.value) {\n                // this means that despite the value not changing, some inner params\n                // have changed which means that the animation final styles need to be applied\n                if (!objEquals(fromState.params, toState.params)) {\n                    var /** @type {?} */ errors = [];\n                    var /** @type {?} */ fromStyles_1 = trigger.matchStyles(fromState.value, fromState.params, errors);\n                    var /** @type {?} */ toStyles_1 = trigger.matchStyles(toState.value, toState.params, errors);\n                    if (errors.length) {\n                        this._engine.reportError(errors);\n                    }\n                    else {\n                        this._engine.afterFlush(function () {\n                            eraseStyles(element, fromStyles_1);\n                            setStyles(element, toStyles_1);\n                        });\n                    }\n                }\n                return;\n            }\n            var /** @type {?} */ playersOnElement = getOrSetAsInMap(this._engine.playersByElement, element, []);\n            playersOnElement.forEach(function (player) {\n                // only remove the player if it is queued on the EXACT same trigger/namespace\n                // we only also deal with queued players here because if the animation has\n                // started then we want to keep the player alive until the flush happens\n                // (which is where the previousPlayers are passed into the new palyer)\n                if (player.namespaceId == _this.id && player.triggerName == triggerName && player.queued) {\n                    player.destroy();\n                }\n            });\n            var /** @type {?} */ transition = trigger.matchTransition(fromState.value, toState.value);\n            var /** @type {?} */ isFallbackTransition = false;\n            if (!transition) {\n                if (!defaultToFallback)\n                    return;\n                transition = trigger.fallbackTransition;\n                isFallbackTransition = true;\n            }\n            this._engine.totalQueuedPlayers++;\n            this._queue.push({ element: element, triggerName: triggerName, transition: transition, fromState: fromState, toState: toState, player: player, isFallbackTransition: isFallbackTransition });\n            if (!isFallbackTransition) {\n                addClass(element, QUEUED_CLASSNAME);\n                player.onStart(function () { removeClass(element, QUEUED_CLASSNAME); });\n            }\n            player.onDone(function () {\n                var /** @type {?} */ index = _this.players.indexOf(player);\n                if (index >= 0) {\n                    _this.players.splice(index, 1);\n                }\n                var /** @type {?} */ players = _this._engine.playersByElement.get(element);\n                if (players) {\n                    var /** @type {?} */ index_1 = players.indexOf(player);\n                    if (index_1 >= 0) {\n                        players.splice(index_1, 1);\n                    }\n                }\n            });\n            this.players.push(player);\n            playersOnElement.push(player);\n            return player;\n        };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.deregister = /**\n     * @param {?} name\n     * @return {?}\n     */\n        function (name) {\n            var _this = this;\n            delete this._triggers[name];\n            this._engine.statesByElement.forEach(function (stateMap, element) { delete stateMap[name]; });\n            this._elementListeners.forEach(function (listeners, element) {\n                _this._elementListeners.set(element, listeners.filter(function (entry) { return entry.name != name; }));\n            });\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.clearElementCache = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            this._engine.statesByElement.delete(element);\n            this._elementListeners.delete(element);\n            var /** @type {?} */ elementPlayers = this._engine.playersByElement.get(element);\n            if (elementPlayers) {\n                elementPlayers.forEach(function (player) { return player.destroy(); });\n                this._engine.playersByElement.delete(element);\n            }\n        };\n    /**\n     * @param {?} rootElement\n     * @param {?} context\n     * @param {?=} animate\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype._signalRemovalForInnerTriggers = /**\n     * @param {?} rootElement\n     * @param {?} context\n     * @param {?=} animate\n     * @return {?}\n     */\n        function (rootElement, context, animate) {\n            var _this = this;\n            if (animate === void 0) {\n                animate = false;\n            }\n            // emulate a leave animation for all inner nodes within this node.\n            // If there are no animations found for any of the nodes then clear the cache\n            // for the element.\n            this._engine.driver.query(rootElement, NG_TRIGGER_SELECTOR, true).forEach(function (elm) {\n                // this means that an inner remove() operation has already kicked off\n                // the animation on this element...\n                if (elm[REMOVAL_FLAG])\n                    return;\n                var /** @type {?} */ namespaces = _this._engine.fetchNamespacesByElement(elm);\n                if (namespaces.size) {\n                    namespaces.forEach(function (ns) { return ns.triggerLeaveAnimation(elm, context, false, true); });\n                }\n                else {\n                    _this.clearElementCache(elm);\n                }\n            });\n        };\n    /**\n     * @param {?} element\n     * @param {?} context\n     * @param {?=} destroyAfterComplete\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.triggerLeaveAnimation = /**\n     * @param {?} element\n     * @param {?} context\n     * @param {?=} destroyAfterComplete\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n        function (element, context, destroyAfterComplete, defaultToFallback) {\n            var _this = this;\n            var /** @type {?} */ triggerStates = this._engine.statesByElement.get(element);\n            if (triggerStates) {\n                var /** @type {?} */ players_1 = [];\n                Object.keys(triggerStates).forEach(function (triggerName) {\n                    // this check is here in the event that an element is removed\n                    // twice (both on the host level and the component level)\n                    if (_this._triggers[triggerName]) {\n                        var /** @type {?} */ player = _this.trigger(element, triggerName, VOID_VALUE, defaultToFallback);\n                        if (player) {\n                            players_1.push(player);\n                        }\n                    }\n                });\n                if (players_1.length) {\n                    this._engine.markElementAsRemoved(this.id, element, true, context);\n                    if (destroyAfterComplete) {\n                        optimizeGroupPlayer(players_1).onDone(function () { return _this._engine.processLeaveNode(element); });\n                    }\n                    return true;\n                }\n            }\n            return false;\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.prepareLeaveAnimationListeners = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            var _this = this;\n            var /** @type {?} */ listeners = this._elementListeners.get(element);\n            if (listeners) {\n                var /** @type {?} */ visitedTriggers_1 = new Set();\n                listeners.forEach(function (listener) {\n                    var /** @type {?} */ triggerName = listener.name;\n                    if (visitedTriggers_1.has(triggerName))\n                        return;\n                    visitedTriggers_1.add(triggerName);\n                    var /** @type {?} */ trigger = _this._triggers[triggerName];\n                    var /** @type {?} */ transition = trigger.fallbackTransition;\n                    var /** @type {?} */ elementStates = ((_this._engine.statesByElement.get(element)));\n                    var /** @type {?} */ fromState = elementStates[triggerName] || DEFAULT_STATE_VALUE;\n                    var /** @type {?} */ toState = new StateValue(VOID_VALUE);\n                    var /** @type {?} */ player = new TransitionAnimationPlayer(_this.id, triggerName, element);\n                    _this._engine.totalQueuedPlayers++;\n                    _this._queue.push({\n                        element: element,\n                        triggerName: triggerName,\n                        transition: transition,\n                        fromState: fromState,\n                        toState: toState,\n                        player: player,\n                        isFallbackTransition: true\n                    });\n                });\n            }\n        };\n    /**\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.removeNode = /**\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n        function (element, context) {\n            var _this = this;\n            var /** @type {?} */ engine = this._engine;\n            if (element.childElementCount) {\n                this._signalRemovalForInnerTriggers(element, context, true);\n            }\n            // this means that a * => VOID animation was detected and kicked off\n            if (this.triggerLeaveAnimation(element, context, true))\n                return;\n            // find the player that is animating and make sure that the\n            // removal is delayed until that player has completed\n            var /** @type {?} */ containsPotentialParentTransition = false;\n            if (engine.totalAnimations) {\n                var /** @type {?} */ currentPlayers = engine.players.length ? engine.playersByQueriedElement.get(element) : [];\n                // when this `if statement` does not continue forward it means that\n                // a previous animation query has selected the current element and\n                // is animating it. In this situation want to continue fowards and\n                // allow the element to be queued up for animation later.\n                if (currentPlayers && currentPlayers.length) {\n                    containsPotentialParentTransition = true;\n                }\n                else {\n                    var /** @type {?} */ parent_1 = element;\n                    while (parent_1 = parent_1.parentNode) {\n                        var /** @type {?} */ triggers = engine.statesByElement.get(parent_1);\n                        if (triggers) {\n                            containsPotentialParentTransition = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            // at this stage we know that the element will either get removed\n            // during flush or will be picked up by a parent query. Either way\n            // we need to fire the listeners for this element when it DOES get\n            // removed (once the query parent animation is done or after flush)\n            this.prepareLeaveAnimationListeners(element);\n            // whether or not a parent has an animation we need to delay the deferral of the leave\n            // operation until we have more information (which we do after flush() has been called)\n            if (containsPotentialParentTransition) {\n                engine.markElementAsRemoved(this.id, element, false, context);\n            }\n            else {\n                // we do this after the flush has occurred such\n                // that the callbacks can be fired\n                engine.afterFlush(function () { return _this.clearElementCache(element); });\n                engine.destroyInnerAnimations(element);\n                engine._onRemovalComplete(element, context);\n            }\n        };\n    /**\n     * @param {?} element\n     * @param {?} parent\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.insertNode = /**\n     * @param {?} element\n     * @param {?} parent\n     * @return {?}\n     */\n        function (element, parent) { addClass(element, this._hostClassName); };\n    /**\n     * @param {?} microtaskId\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.drainQueuedTransitions = /**\n     * @param {?} microtaskId\n     * @return {?}\n     */\n        function (microtaskId) {\n            var _this = this;\n            var /** @type {?} */ instructions = [];\n            this._queue.forEach(function (entry) {\n                var /** @type {?} */ player = entry.player;\n                if (player.destroyed)\n                    return;\n                var /** @type {?} */ element = entry.element;\n                var /** @type {?} */ listeners = _this._elementListeners.get(element);\n                if (listeners) {\n                    listeners.forEach(function (listener) {\n                        if (listener.name == entry.triggerName) {\n                            var /** @type {?} */ baseEvent = makeAnimationEvent(element, entry.triggerName, entry.fromState.value, entry.toState.value);\n                            ((baseEvent))['_data'] = microtaskId;\n                            listenOnPlayer(entry.player, listener.phase, baseEvent, listener.callback);\n                        }\n                    });\n                }\n                if (player.markedForDestroy) {\n                    _this._engine.afterFlush(function () {\n                        // now we can destroy the element properly since the event listeners have\n                        // been bound to the player\n                        player.destroy();\n                    });\n                }\n                else {\n                    instructions.push(entry);\n                }\n            });\n            this._queue = [];\n            return instructions.sort(function (a, b) {\n                // if depCount == 0 them move to front\n                // otherwise if a contains b then move back\n                var /** @type {?} */ d0 = a.transition.ast.depCount;\n                var /** @type {?} */ d1 = b.transition.ast.depCount;\n                if (d0 == 0 || d1 == 0) {\n                    return d0 - d1;\n                }\n                return _this._engine.driver.containsElement(a.element, b.element) ? 1 : -1;\n            });\n        };\n    /**\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.destroy = /**\n     * @param {?} context\n     * @return {?}\n     */\n        function (context) {\n            this.players.forEach(function (p) { return p.destroy(); });\n            this._signalRemovalForInnerTriggers(this.hostElement, context);\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.elementContainsData = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            var /** @type {?} */ containsData = false;\n            if (this._elementListeners.has(element))\n                containsData = true;\n            containsData =\n                (this._queue.find(function (entry) { return entry.element === element; }) ? true : false) || containsData;\n            return containsData;\n        };\n    return AnimationTransitionNamespace;\n}());\n/**\n * @record\n */\nvar TransitionAnimationEngine = /*@__PURE__*/ (function () {\n    function TransitionAnimationEngine(driver, _normalizer) {\n        this.driver = driver;\n        this._normalizer = _normalizer;\n        this.players = [];\n        this.newHostElements = new Map();\n        this.playersByElement = new Map();\n        this.playersByQueriedElement = new Map();\n        this.statesByElement = new Map();\n        this.disabledNodes = new Set();\n        this.totalAnimations = 0;\n        this.totalQueuedPlayers = 0;\n        this._namespaceLookup = {};\n        this._namespaceList = [];\n        this._flushFns = [];\n        this._whenQuietFns = [];\n        this.namespacesByHostElement = new Map();\n        this.collectedEnterElements = [];\n        this.collectedLeaveElements = [];\n        this.onRemovalComplete = function (element, context) { };\n    }\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._onRemovalComplete = /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n        function (element, context) { this.onRemovalComplete(element, context); };\n    Object.defineProperty(TransitionAnimationEngine.prototype, \"queuedPlayers\", {\n        get: /**\n         * @return {?}\n         */ function () {\n            var /** @type {?} */ players = [];\n            this._namespaceList.forEach(function (ns) {\n                ns.players.forEach(function (player) {\n                    if (player.queued) {\n                        players.push(player);\n                    }\n                });\n            });\n            return players;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.createNamespace = /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n        function (namespaceId, hostElement) {\n            var /** @type {?} */ ns = new AnimationTransitionNamespace(namespaceId, hostElement, this);\n            if (hostElement.parentNode) {\n                this._balanceNamespaceList(ns, hostElement);\n            }\n            else {\n                // defer this later until flush during when the host element has\n                // been inserted so that we know exactly where to place it in\n                // the namespace list\n                this.newHostElements.set(hostElement, ns);\n                // given that this host element is apart of the animation code, it\n                // may or may not be inserted by a parent node that is an of an\n                // animation renderer type. If this happens then we can still have\n                // access to this item when we query for :enter nodes. If the parent\n                // is a renderer then the set data-structure will normalize the entry\n                this.collectEnterElement(hostElement);\n            }\n            return this._namespaceLookup[namespaceId] = ns;\n        };\n    /**\n     * @param {?} ns\n     * @param {?} hostElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._balanceNamespaceList = /**\n     * @param {?} ns\n     * @param {?} hostElement\n     * @return {?}\n     */\n        function (ns, hostElement) {\n            var /** @type {?} */ limit = this._namespaceList.length - 1;\n            if (limit >= 0) {\n                var /** @type {?} */ found = false;\n                for (var /** @type {?} */ i = limit; i >= 0; i--) {\n                    var /** @type {?} */ nextNamespace = this._namespaceList[i];\n                    if (this.driver.containsElement(nextNamespace.hostElement, hostElement)) {\n                        this._namespaceList.splice(i + 1, 0, ns);\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) {\n                    this._namespaceList.splice(0, 0, ns);\n                }\n            }\n            else {\n                this._namespaceList.push(ns);\n            }\n            this.namespacesByHostElement.set(hostElement, ns);\n            return ns;\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.register = /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n        function (namespaceId, hostElement) {\n            var /** @type {?} */ ns = this._namespaceLookup[namespaceId];\n            if (!ns) {\n                ns = this.createNamespace(namespaceId, hostElement);\n            }\n            return ns;\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} name\n     * @param {?} trigger\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.registerTrigger = /**\n     * @param {?} namespaceId\n     * @param {?} name\n     * @param {?} trigger\n     * @return {?}\n     */\n        function (namespaceId, name, trigger) {\n            var /** @type {?} */ ns = this._namespaceLookup[namespaceId];\n            if (ns && ns.register(name, trigger)) {\n                this.totalAnimations++;\n            }\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.destroy = /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n        function (namespaceId, context) {\n            var _this = this;\n            if (!namespaceId)\n                return;\n            var /** @type {?} */ ns = this._fetchNamespace(namespaceId);\n            this.afterFlush(function () {\n                _this.namespacesByHostElement.delete(ns.hostElement);\n                delete _this._namespaceLookup[namespaceId];\n                var /** @type {?} */ index = _this._namespaceList.indexOf(ns);\n                if (index >= 0) {\n                    _this._namespaceList.splice(index, 1);\n                }\n            });\n            this.afterFlushAnimationsDone(function () { return ns.destroy(context); });\n        };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._fetchNamespace = /**\n     * @param {?} id\n     * @return {?}\n     */\n        function (id) { return this._namespaceLookup[id]; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.fetchNamespacesByElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            // normally there should only be one namespace per element, however\n            // if @triggers are placed on both the component element and then\n            // its host element (within the component code) then there will be\n            // two namespaces returned. We use a set here to simply the dedupe\n            // of namespaces incase there are multiple triggers both the elm and host\n            var /** @type {?} */ namespaces = new Set();\n            var /** @type {?} */ elementStates = this.statesByElement.get(element);\n            if (elementStates) {\n                var /** @type {?} */ keys = Object.keys(elementStates);\n                for (var /** @type {?} */ i = 0; i < keys.length; i++) {\n                    var /** @type {?} */ nsId = elementStates[keys[i]].namespaceId;\n                    if (nsId) {\n                        var /** @type {?} */ ns = this._fetchNamespace(nsId);\n                        if (ns) {\n                            namespaces.add(ns);\n                        }\n                    }\n                }\n            }\n            return namespaces;\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.trigger = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n        function (namespaceId, element, name, value) {\n            if (isElementNode(element)) {\n                this._fetchNamespace(namespaceId).trigger(element, name, value);\n                return true;\n            }\n            return false;\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.insertNode = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n        function (namespaceId, element, parent, insertBefore) {\n            if (!isElementNode(element))\n                return;\n            // special case for when an element is removed and reinserted (move operation)\n            // when this occurs we do not want to use the element for deletion later\n            var /** @type {?} */ details = (element[REMOVAL_FLAG]);\n            if (details && details.setForRemoval) {\n                details.setForRemoval = false;\n            }\n            // in the event that the namespaceId is blank then the caller\n            // code does not contain any animation code in it, but it is\n            // just being called so that the node is marked as being inserted\n            if (namespaceId) {\n                var /** @type {?} */ ns = this._fetchNamespace(namespaceId);\n                // This if-statement is a workaround for router issue #21947.\n                // The router sometimes hits a race condition where while a route\n                // is being instantiated a new navigation arrives, triggering leave\n                // animation of DOM that has not been fully initialized, until this\n                // is resolved, we need to handle the scenario when DOM is not in a\n                // consistent state during the animation.\n                if (ns) {\n                    ns.insertNode(element, parent);\n                }\n            }\n            // only *directives and host elements are inserted before\n            if (insertBefore) {\n                this.collectEnterElement(element);\n            }\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.collectEnterElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) { this.collectedEnterElements.push(element); };\n    /**\n     * @param {?} element\n     * @param {?} value\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.markElementAsDisabled = /**\n     * @param {?} element\n     * @param {?} value\n     * @return {?}\n     */\n        function (element, value) {\n            if (value) {\n                if (!this.disabledNodes.has(element)) {\n                    this.disabledNodes.add(element);\n                    addClass(element, DISABLED_CLASSNAME);\n                }\n            }\n            else if (this.disabledNodes.has(element)) {\n                this.disabledNodes.delete(element);\n                removeClass(element, DISABLED_CLASSNAME);\n            }\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.removeNode = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n        function (namespaceId, element, context) {\n            if (!isElementNode(element)) {\n                this._onRemovalComplete(element, context);\n                return;\n            }\n            var /** @type {?} */ ns = namespaceId ? this._fetchNamespace(namespaceId) : null;\n            if (ns) {\n                ns.removeNode(element, context);\n            }\n            else {\n                this.markElementAsRemoved(namespaceId, element, false, context);\n            }\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?=} hasAnimation\n     * @param {?=} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.markElementAsRemoved = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?=} hasAnimation\n     * @param {?=} context\n     * @return {?}\n     */\n        function (namespaceId, element, hasAnimation, context) {\n            this.collectedLeaveElements.push(element);\n            element[REMOVAL_FLAG] = {\n                namespaceId: namespaceId,\n                setForRemoval: context, hasAnimation: hasAnimation,\n                removedBeforeQueried: false\n            };\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.listen = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n        function (namespaceId, element, name, phase, callback) {\n            if (isElementNode(element)) {\n                return this._fetchNamespace(namespaceId).listen(element, name, phase, callback);\n            }\n            return function () { };\n        };\n    /**\n     * @param {?} entry\n     * @param {?} subTimelines\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._buildInstruction = /**\n     * @param {?} entry\n     * @param {?} subTimelines\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @return {?}\n     */\n        function (entry, subTimelines, enterClassName, leaveClassName) {\n            return entry.transition.build(this.driver, entry.element, entry.fromState.value, entry.toState.value, enterClassName, leaveClassName, entry.fromState.options, entry.toState.options, subTimelines);\n        };\n    /**\n     * @param {?} containerElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.destroyInnerAnimations = /**\n     * @param {?} containerElement\n     * @return {?}\n     */\n        function (containerElement) {\n            var _this = this;\n            var /** @type {?} */ elements = this.driver.query(containerElement, NG_TRIGGER_SELECTOR, true);\n            elements.forEach(function (element) { return _this.destroyActiveAnimationsForElement(element); });\n            if (this.playersByQueriedElement.size == 0)\n                return;\n            elements = this.driver.query(containerElement, NG_ANIMATING_SELECTOR, true);\n            elements.forEach(function (element) { return _this.finishActiveQueriedAnimationOnElement(element); });\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.destroyActiveAnimationsForElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            var /** @type {?} */ players = this.playersByElement.get(element);\n            if (players) {\n                players.forEach(function (player) {\n                    // special case for when an element is set for destruction, but hasn't started.\n                    // in this situation we want to delay the destruction until the flush occurs\n                    // so that any event listeners attached to the player are triggered.\n                    if (player.queued) {\n                        player.markedForDestroy = true;\n                    }\n                    else {\n                        player.destroy();\n                    }\n                });\n            }\n            var /** @type {?} */ stateMap = this.statesByElement.get(element);\n            if (stateMap) {\n                Object.keys(stateMap).forEach(function (triggerName) { return stateMap[triggerName] = DELETED_STATE_VALUE; });\n            }\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.finishActiveQueriedAnimationOnElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            var /** @type {?} */ players = this.playersByQueriedElement.get(element);\n            if (players) {\n                players.forEach(function (player) { return player.finish(); });\n            }\n        };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.whenRenderingDone = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            return new Promise(function (resolve) {\n                if (_this.players.length) {\n                    return optimizeGroupPlayer(_this.players).onDone(function () { return resolve(); });\n                }\n                else {\n                    resolve();\n                }\n            });\n        };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.processLeaveNode = /**\n     * @param {?} element\n     * @return {?}\n     */\n        function (element) {\n            var _this = this;\n            var /** @type {?} */ details = (element[REMOVAL_FLAG]);\n            if (details && details.setForRemoval) {\n                // this will prevent it from removing it twice\n                element[REMOVAL_FLAG] = NULL_REMOVAL_STATE;\n                if (details.namespaceId) {\n                    this.destroyInnerAnimations(element);\n                    var /** @type {?} */ ns = this._fetchNamespace(details.namespaceId);\n                    if (ns) {\n                        ns.clearElementCache(element);\n                    }\n                }\n                this._onRemovalComplete(element, details.setForRemoval);\n            }\n            if (this.driver.matchesElement(element, DISABLED_SELECTOR)) {\n                this.markElementAsDisabled(element, false);\n            }\n            this.driver.query(element, DISABLED_SELECTOR, true).forEach(function (node) {\n                _this.markElementAsDisabled(element, false);\n            });\n        };\n    /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.flush = /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n        function (microtaskId) {\n            var _this = this;\n            if (microtaskId === void 0) {\n                microtaskId = -1;\n            }\n            var /** @type {?} */ players = [];\n            if (this.newHostElements.size) {\n                this.newHostElements.forEach(function (ns, element) { return _this._balanceNamespaceList(ns, element); });\n                this.newHostElements.clear();\n            }\n            if (this.totalAnimations && this.collectedEnterElements.length) {\n                for (var /** @type {?} */ i = 0; i < this.collectedEnterElements.length; i++) {\n                    var /** @type {?} */ elm = this.collectedEnterElements[i];\n                    addClass(elm, STAR_CLASSNAME);\n                }\n            }\n            if (this._namespaceList.length &&\n                (this.totalQueuedPlayers || this.collectedLeaveElements.length)) {\n                var /** @type {?} */ cleanupFns = [];\n                try {\n                    players = this._flushAnimations(cleanupFns, microtaskId);\n                }\n                finally {\n                    for (var /** @type {?} */ i = 0; i < cleanupFns.length; i++) {\n                        cleanupFns[i]();\n                    }\n                }\n            }\n            else {\n                for (var /** @type {?} */ i = 0; i < this.collectedLeaveElements.length; i++) {\n                    var /** @type {?} */ element = this.collectedLeaveElements[i];\n                    this.processLeaveNode(element);\n                }\n            }\n            this.totalQueuedPlayers = 0;\n            this.collectedEnterElements.length = 0;\n            this.collectedLeaveElements.length = 0;\n            this._flushFns.forEach(function (fn) { return fn(); });\n            this._flushFns = [];\n            if (this._whenQuietFns.length) {\n                // we move these over to a variable so that\n                // if any new callbacks are registered in another\n                // flush they do not populate the existing set\n                var /** @type {?} */ quietFns_1 = this._whenQuietFns;\n                this._whenQuietFns = [];\n                if (players.length) {\n                    optimizeGroupPlayer(players).onDone(function () { quietFns_1.forEach(function (fn) { return fn(); }); });\n                }\n                else {\n                    quietFns_1.forEach(function (fn) { return fn(); });\n                }\n            }\n        };\n    /**\n     * @param {?} errors\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.reportError = /**\n     * @param {?} errors\n     * @return {?}\n     */\n        function (errors) {\n            throw new Error(\"Unable to process animations due to the following failed trigger transitions\\n \" + errors.join('\\n'));\n        };\n    /**\n     * @param {?} cleanupFns\n     * @param {?} microtaskId\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._flushAnimations = /**\n     * @param {?} cleanupFns\n     * @param {?} microtaskId\n     * @return {?}\n     */\n        function (cleanupFns, microtaskId) {\n            var _this = this;\n            var /** @type {?} */ subTimelines = new ElementInstructionMap();\n            var /** @type {?} */ skippedPlayers = [];\n            var /** @type {?} */ skippedPlayersMap = new Map();\n            var /** @type {?} */ queuedInstructions = [];\n            var /** @type {?} */ queriedElements = new Map();\n            var /** @type {?} */ allPreStyleElements = new Map();\n            var /** @type {?} */ allPostStyleElements = new Map();\n            var /** @type {?} */ disabledElementsSet = new Set();\n            this.disabledNodes.forEach(function (node) {\n                disabledElementsSet.add(node);\n                var /** @type {?} */ nodesThatAreDisabled = _this.driver.query(node, QUEUED_SELECTOR, true);\n                for (var /** @type {?} */ i_1 = 0; i_1 < nodesThatAreDisabled.length; i_1++) {\n                    disabledElementsSet.add(nodesThatAreDisabled[i_1]);\n                }\n            });\n            var /** @type {?} */ bodyNode = getBodyNode();\n            var /** @type {?} */ allTriggerElements = Array.from(this.statesByElement.keys());\n            var /** @type {?} */ enterNodeMap = buildRootMap(allTriggerElements, this.collectedEnterElements);\n            // this must occur before the instructions are built below such that\n            // the :enter queries match the elements (since the timeline queries\n            // are fired during instruction building).\n            var /** @type {?} */ enterNodeMapIds = new Map();\n            var /** @type {?} */ i = 0;\n            enterNodeMap.forEach(function (nodes, root) {\n                var /** @type {?} */ className = ENTER_CLASSNAME + i++;\n                enterNodeMapIds.set(root, className);\n                nodes.forEach(function (node) { return addClass(node, className); });\n            });\n            var /** @type {?} */ allLeaveNodes = [];\n            var /** @type {?} */ mergedLeaveNodes = new Set();\n            var /** @type {?} */ leaveNodesWithoutAnimations = new Set();\n            for (var /** @type {?} */ i_2 = 0; i_2 < this.collectedLeaveElements.length; i_2++) {\n                var /** @type {?} */ element = this.collectedLeaveElements[i_2];\n                var /** @type {?} */ details = (element[REMOVAL_FLAG]);\n                if (details && details.setForRemoval) {\n                    allLeaveNodes.push(element);\n                    mergedLeaveNodes.add(element);\n                    if (details.hasAnimation) {\n                        this.driver.query(element, STAR_SELECTOR, true).forEach(function (elm) { return mergedLeaveNodes.add(elm); });\n                    }\n                    else {\n                        leaveNodesWithoutAnimations.add(element);\n                    }\n                }\n            }\n            var /** @type {?} */ leaveNodeMapIds = new Map();\n            var /** @type {?} */ leaveNodeMap = buildRootMap(allTriggerElements, Array.from(mergedLeaveNodes));\n            leaveNodeMap.forEach(function (nodes, root) {\n                var /** @type {?} */ className = LEAVE_CLASSNAME + i++;\n                leaveNodeMapIds.set(root, className);\n                nodes.forEach(function (node) { return addClass(node, className); });\n            });\n            cleanupFns.push(function () {\n                enterNodeMap.forEach(function (nodes, root) {\n                    var /** @type {?} */ className = ((enterNodeMapIds.get(root)));\n                    nodes.forEach(function (node) { return removeClass(node, className); });\n                });\n                leaveNodeMap.forEach(function (nodes, root) {\n                    var /** @type {?} */ className = ((leaveNodeMapIds.get(root)));\n                    nodes.forEach(function (node) { return removeClass(node, className); });\n                });\n                allLeaveNodes.forEach(function (element) { _this.processLeaveNode(element); });\n            });\n            var /** @type {?} */ allPlayers = [];\n            var /** @type {?} */ erroneousTransitions = [];\n            for (var /** @type {?} */ i_3 = this._namespaceList.length - 1; i_3 >= 0; i_3--) {\n                var /** @type {?} */ ns = this._namespaceList[i_3];\n                ns.drainQueuedTransitions(microtaskId).forEach(function (entry) {\n                    var /** @type {?} */ player = entry.player;\n                    allPlayers.push(player);\n                    var /** @type {?} */ element = entry.element;\n                    if (!bodyNode || !_this.driver.containsElement(bodyNode, element)) {\n                        player.destroy();\n                        return;\n                    }\n                    var /** @type {?} */ leaveClassName = ((leaveNodeMapIds.get(element)));\n                    var /** @type {?} */ enterClassName = ((enterNodeMapIds.get(element)));\n                    var /** @type {?} */ instruction = ((_this._buildInstruction(entry, subTimelines, enterClassName, leaveClassName)));\n                    if (instruction.errors && instruction.errors.length) {\n                        erroneousTransitions.push(instruction);\n                        return;\n                    }\n                    // if a unmatched transition is queued to go then it SHOULD NOT render\n                    // an animation and cancel the previously running animations.\n                    if (entry.isFallbackTransition) {\n                        player.onStart(function () { return eraseStyles(element, instruction.fromStyles); });\n                        player.onDestroy(function () { return setStyles(element, instruction.toStyles); });\n                        skippedPlayers.push(player);\n                        return;\n                    }\n                    // this means that if a parent animation uses this animation as a sub trigger\n                    // then it will instruct the timeline builder to not add a player delay, but\n                    // instead stretch the first keyframe gap up until the animation starts. The\n                    // reason this is important is to prevent extra initialization styles from being\n                    // required by the user in the animation.\n                    instruction.timelines.forEach(function (tl) { return tl.stretchStartingKeyframe = true; });\n                    subTimelines.append(element, instruction.timelines);\n                    var /** @type {?} */ tuple = { instruction: instruction, player: player, element: element };\n                    queuedInstructions.push(tuple);\n                    instruction.queriedElements.forEach(function (element) { return getOrSetAsInMap(queriedElements, element, []).push(player); });\n                    instruction.preStyleProps.forEach(function (stringMap, element) {\n                        var /** @type {?} */ props = Object.keys(stringMap);\n                        if (props.length) {\n                            var /** @type {?} */ setVal_1 = ((allPreStyleElements.get(element)));\n                            if (!setVal_1) {\n                                allPreStyleElements.set(element, setVal_1 = new Set());\n                            }\n                            props.forEach(function (prop) { return setVal_1.add(prop); });\n                        }\n                    });\n                    instruction.postStyleProps.forEach(function (stringMap, element) {\n                        var /** @type {?} */ props = Object.keys(stringMap);\n                        var /** @type {?} */ setVal = ((allPostStyleElements.get(element)));\n                        if (!setVal) {\n                            allPostStyleElements.set(element, setVal = new Set());\n                        }\n                        props.forEach(function (prop) { return setVal.add(prop); });\n                    });\n                });\n            }\n            if (erroneousTransitions.length) {\n                var /** @type {?} */ errors_1 = [];\n                erroneousTransitions.forEach(function (instruction) {\n                    errors_1.push(\"@\" + instruction.triggerName + \" has failed due to:\\n\"); /** @type {?} */\n                    ((instruction.errors)).forEach(function (error) { return errors_1.push(\"- \" + error + \"\\n\"); });\n                });\n                allPlayers.forEach(function (player) { return player.destroy(); });\n                this.reportError(errors_1);\n            }\n            var /** @type {?} */ allPreviousPlayersMap = new Map();\n            // this map works to tell which element in the DOM tree is contained by\n            // which animation. Further down below this map will get populated once\n            // the players are built and in doing so it can efficiently figure out\n            // if a sub player is skipped due to a parent player having priority.\n            var /** @type {?} */ animationElementMap = new Map();\n            queuedInstructions.forEach(function (entry) {\n                var /** @type {?} */ element = entry.element;\n                if (subTimelines.has(element)) {\n                    animationElementMap.set(element, element);\n                    _this._beforeAnimationBuild(entry.player.namespaceId, entry.instruction, allPreviousPlayersMap);\n                }\n            });\n            skippedPlayers.forEach(function (player) {\n                var /** @type {?} */ element = player.element;\n                var /** @type {?} */ previousPlayers = _this._getPreviousPlayers(element, false, player.namespaceId, player.triggerName, null);\n                previousPlayers.forEach(function (prevPlayer) {\n                    getOrSetAsInMap(allPreviousPlayersMap, element, []).push(prevPlayer);\n                    prevPlayer.destroy();\n                });\n            });\n            // this is a special case for nodes that will be removed (either by)\n            // having their own leave animations or by being queried in a container\n            // that will be removed once a parent animation is complete. The idea\n            // here is that * styles must be identical to ! styles because of\n            // backwards compatibility (* is also filled in by default in many places).\n            // Otherwise * styles will return an empty value or auto since the element\n            // that is being getComputedStyle'd will not be visible (since * = destination)\n            var /** @type {?} */ replaceNodes = allLeaveNodes.filter(function (node) {\n                return replacePostStylesAsPre(node, allPreStyleElements, allPostStyleElements);\n            });\n            // POST STAGE: fill the * styles\n            var /** @type {?} */ postStylesMap = new Map();\n            var /** @type {?} */ allLeaveQueriedNodes = cloakAndComputeStyles(postStylesMap, this.driver, leaveNodesWithoutAnimations, allPostStyleElements, AUTO_STYLE);\n            allLeaveQueriedNodes.forEach(function (node) {\n                if (replacePostStylesAsPre(node, allPreStyleElements, allPostStyleElements)) {\n                    replaceNodes.push(node);\n                }\n            });\n            // PRE STAGE: fill the ! styles\n            var /** @type {?} */ preStylesMap = new Map();\n            enterNodeMap.forEach(function (nodes, root) {\n                cloakAndComputeStyles(preStylesMap, _this.driver, new Set(nodes), allPreStyleElements, ɵPRE_STYLE);\n            });\n            replaceNodes.forEach(function (node) {\n                var /** @type {?} */ post = postStylesMap.get(node);\n                var /** @type {?} */ pre = preStylesMap.get(node);\n                postStylesMap.set(node, /** @type {?} */ (__assign({}, post, pre)));\n            });\n            var /** @type {?} */ rootPlayers = [];\n            var /** @type {?} */ subPlayers = [];\n            var /** @type {?} */ NO_PARENT_ANIMATION_ELEMENT_DETECTED = {};\n            queuedInstructions.forEach(function (entry) {\n                var element = entry.element, player = entry.player, instruction = entry.instruction;\n                // this means that it was never consumed by a parent animation which\n                // means that it is independent and therefore should be set for animation\n                if (subTimelines.has(element)) {\n                    if (disabledElementsSet.has(element)) {\n                        player.onDestroy(function () { return setStyles(element, instruction.toStyles); });\n                        skippedPlayers.push(player);\n                        return;\n                    }\n                    // this will flow up the DOM and query the map to figure out\n                    // if a parent animation has priority over it. In the situation\n                    // that a parent is detected then it will cancel the loop. If\n                    // nothing is detected, or it takes a few hops to find a parent,\n                    // then it will fill in the missing nodes and signal them as having\n                    // a detected parent (or a NO_PARENT value via a special constant).\n                    var /** @type {?} */ parentWithAnimation_1 = NO_PARENT_ANIMATION_ELEMENT_DETECTED;\n                    if (animationElementMap.size > 1) {\n                        var /** @type {?} */ elm = element;\n                        var /** @type {?} */ parentsToAdd = [];\n                        while (elm = elm.parentNode) {\n                            var /** @type {?} */ detectedParent = animationElementMap.get(elm);\n                            if (detectedParent) {\n                                parentWithAnimation_1 = detectedParent;\n                                break;\n                            }\n                            parentsToAdd.push(elm);\n                        }\n                        parentsToAdd.forEach(function (parent) { return animationElementMap.set(parent, parentWithAnimation_1); });\n                    }\n                    var /** @type {?} */ innerPlayer = _this._buildAnimation(player.namespaceId, instruction, allPreviousPlayersMap, skippedPlayersMap, preStylesMap, postStylesMap);\n                    player.setRealPlayer(innerPlayer);\n                    if (parentWithAnimation_1 === NO_PARENT_ANIMATION_ELEMENT_DETECTED) {\n                        rootPlayers.push(player);\n                    }\n                    else {\n                        var /** @type {?} */ parentPlayers = _this.playersByElement.get(parentWithAnimation_1);\n                        if (parentPlayers && parentPlayers.length) {\n                            player.parentPlayer = optimizeGroupPlayer(parentPlayers);\n                        }\n                        skippedPlayers.push(player);\n                    }\n                }\n                else {\n                    eraseStyles(element, instruction.fromStyles);\n                    player.onDestroy(function () { return setStyles(element, instruction.toStyles); });\n                    // there still might be a ancestor player animating this\n                    // element therefore we will still add it as a sub player\n                    // even if its animation may be disabled\n                    subPlayers.push(player);\n                    if (disabledElementsSet.has(element)) {\n                        skippedPlayers.push(player);\n                    }\n                }\n            });\n            // find all of the sub players' corresponding inner animation player\n            subPlayers.forEach(function (player) {\n                // even if any players are not found for a sub animation then it\n                // will still complete itself after the next tick since it's Noop\n                var /** @type {?} */ playersForElement = skippedPlayersMap.get(player.element);\n                if (playersForElement && playersForElement.length) {\n                    var /** @type {?} */ innerPlayer = optimizeGroupPlayer(playersForElement);\n                    player.setRealPlayer(innerPlayer);\n                }\n            });\n            // the reason why we don't actually play the animation is\n            // because all that a skipped player is designed to do is to\n            // fire the start/done transition callback events\n            skippedPlayers.forEach(function (player) {\n                if (player.parentPlayer) {\n                    player.syncPlayerEvents(player.parentPlayer);\n                }\n                else {\n                    player.destroy();\n                }\n            });\n            // run through all of the queued removals and see if they\n            // were picked up by a query. If not then perform the removal\n            // operation right away unless a parent animation is ongoing.\n            for (var /** @type {?} */ i_4 = 0; i_4 < allLeaveNodes.length; i_4++) {\n                var /** @type {?} */ element = allLeaveNodes[i_4];\n                var /** @type {?} */ details = (element[REMOVAL_FLAG]);\n                removeClass(element, LEAVE_CLASSNAME);\n                // this means the element has a removal animation that is being\n                // taken care of and therefore the inner elements will hang around\n                // until that animation is over (or the parent queried animation)\n                if (details && details.hasAnimation)\n                    continue;\n                var /** @type {?} */ players = [];\n                // if this element is queried or if it contains queried children\n                // then we want for the element not to be removed from the page\n                // until the queried animations have finished\n                if (queriedElements.size) {\n                    var /** @type {?} */ queriedPlayerResults = queriedElements.get(element);\n                    if (queriedPlayerResults && queriedPlayerResults.length) {\n                        players.push.apply(players, queriedPlayerResults);\n                    }\n                    var /** @type {?} */ queriedInnerElements = this.driver.query(element, NG_ANIMATING_SELECTOR, true);\n                    for (var /** @type {?} */ j = 0; j < queriedInnerElements.length; j++) {\n                        var /** @type {?} */ queriedPlayers = queriedElements.get(queriedInnerElements[j]);\n                        if (queriedPlayers && queriedPlayers.length) {\n                            players.push.apply(players, queriedPlayers);\n                        }\n                    }\n                }\n                var /** @type {?} */ activePlayers = players.filter(function (p) { return !p.destroyed; });\n                if (activePlayers.length) {\n                    removeNodesAfterAnimationDone(this, element, activePlayers);\n                }\n                else {\n                    this.processLeaveNode(element);\n                }\n            }\n            // this is required so the cleanup method doesn't remove them\n            allLeaveNodes.length = 0;\n            rootPlayers.forEach(function (player) {\n                _this.players.push(player);\n                player.onDone(function () {\n                    player.destroy();\n                    var /** @type {?} */ index = _this.players.indexOf(player);\n                    _this.players.splice(index, 1);\n                });\n                player.play();\n            });\n            return rootPlayers;\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.elementContainsData = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @return {?}\n     */\n        function (namespaceId, element) {\n            var /** @type {?} */ containsData = false;\n            var /** @type {?} */ details = (element[REMOVAL_FLAG]);\n            if (details && details.setForRemoval)\n                containsData = true;\n            if (this.playersByElement.has(element))\n                containsData = true;\n            if (this.playersByQueriedElement.has(element))\n                containsData = true;\n            if (this.statesByElement.has(element))\n                containsData = true;\n            return this._fetchNamespace(namespaceId).elementContainsData(element) || containsData;\n        };\n    /**\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.afterFlush = /**\n     * @param {?} callback\n     * @return {?}\n     */\n        function (callback) { this._flushFns.push(callback); };\n    /**\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.afterFlushAnimationsDone = /**\n     * @param {?} callback\n     * @return {?}\n     */\n        function (callback) { this._whenQuietFns.push(callback); };\n    /**\n     * @param {?} element\n     * @param {?} isQueriedElement\n     * @param {?=} namespaceId\n     * @param {?=} triggerName\n     * @param {?=} toStateValue\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._getPreviousPlayers = /**\n     * @param {?} element\n     * @param {?} isQueriedElement\n     * @param {?=} namespaceId\n     * @param {?=} triggerName\n     * @param {?=} toStateValue\n     * @return {?}\n     */\n        function (element, isQueriedElement, namespaceId, triggerName, toStateValue) {\n            var /** @type {?} */ players = [];\n            if (isQueriedElement) {\n                var /** @type {?} */ queriedElementPlayers = this.playersByQueriedElement.get(element);\n                if (queriedElementPlayers) {\n                    players = queriedElementPlayers;\n                }\n            }\n            else {\n                var /** @type {?} */ elementPlayers = this.playersByElement.get(element);\n                if (elementPlayers) {\n                    var /** @type {?} */ isRemovalAnimation_1 = !toStateValue || toStateValue == VOID_VALUE;\n                    elementPlayers.forEach(function (player) {\n                        if (player.queued)\n                            return;\n                        if (!isRemovalAnimation_1 && player.triggerName != triggerName)\n                            return;\n                        players.push(player);\n                    });\n                }\n            }\n            if (namespaceId || triggerName) {\n                players = players.filter(function (player) {\n                    if (namespaceId && namespaceId != player.namespaceId)\n                        return false;\n                    if (triggerName && triggerName != player.triggerName)\n                        return false;\n                    return true;\n                });\n            }\n            return players;\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._beforeAnimationBuild = /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @return {?}\n     */\n        function (namespaceId, instruction, allPreviousPlayersMap) {\n            var /** @type {?} */ triggerName = instruction.triggerName;\n            var /** @type {?} */ rootElement = instruction.element;\n            // when a removal animation occurs, ALL previous players are collected\n            // and destroyed (even if they are outside of the current namespace)\n            var /** @type {?} */ targetNameSpaceId = instruction.isRemovalTransition ? undefined : namespaceId;\n            var /** @type {?} */ targetTriggerName = instruction.isRemovalTransition ? undefined : triggerName;\n            var _loop_1 = function (timelineInstruction) {\n                var /** @type {?} */ element = timelineInstruction.element;\n                var /** @type {?} */ isQueriedElement = element !== rootElement;\n                var /** @type {?} */ players = getOrSetAsInMap(allPreviousPlayersMap, element, []);\n                var /** @type {?} */ previousPlayers = this_1._getPreviousPlayers(element, isQueriedElement, targetNameSpaceId, targetTriggerName, instruction.toState);\n                previousPlayers.forEach(function (player) {\n                    var /** @type {?} */ realPlayer = (player.getRealPlayer());\n                    if (realPlayer.beforeDestroy) {\n                        realPlayer.beforeDestroy();\n                    }\n                    player.destroy();\n                    players.push(player);\n                });\n            };\n            var this_1 = this;\n            for (var _i = 0, _a = instruction.timelines; _i < _a.length; _i++) {\n                var timelineInstruction = _a[_i];\n                _loop_1(timelineInstruction);\n            }\n            // this needs to be done so that the PRE/POST styles can be\n            // computed properly without interfering with the previous animation\n            eraseStyles(rootElement, instruction.fromStyles);\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @param {?} skippedPlayersMap\n     * @param {?} preStylesMap\n     * @param {?} postStylesMap\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._buildAnimation = /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @param {?} skippedPlayersMap\n     * @param {?} preStylesMap\n     * @param {?} postStylesMap\n     * @return {?}\n     */\n        function (namespaceId, instruction, allPreviousPlayersMap, skippedPlayersMap, preStylesMap, postStylesMap) {\n            var _this = this;\n            var /** @type {?} */ triggerName = instruction.triggerName;\n            var /** @type {?} */ rootElement = instruction.element;\n            // we first run this so that the previous animation player\n            // data can be passed into the successive animation players\n            var /** @type {?} */ allQueriedPlayers = [];\n            var /** @type {?} */ allConsumedElements = new Set();\n            var /** @type {?} */ allSubElements = new Set();\n            var /** @type {?} */ allNewPlayers = instruction.timelines.map(function (timelineInstruction) {\n                var /** @type {?} */ element = timelineInstruction.element;\n                allConsumedElements.add(element);\n                // FIXME (matsko): make sure to-be-removed animations are removed properly\n                var /** @type {?} */ details = element[REMOVAL_FLAG];\n                if (details && details.removedBeforeQueried)\n                    return new NoopAnimationPlayer();\n                var /** @type {?} */ isQueriedElement = element !== rootElement;\n                var /** @type {?} */ previousPlayers = flattenGroupPlayers((allPreviousPlayersMap.get(element) || EMPTY_PLAYER_ARRAY)\n                    .map(function (p) { return p.getRealPlayer(); }))\n                    .filter(function (p) {\n                    // the `element` is not apart of the AnimationPlayer definition, but\n                    // Mock/WebAnimations\n                    // use the element within their implementation. This will be added in Angular5 to\n                    // AnimationPlayer\n                    var /** @type {?} */ pp = (p);\n                    return pp.element ? pp.element === element : false;\n                });\n                var /** @type {?} */ preStyles = preStylesMap.get(element);\n                var /** @type {?} */ postStyles = postStylesMap.get(element);\n                var /** @type {?} */ keyframes = normalizeKeyframes(_this.driver, _this._normalizer, element, timelineInstruction.keyframes, preStyles, postStyles);\n                var /** @type {?} */ player = _this._buildPlayer(timelineInstruction, keyframes, previousPlayers);\n                // this means that this particular player belongs to a sub trigger. It is\n                // important that we match this player up with the corresponding (@trigger.listener)\n                if (timelineInstruction.subTimeline && skippedPlayersMap) {\n                    allSubElements.add(element);\n                }\n                if (isQueriedElement) {\n                    var /** @type {?} */ wrappedPlayer = new TransitionAnimationPlayer(namespaceId, triggerName, element);\n                    wrappedPlayer.setRealPlayer(player);\n                    allQueriedPlayers.push(wrappedPlayer);\n                }\n                return player;\n            });\n            allQueriedPlayers.forEach(function (player) {\n                getOrSetAsInMap(_this.playersByQueriedElement, player.element, []).push(player);\n                player.onDone(function () { return deleteOrUnsetInMap(_this.playersByQueriedElement, player.element, player); });\n            });\n            allConsumedElements.forEach(function (element) { return addClass(element, NG_ANIMATING_CLASSNAME); });\n            var /** @type {?} */ player = optimizeGroupPlayer(allNewPlayers);\n            player.onDestroy(function () {\n                allConsumedElements.forEach(function (element) { return removeClass(element, NG_ANIMATING_CLASSNAME); });\n                setStyles(rootElement, instruction.toStyles);\n            });\n            // this basically makes all of the callbacks for sub element animations\n            // be dependent on the upper players for when they finish\n            allSubElements.forEach(function (element) { getOrSetAsInMap(skippedPlayersMap, element, []).push(player); });\n            return player;\n        };\n    /**\n     * @param {?} instruction\n     * @param {?} keyframes\n     * @param {?} previousPlayers\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._buildPlayer = /**\n     * @param {?} instruction\n     * @param {?} keyframes\n     * @param {?} previousPlayers\n     * @return {?}\n     */\n        function (instruction, keyframes, previousPlayers) {\n            if (keyframes.length > 0) {\n                return this.driver.animate(instruction.element, keyframes, instruction.duration, instruction.delay, instruction.easing, previousPlayers);\n            }\n            // special case for when an empty transition|definition is provided\n            // ... there is no point in rendering an empty animation\n            return new NoopAnimationPlayer();\n        };\n    return TransitionAnimationEngine;\n}());\nvar TransitionAnimationPlayer = /*@__PURE__*/ (function () {\n    function TransitionAnimationPlayer(namespaceId, triggerName, element) {\n        this.namespaceId = namespaceId;\n        this.triggerName = triggerName;\n        this.element = element;\n        this._player = new NoopAnimationPlayer();\n        this._containsRealPlayer = false;\n        this._queuedCallbacks = {};\n        this.destroyed = false;\n        this.markedForDestroy = false;\n        this.queued = true;\n    }\n    /**\n     * @param {?} player\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.setRealPlayer = /**\n     * @param {?} player\n     * @return {?}\n     */\n        function (player) {\n            var _this = this;\n            if (this._containsRealPlayer)\n                return;\n            this._player = player;\n            Object.keys(this._queuedCallbacks).forEach(function (phase) {\n                _this._queuedCallbacks[phase].forEach(function (callback) { return listenOnPlayer(player, phase, undefined, callback); });\n            });\n            this._queuedCallbacks = {};\n            this._containsRealPlayer = true;\n            ((this)).queued = false;\n        };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.getRealPlayer = /**\n     * @return {?}\n     */\n        function () { return this._player; };\n    /**\n     * @param {?} player\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.syncPlayerEvents = /**\n     * @param {?} player\n     * @return {?}\n     */\n        function (player) {\n            var _this = this;\n            var /** @type {?} */ p = (this._player);\n            if (p.triggerCallback) {\n                player.onStart(function () { return p.triggerCallback('start'); });\n            }\n            player.onDone(function () { return _this.finish(); });\n            player.onDestroy(function () { return _this.destroy(); });\n        };\n    /**\n     * @param {?} name\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype._queueEvent = /**\n     * @param {?} name\n     * @param {?} callback\n     * @return {?}\n     */\n        function (name, callback) {\n            getOrSetAsInMap(this._queuedCallbacks, name, []).push(callback);\n        };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.onDone = /**\n     * @param {?} fn\n     * @return {?}\n     */\n        function (fn) {\n            if (this.queued) {\n                this._queueEvent('done', fn);\n            }\n            this._player.onDone(fn);\n        };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.onStart = /**\n     * @param {?} fn\n     * @return {?}\n     */\n        function (fn) {\n            if (this.queued) {\n                this._queueEvent('start', fn);\n            }\n            this._player.onStart(fn);\n        };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.onDestroy = /**\n     * @param {?} fn\n     * @return {?}\n     */\n        function (fn) {\n            if (this.queued) {\n                this._queueEvent('destroy', fn);\n            }\n            this._player.onDestroy(fn);\n        };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.init = /**\n     * @return {?}\n     */\n        function () { this._player.init(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.hasStarted = /**\n     * @return {?}\n     */\n        function () { return this.queued ? false : this._player.hasStarted(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.play = /**\n     * @return {?}\n     */\n        function () { !this.queued && this._player.play(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.pause = /**\n     * @return {?}\n     */\n        function () { !this.queued && this._player.pause(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.restart = /**\n     * @return {?}\n     */\n        function () { !this.queued && this._player.restart(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.finish = /**\n     * @return {?}\n     */\n        function () { this._player.finish(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.destroy = /**\n     * @return {?}\n     */\n        function () {\n            ((this)).destroyed = true;\n            this._player.destroy();\n        };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.reset = /**\n     * @return {?}\n     */\n        function () { !this.queued && this._player.reset(); };\n    /**\n     * @param {?} p\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.setPosition = /**\n     * @param {?} p\n     * @return {?}\n     */\n        function (p) {\n            if (!this.queued) {\n                this._player.setPosition(p);\n            }\n        };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.getPosition = /**\n     * @return {?}\n     */\n        function () { return this.queued ? 0 : this._player.getPosition(); };\n    Object.defineProperty(TransitionAnimationPlayer.prototype, \"totalTime\", {\n        get: /**\n         * @return {?}\n         */ function () { return this._player.totalTime; },\n        enumerable: true,\n        configurable: true\n    });\n    /* @internal */\n    /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.triggerCallback = /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n        function (phaseName) {\n            var /** @type {?} */ p = (this._player);\n            if (p.triggerCallback) {\n                p.triggerCallback(phaseName);\n            }\n        };\n    return TransitionAnimationPlayer;\n}());\n/**\n * @param {?} map\n * @param {?} key\n * @param {?} value\n * @return {?}\n */\nfunction deleteOrUnsetInMap(map, key, value) {\n    var /** @type {?} */ currentValues;\n    if (map instanceof Map) {\n        currentValues = map.get(key);\n        if (currentValues) {\n            if (currentValues.length) {\n                var /** @type {?} */ index = currentValues.indexOf(value);\n                currentValues.splice(index, 1);\n            }\n            if (currentValues.length == 0) {\n                map.delete(key);\n            }\n        }\n    }\n    else {\n        currentValues = map[key];\n        if (currentValues) {\n            if (currentValues.length) {\n                var /** @type {?} */ index = currentValues.indexOf(value);\n                currentValues.splice(index, 1);\n            }\n            if (currentValues.length == 0) {\n                delete map[key];\n            }\n        }\n    }\n    return currentValues;\n}\n/**\n * @param {?} value\n * @return {?}\n */\nfunction normalizeTriggerValue(value) {\n    // we use `!= null` here because it's the most simple\n    // way to test against a \"falsy\" value without mixing\n    // in empty strings or a zero value. DO NOT OPTIMIZE.\n    return value != null ? value : null;\n}\n/**\n * @param {?} node\n * @return {?}\n */\nfunction isElementNode(node) {\n    return node && node['nodeType'] === 1;\n}\n/**\n * @param {?} eventName\n * @return {?}\n */\nfunction isTriggerEventValid(eventName) {\n    return eventName == 'start' || eventName == 'done';\n}\n/**\n * @param {?} element\n * @param {?=} value\n * @return {?}\n */\nfunction cloakElement(element, value) {\n    var /** @type {?} */ oldValue = element.style.display;\n    element.style.display = value != null ? value : 'none';\n    return oldValue;\n}\n/**\n * @param {?} valuesMap\n * @param {?} driver\n * @param {?} elements\n * @param {?} elementPropsMap\n * @param {?} defaultStyle\n * @return {?}\n */\nfunction cloakAndComputeStyles(valuesMap, driver, elements, elementPropsMap, defaultStyle) {\n    var /** @type {?} */ cloakVals = [];\n    elements.forEach(function (element) { return cloakVals.push(cloakElement(element)); });\n    var /** @type {?} */ failedElements = [];\n    elementPropsMap.forEach(function (props, element) {\n        var /** @type {?} */ styles = {};\n        props.forEach(function (prop) {\n            var /** @type {?} */ value = styles[prop] = driver.computeStyle(element, prop, defaultStyle);\n            // there is no easy way to detect this because a sub element could be removed\n            // by a parent animation element being detached.\n            if (!value || value.length == 0) {\n                element[REMOVAL_FLAG] = NULL_REMOVED_QUERIED_STATE;\n                failedElements.push(element);\n            }\n        });\n        valuesMap.set(element, styles);\n    });\n    // we use a index variable here since Set.forEach(a, i) does not return\n    // an index value for the closure (but instead just the value)\n    var /** @type {?} */ i = 0;\n    elements.forEach(function (element) { return cloakElement(element, cloakVals[i++]); });\n    return failedElements;\n}\n/**\n * @param {?} roots\n * @param {?} nodes\n * @return {?}\n */\nfunction buildRootMap(roots, nodes) {\n    var /** @type {?} */ rootMap = new Map();\n    roots.forEach(function (root) { return rootMap.set(root, []); });\n    if (nodes.length == 0)\n        return rootMap;\n    var /** @type {?} */ NULL_NODE = 1;\n    var /** @type {?} */ nodeSet = new Set(nodes);\n    var /** @type {?} */ localRootMap = new Map();\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    function getRoot(node) {\n        if (!node)\n            return NULL_NODE;\n        var /** @type {?} */ root = localRootMap.get(node);\n        if (root)\n            return root;\n        var /** @type {?} */ parent = node.parentNode;\n        if (rootMap.has(parent)) {\n            // ngIf inside @trigger\n            root = parent;\n        }\n        else if (nodeSet.has(parent)) {\n            // ngIf inside ngIf\n            root = NULL_NODE;\n        }\n        else {\n            // recurse upwards\n            root = getRoot(parent);\n        }\n        localRootMap.set(node, root);\n        return root;\n    }\n    nodes.forEach(function (node) {\n        var /** @type {?} */ root = getRoot(node);\n        if (root !== NULL_NODE) {\n            /** @type {?} */ ((rootMap.get(root))).push(node);\n        }\n    });\n    return rootMap;\n}\nvar CLASSES_CACHE_KEY = '$$classes';\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nfunction addClass(element, className) {\n    if (element.classList) {\n        element.classList.add(className);\n    }\n    else {\n        var /** @type {?} */ classes = element[CLASSES_CACHE_KEY];\n        if (!classes) {\n            classes = element[CLASSES_CACHE_KEY] = {};\n        }\n        classes[className] = true;\n    }\n}\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nfunction removeClass(element, className) {\n    if (element.classList) {\n        element.classList.remove(className);\n    }\n    else {\n        var /** @type {?} */ classes = element[CLASSES_CACHE_KEY];\n        if (classes) {\n            delete classes[className];\n        }\n    }\n}\n/**\n * @param {?} engine\n * @param {?} element\n * @param {?} players\n * @return {?}\n */\nfunction removeNodesAfterAnimationDone(engine, element, players) {\n    optimizeGroupPlayer(players).onDone(function () { return engine.processLeaveNode(element); });\n}\n/**\n * @param {?} players\n * @return {?}\n */\nfunction flattenGroupPlayers(players) {\n    var /** @type {?} */ finalPlayers = [];\n    _flattenGroupPlayersRecur(players, finalPlayers);\n    return finalPlayers;\n}\n/**\n * @param {?} players\n * @param {?} finalPlayers\n * @return {?}\n */\nfunction _flattenGroupPlayersRecur(players, finalPlayers) {\n    for (var /** @type {?} */ i = 0; i < players.length; i++) {\n        var /** @type {?} */ player = players[i];\n        if (player instanceof ɵAnimationGroupPlayer) {\n            _flattenGroupPlayersRecur(player.players, finalPlayers);\n        }\n        else {\n            finalPlayers.push(/** @type {?} */ (player));\n        }\n    }\n}\n/**\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nfunction objEquals(a, b) {\n    var /** @type {?} */ k1 = Object.keys(a);\n    var /** @type {?} */ k2 = Object.keys(b);\n    if (k1.length != k2.length)\n        return false;\n    for (var /** @type {?} */ i = 0; i < k1.length; i++) {\n        var /** @type {?} */ prop = k1[i];\n        if (!b.hasOwnProperty(prop) || a[prop] !== b[prop])\n            return false;\n    }\n    return true;\n}\n/**\n * @param {?} element\n * @param {?} allPreStyleElements\n * @param {?} allPostStyleElements\n * @return {?}\n */\nfunction replacePostStylesAsPre(element, allPreStyleElements, allPostStyleElements) {\n    var /** @type {?} */ postEntry = allPostStyleElements.get(element);\n    if (!postEntry)\n        return false;\n    var /** @type {?} */ preEntry = allPreStyleElements.get(element);\n    if (preEntry) {\n        postEntry.forEach(function (data) { return ((preEntry)).add(data); });\n    }\n    else {\n        allPreStyleElements.set(element, postEntry);\n    }\n    allPostStyleElements.delete(element);\n    return true;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar AnimationEngine = /*@__PURE__*/ (function () {\n    function AnimationEngine(_driver, normalizer) {\n        var _this = this;\n        this._driver = _driver;\n        this._triggerCache = {};\n        this.onRemovalComplete = function (element, context) { };\n        this._transitionEngine = new TransitionAnimationEngine(_driver, normalizer);\n        this._timelineEngine = new TimelineAnimationEngine(_driver, normalizer);\n        this._transitionEngine.onRemovalComplete = function (element, context) {\n            return _this.onRemovalComplete(element, context);\n        };\n    }\n    /**\n     * @param {?} componentId\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @param {?} name\n     * @param {?} metadata\n     * @return {?}\n     */\n    AnimationEngine.prototype.registerTrigger = /**\n     * @param {?} componentId\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @param {?} name\n     * @param {?} metadata\n     * @return {?}\n     */\n        function (componentId, namespaceId, hostElement, name, metadata) {\n            var /** @type {?} */ cacheKey = componentId + '-' + name;\n            var /** @type {?} */ trigger = this._triggerCache[cacheKey];\n            if (!trigger) {\n                var /** @type {?} */ errors = [];\n                var /** @type {?} */ ast = (buildAnimationAst(this._driver, /** @type {?} */ (metadata), errors));\n                if (errors.length) {\n                    throw new Error(\"The animation trigger \\\"\" + name + \"\\\" has failed to build due to the following errors:\\n - \" + errors.join(\"\\n - \"));\n                }\n                trigger = buildTrigger(name, ast);\n                this._triggerCache[cacheKey] = trigger;\n            }\n            this._transitionEngine.registerTrigger(namespaceId, name, trigger);\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    AnimationEngine.prototype.register = /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n        function (namespaceId, hostElement) {\n            this._transitionEngine.register(namespaceId, hostElement);\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationEngine.prototype.destroy = /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n        function (namespaceId, context) {\n            this._transitionEngine.destroy(namespaceId, context);\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n    AnimationEngine.prototype.onInsert = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n        function (namespaceId, element, parent, insertBefore) {\n            this._transitionEngine.insertNode(namespaceId, element, parent, insertBefore);\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationEngine.prototype.onRemove = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n        function (namespaceId, element, context) {\n            this._transitionEngine.removeNode(namespaceId, element, context);\n        };\n    /**\n     * @param {?} element\n     * @param {?} disable\n     * @return {?}\n     */\n    AnimationEngine.prototype.disableAnimations = /**\n     * @param {?} element\n     * @param {?} disable\n     * @return {?}\n     */\n        function (element, disable) {\n            this._transitionEngine.markElementAsDisabled(element, disable);\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} property\n     * @param {?} value\n     * @return {?}\n     */\n    AnimationEngine.prototype.process = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} property\n     * @param {?} value\n     * @return {?}\n     */\n        function (namespaceId, element, property, value) {\n            if (property.charAt(0) == '@') {\n                var _a = parseTimelineCommand(property), id = _a[0], action = _a[1];\n                var /** @type {?} */ args = (value);\n                this._timelineEngine.command(id, element, action, args);\n            }\n            else {\n                this._transitionEngine.trigger(namespaceId, element, property, value);\n            }\n        };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} eventPhase\n     * @param {?} callback\n     * @return {?}\n     */\n    AnimationEngine.prototype.listen = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} eventPhase\n     * @param {?} callback\n     * @return {?}\n     */\n        function (namespaceId, element, eventName, eventPhase, callback) {\n            // @@listen\n            if (eventName.charAt(0) == '@') {\n                var _a = parseTimelineCommand(eventName), id = _a[0], action = _a[1];\n                return this._timelineEngine.listen(id, element, action, callback);\n            }\n            return this._transitionEngine.listen(namespaceId, element, eventName, eventPhase, callback);\n        };\n    /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n    AnimationEngine.prototype.flush = /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n        function (microtaskId) {\n            if (microtaskId === void 0) {\n                microtaskId = -1;\n            }\n            this._transitionEngine.flush(microtaskId);\n        };\n    Object.defineProperty(AnimationEngine.prototype, \"players\", {\n        get: /**\n         * @return {?}\n         */ function () {\n            return ((this._transitionEngine.players))\n                .concat(/** @type {?} */ (this._timelineEngine.players));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    AnimationEngine.prototype.whenRenderingDone = /**\n     * @return {?}\n     */\n        function () { return this._transitionEngine.whenRenderingDone(); };\n    return AnimationEngine;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar WebAnimationsPlayer = /*@__PURE__*/ (function () {\n    function WebAnimationsPlayer(element, keyframes, options, previousPlayers) {\n        if (previousPlayers === void 0) {\n            previousPlayers = [];\n        }\n        var _this = this;\n        this.element = element;\n        this.keyframes = keyframes;\n        this.options = options;\n        this.previousPlayers = previousPlayers;\n        this._onDoneFns = [];\n        this._onStartFns = [];\n        this._onDestroyFns = [];\n        this._initialized = false;\n        this._finished = false;\n        this._started = false;\n        this._destroyed = false;\n        this.time = 0;\n        this.parentPlayer = null;\n        this.previousStyles = {};\n        this.currentSnapshot = {};\n        this._duration = /** @type {?} */ (options['duration']);\n        this._delay = /** @type {?} */ (options['delay']) || 0;\n        this.time = this._duration + this._delay;\n        if (allowPreviousPlayerStylesMerge(this._duration, this._delay)) {\n            previousPlayers.forEach(function (player) {\n                var /** @type {?} */ styles = player.currentSnapshot;\n                Object.keys(styles).forEach(function (prop) { return _this.previousStyles[prop] = styles[prop]; });\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._onFinish = /**\n     * @return {?}\n     */\n        function () {\n            if (!this._finished) {\n                this._finished = true;\n                this._onDoneFns.forEach(function (fn) { return fn(); });\n                this._onDoneFns = [];\n            }\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.init = /**\n     * @return {?}\n     */\n        function () {\n            this._buildPlayer();\n            this._preparePlayerBeforeStart();\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._buildPlayer = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            if (this._initialized)\n                return;\n            this._initialized = true;\n            var /** @type {?} */ keyframes = this.keyframes.map(function (styles) { return copyStyles(styles, false); });\n            var /** @type {?} */ previousStyleProps = Object.keys(this.previousStyles);\n            if (previousStyleProps.length && keyframes.length) {\n                var /** @type {?} */ startingKeyframe_1 = keyframes[0];\n                var /** @type {?} */ missingStyleProps_1 = [];\n                previousStyleProps.forEach(function (prop) {\n                    if (!startingKeyframe_1.hasOwnProperty(prop)) {\n                        missingStyleProps_1.push(prop);\n                    }\n                    startingKeyframe_1[prop] = _this.previousStyles[prop];\n                });\n                if (missingStyleProps_1.length) {\n                    var /** @type {?} */ self_1 = this;\n                    var _loop_1 = function () {\n                        var /** @type {?} */ kf = keyframes[i];\n                        missingStyleProps_1.forEach(function (prop) {\n                            kf[prop] = _computeStyle(self_1.element, prop);\n                        });\n                    };\n                    // tslint:disable-next-line\n                    for (var /** @type {?} */ i = 1; i < keyframes.length; i++) {\n                        _loop_1();\n                    }\n                }\n            }\n            ((this)).domPlayer =\n                this._triggerWebAnimation(this.element, keyframes, this.options);\n            this._finalKeyframe = keyframes.length ? keyframes[keyframes.length - 1] : {};\n            this.domPlayer.addEventListener('finish', function () { return _this._onFinish(); });\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._preparePlayerBeforeStart = /**\n     * @return {?}\n     */\n        function () {\n            // this is required so that the player doesn't start to animate right away\n            if (this._delay) {\n                this._resetDomPlayerState();\n            }\n            else {\n                this.domPlayer.pause();\n            }\n        };\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} options\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._triggerWebAnimation = /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} options\n     * @return {?}\n     */\n        function (element, keyframes, options) {\n            // jscompiler doesn't seem to know animate is a native property because it's not fully\n            // supported yet across common browsers (we polyfill it for Edge/Safari) [CL #143630929]\n            return /** @type {?} */ (element['animate'](keyframes, options));\n        };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.onStart = /**\n     * @param {?} fn\n     * @return {?}\n     */\n        function (fn) { this._onStartFns.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.onDone = /**\n     * @param {?} fn\n     * @return {?}\n     */\n        function (fn) { this._onDoneFns.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.onDestroy = /**\n     * @param {?} fn\n     * @return {?}\n     */\n        function (fn) { this._onDestroyFns.push(fn); };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.play = /**\n     * @return {?}\n     */\n        function () {\n            this._buildPlayer();\n            if (!this.hasStarted()) {\n                this._onStartFns.forEach(function (fn) { return fn(); });\n                this._onStartFns = [];\n                this._started = true;\n            }\n            this.domPlayer.play();\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.pause = /**\n     * @return {?}\n     */\n        function () {\n            this.init();\n            this.domPlayer.pause();\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.finish = /**\n     * @return {?}\n     */\n        function () {\n            this.init();\n            this._onFinish();\n            this.domPlayer.finish();\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.reset = /**\n     * @return {?}\n     */\n        function () {\n            this._resetDomPlayerState();\n            this._destroyed = false;\n            this._finished = false;\n            this._started = false;\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._resetDomPlayerState = /**\n     * @return {?}\n     */\n        function () {\n            if (this.domPlayer) {\n                this.domPlayer.cancel();\n            }\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.restart = /**\n     * @return {?}\n     */\n        function () {\n            this.reset();\n            this.play();\n        };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.hasStarted = /**\n     * @return {?}\n     */\n        function () { return this._started; };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.destroy = /**\n     * @return {?}\n     */\n        function () {\n            if (!this._destroyed) {\n                this._destroyed = true;\n                this._resetDomPlayerState();\n                this._onFinish();\n                this._onDestroyFns.forEach(function (fn) { return fn(); });\n                this._onDestroyFns = [];\n            }\n        };\n    /**\n     * @param {?} p\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.setPosition = /**\n     * @param {?} p\n     * @return {?}\n     */\n        function (p) { this.domPlayer.currentTime = p * this.time; };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.getPosition = /**\n     * @return {?}\n     */\n        function () { return this.domPlayer.currentTime / this.time; };\n    Object.defineProperty(WebAnimationsPlayer.prototype, \"totalTime\", {\n        get: /**\n         * @return {?}\n         */ function () { return this._delay + this._duration; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.beforeDestroy = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            var /** @type {?} */ styles = {};\n            if (this.hasStarted()) {\n                Object.keys(this._finalKeyframe).forEach(function (prop) {\n                    if (prop != 'offset') {\n                        styles[prop] =\n                            _this._finished ? _this._finalKeyframe[prop] : _computeStyle(_this.element, prop);\n                    }\n                });\n            }\n            this.currentSnapshot = styles;\n        };\n    /* @internal */\n    /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.triggerCallback = /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n        function (phaseName) {\n            var /** @type {?} */ methods = phaseName == 'start' ? this._onStartFns : this._onDoneFns;\n            methods.forEach(function (fn) { return fn(); });\n            methods.length = 0;\n        };\n    return WebAnimationsPlayer;\n}());\n/**\n * @param {?} element\n * @param {?} prop\n * @return {?}\n */\nfunction _computeStyle(element, prop) {\n    return ((window.getComputedStyle(element)))[prop];\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar WebAnimationsDriver = /*@__PURE__*/ (function () {\n    function WebAnimationsDriver() {\n    }\n    /**\n     * @param {?} prop\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.validateStyleProperty = /**\n     * @param {?} prop\n     * @return {?}\n     */\n        function (prop) { return validateStyleProperty(prop); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.matchesElement = /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n        function (element, selector) {\n            return matchesElement(element, selector);\n        };\n    /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.containsElement = /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n        function (elm1, elm2) { return containsElement(elm1, elm2); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.query = /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n        function (element, selector, multi) {\n            return invokeQuery(element, selector, multi);\n        };\n    /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.computeStyle = /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n        function (element, prop, defaultValue) {\n            return /** @type {?} */ (((window.getComputedStyle(element)))[prop]);\n        };\n    /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.animate = /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n        function (element, keyframes, duration, delay, easing, previousPlayers) {\n            if (previousPlayers === void 0) {\n                previousPlayers = [];\n            }\n            var /** @type {?} */ fill = delay == 0 ? 'both' : 'forwards';\n            var /** @type {?} */ playerOptions = { duration: duration, delay: delay, fill: fill };\n            // we check for this to avoid having a null|undefined value be present\n            // for the easing (which results in an error for certain browsers #9752)\n            if (easing) {\n                playerOptions['easing'] = easing;\n            }\n            var /** @type {?} */ previousWebAnimationPlayers = (previousPlayers.filter(function (player) { return player instanceof WebAnimationsPlayer; }));\n            return new WebAnimationsPlayer(element, keyframes, playerOptions, previousWebAnimationPlayers);\n        };\n    return WebAnimationsDriver;\n}());\n/**\n * @return {?}\n */\nfunction supportsWebAnimations() {\n    return typeof Element !== 'undefined' && typeof ((Element)).prototype['animate'] === 'function';\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of this package.\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Generated bundle index. Do not edit.\n */\nexport { AnimationDriver, Animation as ɵAnimation, AnimationStyleNormalizer as ɵAnimationStyleNormalizer, NoopAnimationStyleNormalizer as ɵNoopAnimationStyleNormalizer, WebAnimationsStyleNormalizer as ɵWebAnimationsStyleNormalizer, NoopAnimationDriver as ɵNoopAnimationDriver, AnimationEngine as ɵAnimationEngine, WebAnimationsDriver as ɵWebAnimationsDriver, supportsWebAnimations as ɵsupportsWebAnimations, WebAnimationsPlayer as ɵWebAnimationsPlayer };\n\n\n\n",{"version":3,"file":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular\\animations\\esm5\\browser.js.post-build-optimizer.js","sourceRoot":"","sources":["D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular\\animations\\esm5\\browser.js.pre-build-optimizer.js"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license Angular v5.2.11\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\nimport { AUTO_STYLE, NoopAnimationPlayer, sequence, style, ɵAnimationGroupPlayer, ɵPRE_STYLE } from '@angular/animations';\nimport { __assign, __extends } from 'tslib';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @param {?} players\n * @return {?}\n */\nfunction optimizeGroupPlayer(players) {\n    switch (players.length) {\n        case 0:\n            return new NoopAnimationPlayer();\n        case 1:\n            return players[0];\n        default:\n            return new ɵAnimationGroupPlayer(players);\n    }\n}\n/**\n * @param {?} driver\n * @param {?} normalizer\n * @param {?} element\n * @param {?} keyframes\n * @param {?=} preStyles\n * @param {?=} postStyles\n * @return {?}\n */\nfunction normalizeKeyframes(driver, normalizer, element, keyframes, preStyles, postStyles) {\n    if (preStyles === void 0) { preStyles = {}; }\n    if (postStyles === void 0) { postStyles = {}; }\n    var /** @type {?} */ errors = [];\n    var /** @type {?} */ normalizedKeyframes = [];\n    var /** @type {?} */ previousOffset = -1;\n    var /** @type {?} */ previousKeyframe = null;\n    keyframes.forEach(function (kf) {\n        var /** @type {?} */ offset = /** @type {?} */ (kf['offset']);\n        var /** @type {?} */ isSameOffset = offset == previousOffset;\n        var /** @type {?} */ normalizedKeyframe = (isSameOffset && previousKeyframe) || {};\n        Object.keys(kf).forEach(function (prop) {\n            var /** @type {?} */ normalizedProp = prop;\n            var /** @type {?} */ normalizedValue = kf[prop];\n            if (prop !== 'offset') {\n                normalizedProp = normalizer.normalizePropertyName(normalizedProp, errors);\n                switch (normalizedValue) {\n                    case ɵPRE_STYLE:\n                        normalizedValue = preStyles[prop];\n                        break;\n                    case AUTO_STYLE:\n                        normalizedValue = postStyles[prop];\n                        break;\n                    default:\n                        normalizedValue =\n                            normalizer.normalizeStyleValue(prop, normalizedProp, normalizedValue, errors);\n                        break;\n                }\n            }\n            normalizedKeyframe[normalizedProp] = normalizedValue;\n        });\n        if (!isSameOffset) {\n            normalizedKeyframes.push(normalizedKeyframe);\n        }\n        previousKeyframe = normalizedKeyframe;\n        previousOffset = offset;\n    });\n    if (errors.length) {\n        var /** @type {?} */ LINE_START = '\\n - ';\n        throw new Error(\"Unable to animate due to the following errors:\" + LINE_START + errors.join(LINE_START));\n    }\n    return normalizedKeyframes;\n}\n/**\n * @param {?} player\n * @param {?} eventName\n * @param {?} event\n * @param {?} callback\n * @return {?}\n */\nfunction listenOnPlayer(player, eventName, event, callback) {\n    switch (eventName) {\n        case 'start':\n            player.onStart(function () { return callback(event && copyAnimationEvent(event, 'start', player.totalTime)); });\n            break;\n        case 'done':\n            player.onDone(function () { return callback(event && copyAnimationEvent(event, 'done', player.totalTime)); });\n            break;\n        case 'destroy':\n            player.onDestroy(function () { return callback(event && copyAnimationEvent(event, 'destroy', player.totalTime)); });\n            break;\n    }\n}\n/**\n * @param {?} e\n * @param {?=} phaseName\n * @param {?=} totalTime\n * @return {?}\n */\nfunction copyAnimationEvent(e, phaseName, totalTime) {\n    var /** @type {?} */ event = makeAnimationEvent(e.element, e.triggerName, e.fromState, e.toState, phaseName || e.phaseName, totalTime == undefined ? e.totalTime : totalTime);\n    var /** @type {?} */ data = (/** @type {?} */ (e))['_data'];\n    if (data != null) {\n        (/** @type {?} */ (event))['_data'] = data;\n    }\n    return event;\n}\n/**\n * @param {?} element\n * @param {?} triggerName\n * @param {?} fromState\n * @param {?} toState\n * @param {?=} phaseName\n * @param {?=} totalTime\n * @return {?}\n */\nfunction makeAnimationEvent(element, triggerName, fromState, toState, phaseName, totalTime) {\n    if (phaseName === void 0) { phaseName = ''; }\n    if (totalTime === void 0) { totalTime = 0; }\n    return { element: element, triggerName: triggerName, fromState: fromState, toState: toState, phaseName: phaseName, totalTime: totalTime };\n}\n/**\n * @param {?} map\n * @param {?} key\n * @param {?} defaultValue\n * @return {?}\n */\nfunction getOrSetAsInMap(map, key, defaultValue) {\n    var /** @type {?} */ value;\n    if (map instanceof Map) {\n        value = map.get(key);\n        if (!value) {\n            map.set(key, value = defaultValue);\n        }\n    }\n    else {\n        value = map[key];\n        if (!value) {\n            value = map[key] = defaultValue;\n        }\n    }\n    return value;\n}\n/**\n * @param {?} command\n * @return {?}\n */\nfunction parseTimelineCommand(command) {\n    var /** @type {?} */ separatorPos = command.indexOf(':');\n    var /** @type {?} */ id = command.substring(1, separatorPos);\n    var /** @type {?} */ action = command.substr(separatorPos + 1);\n    return [id, action];\n}\nvar _contains = function (elm1, elm2) { return false; };\nvar _matches = function (element, selector) {\n    return false;\n};\nvar _query = function (element, selector, multi) {\n    return [];\n};\nif (typeof Element != 'undefined') {\n    // this is well supported in all browsers\n    _contains = function (elm1, elm2) { return /** @type {?} */ (elm1.contains(elm2)); };\n    if (Element.prototype.matches) {\n        _matches = function (element, selector) { return element.matches(selector); };\n    }\n    else {\n        var /** @type {?} */ proto = /** @type {?} */ (Element.prototype);\n        var /** @type {?} */ fn_1 = proto.matchesSelector || proto.mozMatchesSelector || proto.msMatchesSelector ||\n            proto.oMatchesSelector || proto.webkitMatchesSelector;\n        if (fn_1) {\n            _matches = function (element, selector) { return fn_1.apply(element, [selector]); };\n        }\n    }\n    _query = function (element, selector, multi) {\n        var /** @type {?} */ results = [];\n        if (multi) {\n            results.push.apply(results, element.querySelectorAll(selector));\n        }\n        else {\n            var /** @type {?} */ elm = element.querySelector(selector);\n            if (elm) {\n                results.push(elm);\n            }\n        }\n        return results;\n    };\n}\n/**\n * @param {?} prop\n * @return {?}\n */\nfunction containsVendorPrefix(prop) {\n    // Webkit is the only real popular vendor prefix nowadays\n    // cc: http://shouldiprefix.com/\n    return prop.substring(1, 6) == 'ebkit'; // webkit or Webkit\n}\nvar _CACHED_BODY = null;\nvar _IS_WEBKIT = false;\n/**\n * @param {?} prop\n * @return {?}\n */\nfunction validateStyleProperty(prop) {\n    if (!_CACHED_BODY) {\n        _CACHED_BODY = getBodyNode() || {};\n        _IS_WEBKIT = /** @type {?} */ ((_CACHED_BODY)).style ? ('WebkitAppearance' in /** @type {?} */ ((_CACHED_BODY)).style) : false;\n    }\n    var /** @type {?} */ result = true;\n    if (/** @type {?} */ ((_CACHED_BODY)).style && !containsVendorPrefix(prop)) {\n        result = prop in /** @type {?} */ ((_CACHED_BODY)).style;\n        if (!result && _IS_WEBKIT) {\n            var /** @type {?} */ camelProp = 'Webkit' + prop.charAt(0).toUpperCase() + prop.substr(1);\n            result = camelProp in /** @type {?} */ ((_CACHED_BODY)).style;\n        }\n    }\n    return result;\n}\n/**\n * @return {?}\n */\nfunction getBodyNode() {\n    if (typeof document != 'undefined') {\n        return document.body;\n    }\n    return null;\n}\nvar matchesElement = _matches;\nvar containsElement = _contains;\nvar invokeQuery = _query;\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * \\@experimental\n */\nvar NoopAnimationDriver = /** @class */ (function () {\n    function NoopAnimationDriver() {\n    }\n    /**\n     * @param {?} prop\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.validateStyleProperty = /**\n     * @param {?} prop\n     * @return {?}\n     */\n    function (prop) { return validateStyleProperty(prop); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.matchesElement = /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n    function (element, selector) {\n        return matchesElement(element, selector);\n    };\n    /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.containsElement = /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n    function (elm1, elm2) { return containsElement(elm1, elm2); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.query = /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n    function (element, selector, multi) {\n        return invokeQuery(element, selector, multi);\n    };\n    /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.computeStyle = /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n    function (element, prop, defaultValue) {\n        return defaultValue || '';\n    };\n    /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n    NoopAnimationDriver.prototype.animate = /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n    function (element, keyframes, duration, delay, easing, previousPlayers) {\n        if (previousPlayers === void 0) { previousPlayers = []; }\n        return new NoopAnimationPlayer();\n    };\n    return NoopAnimationDriver;\n}());\n/**\n * \\@experimental\n * @abstract\n */\nvar AnimationDriver = /** @class */ (function () {\n    function AnimationDriver() {\n    }\n    AnimationDriver.NOOP = new NoopAnimationDriver();\n    return AnimationDriver;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar ONE_SECOND = 1000;\nvar SUBSTITUTION_EXPR_START = '{{';\nvar SUBSTITUTION_EXPR_END = '}}';\nvar ENTER_CLASSNAME = 'ng-enter';\nvar LEAVE_CLASSNAME = 'ng-leave';\n\n\nvar NG_TRIGGER_CLASSNAME = 'ng-trigger';\nvar NG_TRIGGER_SELECTOR = '.ng-trigger';\nvar NG_ANIMATING_CLASSNAME = 'ng-animating';\nvar NG_ANIMATING_SELECTOR = '.ng-animating';\n/**\n * @param {?} value\n * @return {?}\n */\nfunction resolveTimingValue(value) {\n    if (typeof value == 'number')\n        return value;\n    var /** @type {?} */ matches = (/** @type {?} */ (value)).match(/^(-?[\\.\\d]+)(m?s)/);\n    if (!matches || matches.length < 2)\n        return 0;\n    return _convertTimeValueToMS(parseFloat(matches[1]), matches[2]);\n}\n/**\n * @param {?} value\n * @param {?} unit\n * @return {?}\n */\nfunction _convertTimeValueToMS(value, unit) {\n    switch (unit) {\n        case 's':\n            return value * ONE_SECOND;\n        default:\n            // ms or something else\n            return value;\n    }\n}\n/**\n * @param {?} timings\n * @param {?} errors\n * @param {?=} allowNegativeValues\n * @return {?}\n */\nfunction resolveTiming(timings, errors, allowNegativeValues) {\n    return timings.hasOwnProperty('duration') ? /** @type {?} */ (timings) :\n        parseTimeExpression(/** @type {?} */ (timings), errors, allowNegativeValues);\n}\n/**\n * @param {?} exp\n * @param {?} errors\n * @param {?=} allowNegativeValues\n * @return {?}\n */\nfunction parseTimeExpression(exp, errors, allowNegativeValues) {\n    var /** @type {?} */ regex = /^(-?[\\.\\d]+)(m?s)(?:\\s+(-?[\\.\\d]+)(m?s))?(?:\\s+([-a-z]+(?:\\(.+?\\))?))?$/i;\n    var /** @type {?} */ duration;\n    var /** @type {?} */ delay = 0;\n    var /** @type {?} */ easing = '';\n    if (typeof exp === 'string') {\n        var /** @type {?} */ matches = exp.match(regex);\n        if (matches === null) {\n            errors.push(\"The provided timing value \\\"\" + exp + \"\\\" is invalid.\");\n            return { duration: 0, delay: 0, easing: '' };\n        }\n        duration = _convertTimeValueToMS(parseFloat(matches[1]), matches[2]);\n        var /** @type {?} */ delayMatch = matches[3];\n        if (delayMatch != null) {\n            delay = _convertTimeValueToMS(Math.floor(parseFloat(delayMatch)), matches[4]);\n        }\n        var /** @type {?} */ easingVal = matches[5];\n        if (easingVal) {\n            easing = easingVal;\n        }\n    }\n    else {\n        duration = /** @type {?} */ (exp);\n    }\n    if (!allowNegativeValues) {\n        var /** @type {?} */ containsErrors = false;\n        var /** @type {?} */ startIndex = errors.length;\n        if (duration < 0) {\n            errors.push(\"Duration values below 0 are not allowed for this animation step.\");\n            containsErrors = true;\n        }\n        if (delay < 0) {\n            errors.push(\"Delay values below 0 are not allowed for this animation step.\");\n            containsErrors = true;\n        }\n        if (containsErrors) {\n            errors.splice(startIndex, 0, \"The provided timing value \\\"\" + exp + \"\\\" is invalid.\");\n        }\n    }\n    return { duration: duration, delay: delay, easing: easing };\n}\n/**\n * @param {?} obj\n * @param {?=} destination\n * @return {?}\n */\nfunction copyObj(obj, destination) {\n    if (destination === void 0) { destination = {}; }\n    Object.keys(obj).forEach(function (prop) { destination[prop] = obj[prop]; });\n    return destination;\n}\n/**\n * @param {?} styles\n * @return {?}\n */\nfunction normalizeStyles(styles) {\n    var /** @type {?} */ normalizedStyles = {};\n    if (Array.isArray(styles)) {\n        styles.forEach(function (data) { return copyStyles(data, false, normalizedStyles); });\n    }\n    else {\n        copyStyles(styles, false, normalizedStyles);\n    }\n    return normalizedStyles;\n}\n/**\n * @param {?} styles\n * @param {?} readPrototype\n * @param {?=} destination\n * @return {?}\n */\nfunction copyStyles(styles, readPrototype, destination) {\n    if (destination === void 0) { destination = {}; }\n    if (readPrototype) {\n        // we make use of a for-in loop so that the\n        // prototypically inherited properties are\n        // revealed from the backFill map\n        for (var /** @type {?} */ prop in styles) {\n            destination[prop] = styles[prop];\n        }\n    }\n    else {\n        copyObj(styles, destination);\n    }\n    return destination;\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nfunction setStyles(element, styles) {\n    if (element['style']) {\n        Object.keys(styles).forEach(function (prop) {\n            var /** @type {?} */ camelProp = dashCaseToCamelCase(prop);\n            element.style[camelProp] = styles[prop];\n        });\n    }\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nfunction eraseStyles(element, styles) {\n    if (element['style']) {\n        Object.keys(styles).forEach(function (prop) {\n            var /** @type {?} */ camelProp = dashCaseToCamelCase(prop);\n            element.style[camelProp] = '';\n        });\n    }\n}\n/**\n * @param {?} steps\n * @return {?}\n */\nfunction normalizeAnimationEntry(steps) {\n    if (Array.isArray(steps)) {\n        if (steps.length == 1)\n            return steps[0];\n        return sequence(steps);\n    }\n    return /** @type {?} */ (steps);\n}\n/**\n * @param {?} value\n * @param {?} options\n * @param {?} errors\n * @return {?}\n */\nfunction validateStyleParams(value, options, errors) {\n    var /** @type {?} */ params = options.params || {};\n    var /** @type {?} */ matches = extractStyleParams(value);\n    if (matches.length) {\n        matches.forEach(function (varName) {\n            if (!params.hasOwnProperty(varName)) {\n                errors.push(\"Unable to resolve the local animation param \" + varName + \" in the given list of values\");\n            }\n        });\n    }\n}\nvar PARAM_REGEX = new RegExp(SUBSTITUTION_EXPR_START + \"\\\\s*(.+?)\\\\s*\" + SUBSTITUTION_EXPR_END, 'g');\n/**\n * @param {?} value\n * @return {?}\n */\nfunction extractStyleParams(value) {\n    var /** @type {?} */ params = [];\n    if (typeof value === 'string') {\n        var /** @type {?} */ val = value.toString();\n        var /** @type {?} */ match = void 0;\n        while (match = PARAM_REGEX.exec(val)) {\n            params.push(/** @type {?} */ (match[1]));\n        }\n        PARAM_REGEX.lastIndex = 0;\n    }\n    return params;\n}\n/**\n * @param {?} value\n * @param {?} params\n * @param {?} errors\n * @return {?}\n */\nfunction interpolateParams(value, params, errors) {\n    var /** @type {?} */ original = value.toString();\n    var /** @type {?} */ str = original.replace(PARAM_REGEX, function (_, varName) {\n        var /** @type {?} */ localVal = params[varName];\n        // this means that the value was never overidden by the data passed in by the user\n        if (!params.hasOwnProperty(varName)) {\n            errors.push(\"Please provide a value for the animation param \" + varName);\n            localVal = '';\n        }\n        return localVal.toString();\n    });\n    // we do this to assert that numeric values stay as they are\n    return str == original ? value : str;\n}\n/**\n * @param {?} iterator\n * @return {?}\n */\nfunction iteratorToArray(iterator) {\n    var /** @type {?} */ arr = [];\n    var /** @type {?} */ item = iterator.next();\n    while (!item.done) {\n        arr.push(item.value);\n        item = iterator.next();\n    }\n    return arr;\n}\n/**\n * @param {?} source\n * @param {?} destination\n * @return {?}\n */\n\nvar DASH_CASE_REGEXP = /-+([a-z0-9])/g;\n/**\n * @param {?} input\n * @return {?}\n */\nfunction dashCaseToCamelCase(input) {\n    return input.replace(DASH_CASE_REGEXP, function () {\n        var m = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            m[_i] = arguments[_i];\n        }\n        return m[1].toUpperCase();\n    });\n}\n/**\n * @param {?} duration\n * @param {?} delay\n * @return {?}\n */\nfunction allowPreviousPlayerStylesMerge(duration, delay) {\n    return duration === 0 || delay === 0;\n}\n/**\n * @param {?} visitor\n * @param {?} node\n * @param {?} context\n * @return {?}\n */\nfunction visitDslNode(visitor, node, context) {\n    switch (node.type) {\n        case 7 /* Trigger */:\n            return visitor.visitTrigger(node, context);\n        case 0 /* State */:\n            return visitor.visitState(node, context);\n        case 1 /* Transition */:\n            return visitor.visitTransition(node, context);\n        case 2 /* Sequence */:\n            return visitor.visitSequence(node, context);\n        case 3 /* Group */:\n            return visitor.visitGroup(node, context);\n        case 4 /* Animate */:\n            return visitor.visitAnimate(node, context);\n        case 5 /* Keyframes */:\n            return visitor.visitKeyframes(node, context);\n        case 6 /* Style */:\n            return visitor.visitStyle(node, context);\n        case 8 /* Reference */:\n            return visitor.visitReference(node, context);\n        case 9 /* AnimateChild */:\n            return visitor.visitAnimateChild(node, context);\n        case 10 /* AnimateRef */:\n            return visitor.visitAnimateRef(node, context);\n        case 11 /* Query */:\n            return visitor.visitQuery(node, context);\n        case 12 /* Stagger */:\n            return visitor.visitStagger(node, context);\n        default:\n            throw new Error(\"Unable to resolve animation metadata node #\" + node.type);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ANY_STATE = '*';\n/**\n * @param {?} transitionValue\n * @param {?} errors\n * @return {?}\n */\nfunction parseTransitionExpr(transitionValue, errors) {\n    var /** @type {?} */ expressions = [];\n    if (typeof transitionValue == 'string') {\n        (/** @type {?} */ (transitionValue))\n            .split(/\\s*,\\s*/)\n            .forEach(function (str) { return parseInnerTransitionStr(str, expressions, errors); });\n    }\n    else {\n        expressions.push(/** @type {?} */ (transitionValue));\n    }\n    return expressions;\n}\n/**\n * @param {?} eventStr\n * @param {?} expressions\n * @param {?} errors\n * @return {?}\n */\nfunction parseInnerTransitionStr(eventStr, expressions, errors) {\n    if (eventStr[0] == ':') {\n        var /** @type {?} */ result = parseAnimationAlias(eventStr, errors);\n        if (typeof result == 'function') {\n            expressions.push(result);\n            return;\n        }\n        eventStr = /** @type {?} */ (result);\n    }\n    var /** @type {?} */ match = eventStr.match(/^(\\*|[-\\w]+)\\s*(<?[=-]>)\\s*(\\*|[-\\w]+)$/);\n    if (match == null || match.length < 4) {\n        errors.push(\"The provided transition expression \\\"\" + eventStr + \"\\\" is not supported\");\n        return expressions;\n    }\n    var /** @type {?} */ fromState = match[1];\n    var /** @type {?} */ separator = match[2];\n    var /** @type {?} */ toState = match[3];\n    expressions.push(makeLambdaFromStates(fromState, toState));\n    var /** @type {?} */ isFullAnyStateExpr = fromState == ANY_STATE && toState == ANY_STATE;\n    if (separator[0] == '<' && !isFullAnyStateExpr) {\n        expressions.push(makeLambdaFromStates(toState, fromState));\n    }\n}\n/**\n * @param {?} alias\n * @param {?} errors\n * @return {?}\n */\nfunction parseAnimationAlias(alias, errors) {\n    switch (alias) {\n        case ':enter':\n            return 'void => *';\n        case ':leave':\n            return '* => void';\n        case ':increment':\n            return function (fromState, toState) { return parseFloat(toState) > parseFloat(fromState); };\n        case ':decrement':\n            return function (fromState, toState) { return parseFloat(toState) < parseFloat(fromState); };\n        default:\n            errors.push(\"The transition alias value \\\"\" + alias + \"\\\" is not supported\");\n            return '* => *';\n    }\n}\n// DO NOT REFACTOR ... keep the follow set instantiations\n// with the values intact (closure compiler for some reason\n// removes follow-up lines that add the values outside of\n// the constructor...\nvar TRUE_BOOLEAN_VALUES = new Set(['true', '1']);\nvar FALSE_BOOLEAN_VALUES = new Set(['false', '0']);\n/**\n * @param {?} lhs\n * @param {?} rhs\n * @return {?}\n */\nfunction makeLambdaFromStates(lhs, rhs) {\n    var /** @type {?} */ LHS_MATCH_BOOLEAN = TRUE_BOOLEAN_VALUES.has(lhs) || FALSE_BOOLEAN_VALUES.has(lhs);\n    var /** @type {?} */ RHS_MATCH_BOOLEAN = TRUE_BOOLEAN_VALUES.has(rhs) || FALSE_BOOLEAN_VALUES.has(rhs);\n    return function (fromState, toState) {\n        var /** @type {?} */ lhsMatch = lhs == ANY_STATE || lhs == fromState;\n        var /** @type {?} */ rhsMatch = rhs == ANY_STATE || rhs == toState;\n        if (!lhsMatch && LHS_MATCH_BOOLEAN && typeof fromState === 'boolean') {\n            lhsMatch = fromState ? TRUE_BOOLEAN_VALUES.has(lhs) : FALSE_BOOLEAN_VALUES.has(lhs);\n        }\n        if (!rhsMatch && RHS_MATCH_BOOLEAN && typeof toState === 'boolean') {\n            rhsMatch = toState ? TRUE_BOOLEAN_VALUES.has(rhs) : FALSE_BOOLEAN_VALUES.has(rhs);\n        }\n        return lhsMatch && rhsMatch;\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar SELF_TOKEN = ':self';\nvar SELF_TOKEN_REGEX = new RegExp(\"s*\" + SELF_TOKEN + \"s*,?\", 'g');\n/**\n * @param {?} driver\n * @param {?} metadata\n * @param {?} errors\n * @return {?}\n */\nfunction buildAnimationAst(driver, metadata, errors) {\n    return new AnimationAstBuilderVisitor(driver).build(metadata, errors);\n}\nvar ROOT_SELECTOR = '';\nvar AnimationAstBuilderVisitor = /** @class */ (function () {\n    function AnimationAstBuilderVisitor(_driver) {\n        this._driver = _driver;\n    }\n    /**\n     * @param {?} metadata\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.build = /**\n     * @param {?} metadata\n     * @param {?} errors\n     * @return {?}\n     */\n    function (metadata, errors) {\n        var /** @type {?} */ context = new AnimationAstBuilderContext(errors);\n        this._resetContextStyleTimingState(context);\n        return /** @type {?} */ (visitDslNode(this, normalizeAnimationEntry(metadata), context));\n    };\n    /**\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype._resetContextStyleTimingState = /**\n     * @param {?} context\n     * @return {?}\n     */\n    function (context) {\n        context.currentQuerySelector = ROOT_SELECTOR;\n        context.collectedStyles = {};\n        context.collectedStyles[ROOT_SELECTOR] = {};\n        context.currentTime = 0;\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitTrigger = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var _this = this;\n        var /** @type {?} */ queryCount = context.queryCount = 0;\n        var /** @type {?} */ depCount = context.depCount = 0;\n        var /** @type {?} */ states = [];\n        var /** @type {?} */ transitions = [];\n        if (metadata.name.charAt(0) == '@') {\n            context.errors.push('animation triggers cannot be prefixed with an `@` sign (e.g. trigger(\\'@foo\\', [...]))');\n        }\n        metadata.definitions.forEach(function (def) {\n            _this._resetContextStyleTimingState(context);\n            if (def.type == 0 /* State */) {\n                var /** @type {?} */ stateDef_1 = /** @type {?} */ (def);\n                var /** @type {?} */ name_1 = stateDef_1.name;\n                name_1.split(/\\s*,\\s*/).forEach(function (n) {\n                    stateDef_1.name = n;\n                    states.push(_this.visitState(stateDef_1, context));\n                });\n                stateDef_1.name = name_1;\n            }\n            else if (def.type == 1 /* Transition */) {\n                var /** @type {?} */ transition = _this.visitTransition(/** @type {?} */ (def), context);\n                queryCount += transition.queryCount;\n                depCount += transition.depCount;\n                transitions.push(transition);\n            }\n            else {\n                context.errors.push('only state() and transition() definitions can sit inside of a trigger()');\n            }\n        });\n        return {\n            type: 7 /* Trigger */,\n            name: metadata.name, states: states, transitions: transitions, queryCount: queryCount, depCount: depCount,\n            options: null\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitState = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var /** @type {?} */ styleAst = this.visitStyle(metadata.styles, context);\n        var /** @type {?} */ astParams = (metadata.options && metadata.options.params) || null;\n        if (styleAst.containsDynamicStyles) {\n            var /** @type {?} */ missingSubs_1 = new Set();\n            var /** @type {?} */ params_1 = astParams || {};\n            styleAst.styles.forEach(function (value) {\n                if (isObject(value)) {\n                    var /** @type {?} */ stylesObj_1 = /** @type {?} */ (value);\n                    Object.keys(stylesObj_1).forEach(function (prop) {\n                        extractStyleParams(stylesObj_1[prop]).forEach(function (sub) {\n                            if (!params_1.hasOwnProperty(sub)) {\n                                missingSubs_1.add(sub);\n                            }\n                        });\n                    });\n                }\n            });\n            if (missingSubs_1.size) {\n                var /** @type {?} */ missingSubsArr = iteratorToArray(missingSubs_1.values());\n                context.errors.push(\"state(\\\"\" + metadata.name + \"\\\", ...) must define default values for all the following style substitutions: \" + missingSubsArr.join(', '));\n            }\n        }\n        return {\n            type: 0 /* State */,\n            name: metadata.name,\n            style: styleAst,\n            options: astParams ? { params: astParams } : null\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitTransition = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        context.queryCount = 0;\n        context.depCount = 0;\n        var /** @type {?} */ animation = visitDslNode(this, normalizeAnimationEntry(metadata.animation), context);\n        var /** @type {?} */ matchers = parseTransitionExpr(metadata.expr, context.errors);\n        return {\n            type: 1 /* Transition */,\n            matchers: matchers,\n            animation: animation,\n            queryCount: context.queryCount,\n            depCount: context.depCount,\n            options: normalizeAnimationOptions(metadata.options)\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitSequence = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var _this = this;\n        return {\n            type: 2 /* Sequence */,\n            steps: metadata.steps.map(function (s) { return visitDslNode(_this, s, context); }),\n            options: normalizeAnimationOptions(metadata.options)\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitGroup = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var _this = this;\n        var /** @type {?} */ currentTime = context.currentTime;\n        var /** @type {?} */ furthestTime = 0;\n        var /** @type {?} */ steps = metadata.steps.map(function (step) {\n            context.currentTime = currentTime;\n            var /** @type {?} */ innerAst = visitDslNode(_this, step, context);\n            furthestTime = Math.max(furthestTime, context.currentTime);\n            return innerAst;\n        });\n        context.currentTime = furthestTime;\n        return {\n            type: 3 /* Group */,\n            steps: steps,\n            options: normalizeAnimationOptions(metadata.options)\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitAnimate = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var /** @type {?} */ timingAst = constructTimingAst(metadata.timings, context.errors);\n        context.currentAnimateTimings = timingAst;\n        var /** @type {?} */ styleAst;\n        var /** @type {?} */ styleMetadata = metadata.styles ? metadata.styles : style({});\n        if (styleMetadata.type == 5 /* Keyframes */) {\n            styleAst = this.visitKeyframes(/** @type {?} */ (styleMetadata), context);\n        }\n        else {\n            var /** @type {?} */ styleMetadata_1 = /** @type {?} */ (metadata.styles);\n            var /** @type {?} */ isEmpty = false;\n            if (!styleMetadata_1) {\n                isEmpty = true;\n                var /** @type {?} */ newStyleData = {};\n                if (timingAst.easing) {\n                    newStyleData['easing'] = timingAst.easing;\n                }\n                styleMetadata_1 = style(newStyleData);\n            }\n            context.currentTime += timingAst.duration + timingAst.delay;\n            var /** @type {?} */ _styleAst = this.visitStyle(styleMetadata_1, context);\n            _styleAst.isEmptyStep = isEmpty;\n            styleAst = _styleAst;\n        }\n        context.currentAnimateTimings = null;\n        return {\n            type: 4 /* Animate */,\n            timings: timingAst,\n            style: styleAst,\n            options: null\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitStyle = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var /** @type {?} */ ast = this._makeStyleAst(metadata, context);\n        this._validateStyleAst(ast, context);\n        return ast;\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype._makeStyleAst = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var /** @type {?} */ styles = [];\n        if (Array.isArray(metadata.styles)) {\n            (/** @type {?} */ (metadata.styles)).forEach(function (styleTuple) {\n                if (typeof styleTuple == 'string') {\n                    if (styleTuple == AUTO_STYLE) {\n                        styles.push(/** @type {?} */ (styleTuple));\n                    }\n                    else {\n                        context.errors.push(\"The provided style string value \" + styleTuple + \" is not allowed.\");\n                    }\n                }\n                else {\n                    styles.push(/** @type {?} */ (styleTuple));\n                }\n            });\n        }\n        else {\n            styles.push(metadata.styles);\n        }\n        var /** @type {?} */ containsDynamicStyles = false;\n        var /** @type {?} */ collectedEasing = null;\n        styles.forEach(function (styleData) {\n            if (isObject(styleData)) {\n                var /** @type {?} */ styleMap = /** @type {?} */ (styleData);\n                var /** @type {?} */ easing = styleMap['easing'];\n                if (easing) {\n                    collectedEasing = /** @type {?} */ (easing);\n                    delete styleMap['easing'];\n                }\n                if (!containsDynamicStyles) {\n                    for (var /** @type {?} */ prop in styleMap) {\n                        var /** @type {?} */ value = styleMap[prop];\n                        if (value.toString().indexOf(SUBSTITUTION_EXPR_START) >= 0) {\n                            containsDynamicStyles = true;\n                            break;\n                        }\n                    }\n                }\n            }\n        });\n        return {\n            type: 6 /* Style */,\n            styles: styles,\n            easing: collectedEasing,\n            offset: metadata.offset, containsDynamicStyles: containsDynamicStyles,\n            options: null\n        };\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype._validateStyleAst = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var _this = this;\n        var /** @type {?} */ timings = context.currentAnimateTimings;\n        var /** @type {?} */ endTime = context.currentTime;\n        var /** @type {?} */ startTime = context.currentTime;\n        if (timings && startTime > 0) {\n            startTime -= timings.duration + timings.delay;\n        }\n        ast.styles.forEach(function (tuple) {\n            if (typeof tuple == 'string')\n                return;\n            Object.keys(tuple).forEach(function (prop) {\n                if (!_this._driver.validateStyleProperty(prop)) {\n                    context.errors.push(\"The provided animation property \\\"\" + prop + \"\\\" is not a supported CSS property for animations\");\n                    return;\n                }\n                var /** @type {?} */ collectedStyles = context.collectedStyles[/** @type {?} */ ((context.currentQuerySelector))];\n                var /** @type {?} */ collectedEntry = collectedStyles[prop];\n                var /** @type {?} */ updateCollectedStyle = true;\n                if (collectedEntry) {\n                    if (startTime != endTime && startTime >= collectedEntry.startTime &&\n                        endTime <= collectedEntry.endTime) {\n                        context.errors.push(\"The CSS property \\\"\" + prop + \"\\\" that exists between the times of \\\"\" + collectedEntry.startTime + \"ms\\\" and \\\"\" + collectedEntry.endTime + \"ms\\\" is also being animated in a parallel animation between the times of \\\"\" + startTime + \"ms\\\" and \\\"\" + endTime + \"ms\\\"\");\n                        updateCollectedStyle = false;\n                    }\n                    // we always choose the smaller start time value since we\n                    // want to have a record of the entire animation window where\n                    // the style property is being animated in between\n                    startTime = collectedEntry.startTime;\n                }\n                if (updateCollectedStyle) {\n                    collectedStyles[prop] = { startTime: startTime, endTime: endTime };\n                }\n                if (context.options) {\n                    validateStyleParams(tuple[prop], context.options, context.errors);\n                }\n            });\n        });\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitKeyframes = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var _this = this;\n        var /** @type {?} */ ast = { type: 5 /* Keyframes */, styles: [], options: null };\n        if (!context.currentAnimateTimings) {\n            context.errors.push(\"keyframes() must be placed inside of a call to animate()\");\n            return ast;\n        }\n        var /** @type {?} */ MAX_KEYFRAME_OFFSET = 1;\n        var /** @type {?} */ totalKeyframesWithOffsets = 0;\n        var /** @type {?} */ offsets = [];\n        var /** @type {?} */ offsetsOutOfOrder = false;\n        var /** @type {?} */ keyframesOutOfRange = false;\n        var /** @type {?} */ previousOffset = 0;\n        var /** @type {?} */ keyframes = metadata.steps.map(function (styles) {\n            var /** @type {?} */ style$$1 = _this._makeStyleAst(styles, context);\n            var /** @type {?} */ offsetVal = style$$1.offset != null ? style$$1.offset : consumeOffset(style$$1.styles);\n            var /** @type {?} */ offset = 0;\n            if (offsetVal != null) {\n                totalKeyframesWithOffsets++;\n                offset = style$$1.offset = offsetVal;\n            }\n            keyframesOutOfRange = keyframesOutOfRange || offset < 0 || offset > 1;\n            offsetsOutOfOrder = offsetsOutOfOrder || offset < previousOffset;\n            previousOffset = offset;\n            offsets.push(offset);\n            return style$$1;\n        });\n        if (keyframesOutOfRange) {\n            context.errors.push(\"Please ensure that all keyframe offsets are between 0 and 1\");\n        }\n        if (offsetsOutOfOrder) {\n            context.errors.push(\"Please ensure that all keyframe offsets are in order\");\n        }\n        var /** @type {?} */ length = metadata.steps.length;\n        var /** @type {?} */ generatedOffset = 0;\n        if (totalKeyframesWithOffsets > 0 && totalKeyframesWithOffsets < length) {\n            context.errors.push(\"Not all style() steps within the declared keyframes() contain offsets\");\n        }\n        else if (totalKeyframesWithOffsets == 0) {\n            generatedOffset = MAX_KEYFRAME_OFFSET / (length - 1);\n        }\n        var /** @type {?} */ limit = length - 1;\n        var /** @type {?} */ currentTime = context.currentTime;\n        var /** @type {?} */ currentAnimateTimings = /** @type {?} */ ((context.currentAnimateTimings));\n        var /** @type {?} */ animateDuration = currentAnimateTimings.duration;\n        keyframes.forEach(function (kf, i) {\n            var /** @type {?} */ offset = generatedOffset > 0 ? (i == limit ? 1 : (generatedOffset * i)) : offsets[i];\n            var /** @type {?} */ durationUpToThisFrame = offset * animateDuration;\n            context.currentTime = currentTime + currentAnimateTimings.delay + durationUpToThisFrame;\n            currentAnimateTimings.duration = durationUpToThisFrame;\n            _this._validateStyleAst(kf, context);\n            kf.offset = offset;\n            ast.styles.push(kf);\n        });\n        return ast;\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitReference = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        return {\n            type: 8 /* Reference */,\n            animation: visitDslNode(this, normalizeAnimationEntry(metadata.animation), context),\n            options: normalizeAnimationOptions(metadata.options)\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitAnimateChild = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        context.depCount++;\n        return {\n            type: 9 /* AnimateChild */,\n            options: normalizeAnimationOptions(metadata.options)\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitAnimateRef = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        return {\n            type: 10 /* AnimateRef */,\n            animation: this.visitReference(metadata.animation, context),\n            options: normalizeAnimationOptions(metadata.options)\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitQuery = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        var /** @type {?} */ parentSelector = /** @type {?} */ ((context.currentQuerySelector));\n        var /** @type {?} */ options = /** @type {?} */ ((metadata.options || {}));\n        context.queryCount++;\n        context.currentQuery = metadata;\n        var _a = normalizeSelector(metadata.selector), selector = _a[0], includeSelf = _a[1];\n        context.currentQuerySelector =\n            parentSelector.length ? (parentSelector + ' ' + selector) : selector;\n        getOrSetAsInMap(context.collectedStyles, context.currentQuerySelector, {});\n        var /** @type {?} */ animation = visitDslNode(this, normalizeAnimationEntry(metadata.animation), context);\n        context.currentQuery = null;\n        context.currentQuerySelector = parentSelector;\n        return {\n            type: 11 /* Query */,\n            selector: selector,\n            limit: options.limit || 0,\n            optional: !!options.optional, includeSelf: includeSelf, animation: animation,\n            originalSelector: metadata.selector,\n            options: normalizeAnimationOptions(metadata.options)\n        };\n    };\n    /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationAstBuilderVisitor.prototype.visitStagger = /**\n     * @param {?} metadata\n     * @param {?} context\n     * @return {?}\n     */\n    function (metadata, context) {\n        if (!context.currentQuery) {\n            context.errors.push(\"stagger() can only be used inside of query()\");\n        }\n        var /** @type {?} */ timings = metadata.timings === 'full' ?\n            { duration: 0, delay: 0, easing: 'full' } :\n            resolveTiming(metadata.timings, context.errors, true);\n        return {\n            type: 12 /* Stagger */,\n            animation: visitDslNode(this, normalizeAnimationEntry(metadata.animation), context), timings: timings,\n            options: null\n        };\n    };\n    return AnimationAstBuilderVisitor;\n}());\n/**\n * @param {?} selector\n * @return {?}\n */\nfunction normalizeSelector(selector) {\n    var /** @type {?} */ hasAmpersand = selector.split(/\\s*,\\s*/).find(function (token) { return token == SELF_TOKEN; }) ? true : false;\n    if (hasAmpersand) {\n        selector = selector.replace(SELF_TOKEN_REGEX, '');\n    }\n    // the :enter and :leave selectors are filled in at runtime during timeline building\n    selector = selector.replace(/@\\*/g, NG_TRIGGER_SELECTOR)\n        .replace(/@\\w+/g, function (match) { return NG_TRIGGER_SELECTOR + '-' + match.substr(1); })\n        .replace(/:animating/g, NG_ANIMATING_SELECTOR);\n    return [selector, hasAmpersand];\n}\n/**\n * @param {?} obj\n * @return {?}\n */\nfunction normalizeParams(obj) {\n    return obj ? copyObj(obj) : null;\n}\nvar AnimationAstBuilderContext = /** @class */ (function () {\n    function AnimationAstBuilderContext(errors) {\n        this.errors = errors;\n        this.queryCount = 0;\n        this.depCount = 0;\n        this.currentTransition = null;\n        this.currentQuery = null;\n        this.currentQuerySelector = null;\n        this.currentAnimateTimings = null;\n        this.currentTime = 0;\n        this.collectedStyles = {};\n        this.options = null;\n    }\n    return AnimationAstBuilderContext;\n}());\n/**\n * @param {?} styles\n * @return {?}\n */\nfunction consumeOffset(styles) {\n    if (typeof styles == 'string')\n        return null;\n    var /** @type {?} */ offset = null;\n    if (Array.isArray(styles)) {\n        styles.forEach(function (styleTuple) {\n            if (isObject(styleTuple) && styleTuple.hasOwnProperty('offset')) {\n                var /** @type {?} */ obj = /** @type {?} */ (styleTuple);\n                offset = parseFloat(/** @type {?} */ (obj['offset']));\n                delete obj['offset'];\n            }\n        });\n    }\n    else if (isObject(styles) && styles.hasOwnProperty('offset')) {\n        var /** @type {?} */ obj = /** @type {?} */ (styles);\n        offset = parseFloat(/** @type {?} */ (obj['offset']));\n        delete obj['offset'];\n    }\n    return offset;\n}\n/**\n * @param {?} value\n * @return {?}\n */\nfunction isObject(value) {\n    return !Array.isArray(value) && typeof value == 'object';\n}\n/**\n * @param {?} value\n * @param {?} errors\n * @return {?}\n */\nfunction constructTimingAst(value, errors) {\n    var /** @type {?} */ timings = null;\n    if (value.hasOwnProperty('duration')) {\n        timings = /** @type {?} */ (value);\n    }\n    else if (typeof value == 'number') {\n        var /** @type {?} */ duration = resolveTiming(/** @type {?} */ (value), errors).duration;\n        return makeTimingAst(/** @type {?} */ (duration), 0, '');\n    }\n    var /** @type {?} */ strValue = /** @type {?} */ (value);\n    var /** @type {?} */ isDynamic = strValue.split(/\\s+/).some(function (v) { return v.charAt(0) == '{' && v.charAt(1) == '{'; });\n    if (isDynamic) {\n        var /** @type {?} */ ast = /** @type {?} */ (makeTimingAst(0, 0, ''));\n        ast.dynamic = true;\n        ast.strValue = strValue;\n        return /** @type {?} */ (ast);\n    }\n    timings = timings || resolveTiming(strValue, errors);\n    return makeTimingAst(timings.duration, timings.delay, timings.easing);\n}\n/**\n * @param {?} options\n * @return {?}\n */\nfunction normalizeAnimationOptions(options) {\n    if (options) {\n        options = copyObj(options);\n        if (options['params']) {\n            options['params'] = /** @type {?} */ ((normalizeParams(options['params'])));\n        }\n    }\n    else {\n        options = {};\n    }\n    return options;\n}\n/**\n * @param {?} duration\n * @param {?} delay\n * @param {?} easing\n * @return {?}\n */\nfunction makeTimingAst(duration, delay, easing) {\n    return { duration: duration, delay: delay, easing: easing };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @record\n */\n\n/**\n * @param {?} element\n * @param {?} keyframes\n * @param {?} preStyleProps\n * @param {?} postStyleProps\n * @param {?} duration\n * @param {?} delay\n * @param {?=} easing\n * @param {?=} subTimeline\n * @return {?}\n */\nfunction createTimelineInstruction(element, keyframes, preStyleProps, postStyleProps, duration, delay, easing, subTimeline) {\n    if (easing === void 0) { easing = null; }\n    if (subTimeline === void 0) { subTimeline = false; }\n    return {\n        type: 1 /* TimelineAnimation */,\n        element: element,\n        keyframes: keyframes,\n        preStyleProps: preStyleProps,\n        postStyleProps: postStyleProps,\n        duration: duration,\n        delay: delay,\n        totalTime: duration + delay, easing: easing, subTimeline: subTimeline\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar ElementInstructionMap = /** @class */ (function () {\n    function ElementInstructionMap() {\n        this._map = new Map();\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.consume = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var /** @type {?} */ instructions = this._map.get(element);\n        if (instructions) {\n            this._map.delete(element);\n        }\n        else {\n            instructions = [];\n        }\n        return instructions;\n    };\n    /**\n     * @param {?} element\n     * @param {?} instructions\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.append = /**\n     * @param {?} element\n     * @param {?} instructions\n     * @return {?}\n     */\n    function (element, instructions) {\n        var /** @type {?} */ existingInstructions = this._map.get(element);\n        if (!existingInstructions) {\n            this._map.set(element, existingInstructions = []);\n        }\n        existingInstructions.push.apply(existingInstructions, instructions);\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.has = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { return this._map.has(element); };\n    /**\n     * @return {?}\n     */\n    ElementInstructionMap.prototype.clear = /**\n     * @return {?}\n     */\n    function () { this._map.clear(); };\n    return ElementInstructionMap;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar ONE_FRAME_IN_MILLISECONDS = 1;\nvar ENTER_TOKEN = ':enter';\nvar ENTER_TOKEN_REGEX = new RegExp(ENTER_TOKEN, 'g');\nvar LEAVE_TOKEN = ':leave';\nvar LEAVE_TOKEN_REGEX = new RegExp(LEAVE_TOKEN, 'g');\n/**\n * @param {?} driver\n * @param {?} rootElement\n * @param {?} ast\n * @param {?} enterClassName\n * @param {?} leaveClassName\n * @param {?=} startingStyles\n * @param {?=} finalStyles\n * @param {?=} options\n * @param {?=} subInstructions\n * @param {?=} errors\n * @return {?}\n */\nfunction buildAnimationTimelines(driver, rootElement, ast, enterClassName, leaveClassName, startingStyles, finalStyles, options, subInstructions, errors) {\n    if (startingStyles === void 0) { startingStyles = {}; }\n    if (finalStyles === void 0) { finalStyles = {}; }\n    if (errors === void 0) { errors = []; }\n    return new AnimationTimelineBuilderVisitor().buildKeyframes(driver, rootElement, ast, enterClassName, leaveClassName, startingStyles, finalStyles, options, subInstructions, errors);\n}\nvar AnimationTimelineBuilderVisitor = /** @class */ (function () {\n    function AnimationTimelineBuilderVisitor() {\n    }\n    /**\n     * @param {?} driver\n     * @param {?} rootElement\n     * @param {?} ast\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?} startingStyles\n     * @param {?} finalStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @param {?=} errors\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.buildKeyframes = /**\n     * @param {?} driver\n     * @param {?} rootElement\n     * @param {?} ast\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?} startingStyles\n     * @param {?} finalStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @param {?=} errors\n     * @return {?}\n     */\n    function (driver, rootElement, ast, enterClassName, leaveClassName, startingStyles, finalStyles, options, subInstructions, errors) {\n        if (errors === void 0) { errors = []; }\n        subInstructions = subInstructions || new ElementInstructionMap();\n        var /** @type {?} */ context = new AnimationTimelineContext(driver, rootElement, subInstructions, enterClassName, leaveClassName, errors, []);\n        context.options = options;\n        context.currentTimeline.setStyles([startingStyles], null, context.errors, options);\n        visitDslNode(this, ast, context);\n        // this checks to see if an actual animation happened\n        var /** @type {?} */ timelines = context.timelines.filter(function (timeline) { return timeline.containsAnimation(); });\n        if (timelines.length && Object.keys(finalStyles).length) {\n            var /** @type {?} */ tl = timelines[timelines.length - 1];\n            if (!tl.allowOnlyTimelineStyles()) {\n                tl.setStyles([finalStyles], null, context.errors, options);\n            }\n        }\n        return timelines.length ? timelines.map(function (timeline) { return timeline.buildKeyframes(); }) :\n            [createTimelineInstruction(rootElement, [], [], [], 0, 0, '', false)];\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitTrigger = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        // these values are not visited in this AST\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitState = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        // these values are not visited in this AST\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitTransition = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        // these values are not visited in this AST\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitAnimateChild = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var /** @type {?} */ elementInstructions = context.subInstructions.consume(context.element);\n        if (elementInstructions) {\n            var /** @type {?} */ innerContext = context.createSubContext(ast.options);\n            var /** @type {?} */ startTime = context.currentTimeline.currentTime;\n            var /** @type {?} */ endTime = this._visitSubInstructions(elementInstructions, innerContext, /** @type {?} */ (innerContext.options));\n            if (startTime != endTime) {\n                // we do this on the upper context because we created a sub context for\n                // the sub child animations\n                context.transformIntoNewTimeline(endTime);\n            }\n        }\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitAnimateRef = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var /** @type {?} */ innerContext = context.createSubContext(ast.options);\n        innerContext.transformIntoNewTimeline();\n        this.visitReference(ast.animation, innerContext);\n        context.transformIntoNewTimeline(innerContext.currentTimeline.currentTime);\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} instructions\n     * @param {?} context\n     * @param {?} options\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype._visitSubInstructions = /**\n     * @param {?} instructions\n     * @param {?} context\n     * @param {?} options\n     * @return {?}\n     */\n    function (instructions, context, options) {\n        var /** @type {?} */ startTime = context.currentTimeline.currentTime;\n        var /** @type {?} */ furthestTime = startTime;\n        // this is a special-case for when a user wants to skip a sub\n        // animation from being fired entirely.\n        var /** @type {?} */ duration = options.duration != null ? resolveTimingValue(options.duration) : null;\n        var /** @type {?} */ delay = options.delay != null ? resolveTimingValue(options.delay) : null;\n        if (duration !== 0) {\n            instructions.forEach(function (instruction) {\n                var /** @type {?} */ instructionTimings = context.appendInstructionToTimeline(instruction, duration, delay);\n                furthestTime =\n                    Math.max(furthestTime, instructionTimings.duration + instructionTimings.delay);\n            });\n        }\n        return furthestTime;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitReference = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        context.updateOptions(ast.options, true);\n        visitDslNode(this, ast.animation, context);\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitSequence = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var _this = this;\n        var /** @type {?} */ subContextCount = context.subContextCount;\n        var /** @type {?} */ ctx = context;\n        var /** @type {?} */ options = ast.options;\n        if (options && (options.params || options.delay)) {\n            ctx = context.createSubContext(options);\n            ctx.transformIntoNewTimeline();\n            if (options.delay != null) {\n                if (ctx.previousNode.type == 6 /* Style */) {\n                    ctx.currentTimeline.snapshotCurrentStyles();\n                    ctx.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n                }\n                var /** @type {?} */ delay = resolveTimingValue(options.delay);\n                ctx.delayNextStep(delay);\n            }\n        }\n        if (ast.steps.length) {\n            ast.steps.forEach(function (s) { return visitDslNode(_this, s, ctx); });\n            // this is here just incase the inner steps only contain or end with a style() call\n            ctx.currentTimeline.applyStylesToKeyframe();\n            // this means that some animation function within the sequence\n            // ended up creating a sub timeline (which means the current\n            // timeline cannot overlap with the contents of the sequence)\n            if (ctx.subContextCount > subContextCount) {\n                ctx.transformIntoNewTimeline();\n            }\n        }\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitGroup = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var _this = this;\n        var /** @type {?} */ innerTimelines = [];\n        var /** @type {?} */ furthestTime = context.currentTimeline.currentTime;\n        var /** @type {?} */ delay = ast.options && ast.options.delay ? resolveTimingValue(ast.options.delay) : 0;\n        ast.steps.forEach(function (s) {\n            var /** @type {?} */ innerContext = context.createSubContext(ast.options);\n            if (delay) {\n                innerContext.delayNextStep(delay);\n            }\n            visitDslNode(_this, s, innerContext);\n            furthestTime = Math.max(furthestTime, innerContext.currentTimeline.currentTime);\n            innerTimelines.push(innerContext.currentTimeline);\n        });\n        // this operation is run after the AST loop because otherwise\n        // if the parent timeline's collected styles were updated then\n        // it would pass in invalid data into the new-to-be forked items\n        innerTimelines.forEach(function (timeline) { return context.currentTimeline.mergeTimelineCollectedStyles(timeline); });\n        context.transformIntoNewTimeline(furthestTime);\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype._visitTiming = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        if ((/** @type {?} */ (ast)).dynamic) {\n            var /** @type {?} */ strValue = (/** @type {?} */ (ast)).strValue;\n            var /** @type {?} */ timingValue = context.params ? interpolateParams(strValue, context.params, context.errors) : strValue;\n            return resolveTiming(timingValue, context.errors);\n        }\n        else {\n            return { duration: ast.duration, delay: ast.delay, easing: ast.easing };\n        }\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitAnimate = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var /** @type {?} */ timings = context.currentAnimateTimings = this._visitTiming(ast.timings, context);\n        var /** @type {?} */ timeline = context.currentTimeline;\n        if (timings.delay) {\n            context.incrementTime(timings.delay);\n            timeline.snapshotCurrentStyles();\n        }\n        var /** @type {?} */ style$$1 = ast.style;\n        if (style$$1.type == 5 /* Keyframes */) {\n            this.visitKeyframes(style$$1, context);\n        }\n        else {\n            context.incrementTime(timings.duration);\n            this.visitStyle(/** @type {?} */ (style$$1), context);\n            timeline.applyStylesToKeyframe();\n        }\n        context.currentAnimateTimings = null;\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitStyle = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var /** @type {?} */ timeline = context.currentTimeline;\n        var /** @type {?} */ timings = /** @type {?} */ ((context.currentAnimateTimings));\n        // this is a special case for when a style() call\n        // directly follows  an animate() call (but not inside of an animate() call)\n        if (!timings && timeline.getCurrentStyleProperties().length) {\n            timeline.forwardFrame();\n        }\n        var /** @type {?} */ easing = (timings && timings.easing) || ast.easing;\n        if (ast.isEmptyStep) {\n            timeline.applyEmptyStep(easing);\n        }\n        else {\n            timeline.setStyles(ast.styles, easing, context.errors, context.options);\n        }\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitKeyframes = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var /** @type {?} */ currentAnimateTimings = /** @type {?} */ ((context.currentAnimateTimings));\n        var /** @type {?} */ startTime = (/** @type {?} */ ((context.currentTimeline))).duration;\n        var /** @type {?} */ duration = currentAnimateTimings.duration;\n        var /** @type {?} */ innerContext = context.createSubContext();\n        var /** @type {?} */ innerTimeline = innerContext.currentTimeline;\n        innerTimeline.easing = currentAnimateTimings.easing;\n        ast.styles.forEach(function (step) {\n            var /** @type {?} */ offset = step.offset || 0;\n            innerTimeline.forwardTime(offset * duration);\n            innerTimeline.setStyles(step.styles, step.easing, context.errors, context.options);\n            innerTimeline.applyStylesToKeyframe();\n        });\n        // this will ensure that the parent timeline gets all the styles from\n        // the child even if the new timeline below is not used\n        context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline);\n        // we do this because the window between this timeline and the sub timeline\n        // should ensure that the styles within are exactly the same as they were before\n        context.transformIntoNewTimeline(startTime + duration);\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitQuery = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var _this = this;\n        // in the event that the first step before this is a style step we need\n        // to ensure the styles are applied before the children are animated\n        var /** @type {?} */ startTime = context.currentTimeline.currentTime;\n        var /** @type {?} */ options = /** @type {?} */ ((ast.options || {}));\n        var /** @type {?} */ delay = options.delay ? resolveTimingValue(options.delay) : 0;\n        if (delay && (context.previousNode.type === 6 /* Style */ ||\n            (startTime == 0 && context.currentTimeline.getCurrentStyleProperties().length))) {\n            context.currentTimeline.snapshotCurrentStyles();\n            context.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n        }\n        var /** @type {?} */ furthestTime = startTime;\n        var /** @type {?} */ elms = context.invokeQuery(ast.selector, ast.originalSelector, ast.limit, ast.includeSelf, options.optional ? true : false, context.errors);\n        context.currentQueryTotal = elms.length;\n        var /** @type {?} */ sameElementTimeline = null;\n        elms.forEach(function (element, i) {\n            context.currentQueryIndex = i;\n            var /** @type {?} */ innerContext = context.createSubContext(ast.options, element);\n            if (delay) {\n                innerContext.delayNextStep(delay);\n            }\n            if (element === context.element) {\n                sameElementTimeline = innerContext.currentTimeline;\n            }\n            visitDslNode(_this, ast.animation, innerContext);\n            // this is here just incase the inner steps only contain or end\n            // with a style() call (which is here to signal that this is a preparatory\n            // call to style an element before it is animated again)\n            innerContext.currentTimeline.applyStylesToKeyframe();\n            var /** @type {?} */ endTime = innerContext.currentTimeline.currentTime;\n            furthestTime = Math.max(furthestTime, endTime);\n        });\n        context.currentQueryIndex = 0;\n        context.currentQueryTotal = 0;\n        context.transformIntoNewTimeline(furthestTime);\n        if (sameElementTimeline) {\n            context.currentTimeline.mergeTimelineCollectedStyles(sameElementTimeline);\n            context.currentTimeline.snapshotCurrentStyles();\n        }\n        context.previousNode = ast;\n    };\n    /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTimelineBuilderVisitor.prototype.visitStagger = /**\n     * @param {?} ast\n     * @param {?} context\n     * @return {?}\n     */\n    function (ast, context) {\n        var /** @type {?} */ parentContext = /** @type {?} */ ((context.parentContext));\n        var /** @type {?} */ tl = context.currentTimeline;\n        var /** @type {?} */ timings = ast.timings;\n        var /** @type {?} */ duration = Math.abs(timings.duration);\n        var /** @type {?} */ maxTime = duration * (context.currentQueryTotal - 1);\n        var /** @type {?} */ delay = duration * context.currentQueryIndex;\n        var /** @type {?} */ staggerTransformer = timings.duration < 0 ? 'reverse' : timings.easing;\n        switch (staggerTransformer) {\n            case 'reverse':\n                delay = maxTime - delay;\n                break;\n            case 'full':\n                delay = parentContext.currentStaggerTime;\n                break;\n        }\n        var /** @type {?} */ timeline = context.currentTimeline;\n        if (delay) {\n            timeline.delayNextStep(delay);\n        }\n        var /** @type {?} */ startingTime = timeline.currentTime;\n        visitDslNode(this, ast.animation, context);\n        context.previousNode = ast;\n        // time = duration + delay\n        // the reason why this computation is so complex is because\n        // the inner timeline may either have a delay value or a stretched\n        // keyframe depending on if a subtimeline is not used or is used.\n        parentContext.currentStaggerTime =\n            (tl.currentTime - startingTime) + (tl.startTime - parentContext.currentTimeline.startTime);\n    };\n    return AnimationTimelineBuilderVisitor;\n}());\nvar DEFAULT_NOOP_PREVIOUS_NODE = /** @type {?} */ ({});\nvar AnimationTimelineContext = /** @class */ (function () {\n    function AnimationTimelineContext(_driver, element, subInstructions, _enterClassName, _leaveClassName, errors, timelines, initialTimeline) {\n        this._driver = _driver;\n        this.element = element;\n        this.subInstructions = subInstructions;\n        this._enterClassName = _enterClassName;\n        this._leaveClassName = _leaveClassName;\n        this.errors = errors;\n        this.timelines = timelines;\n        this.parentContext = null;\n        this.currentAnimateTimings = null;\n        this.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n        this.subContextCount = 0;\n        this.options = {};\n        this.currentQueryIndex = 0;\n        this.currentQueryTotal = 0;\n        this.currentStaggerTime = 0;\n        this.currentTimeline = initialTimeline || new TimelineBuilder(this._driver, element, 0);\n        timelines.push(this.currentTimeline);\n    }\n    Object.defineProperty(AnimationTimelineContext.prototype, \"params\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this.options.params; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} options\n     * @param {?=} skipIfExists\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.updateOptions = /**\n     * @param {?} options\n     * @param {?=} skipIfExists\n     * @return {?}\n     */\n    function (options, skipIfExists) {\n        var _this = this;\n        if (!options)\n            return;\n        var /** @type {?} */ newOptions = /** @type {?} */ (options);\n        var /** @type {?} */ optionsToUpdate = this.options;\n        // NOTE: this will get patched up when other animation methods support duration overrides\n        if (newOptions.duration != null) {\n            (/** @type {?} */ (optionsToUpdate)).duration = resolveTimingValue(newOptions.duration);\n        }\n        if (newOptions.delay != null) {\n            optionsToUpdate.delay = resolveTimingValue(newOptions.delay);\n        }\n        var /** @type {?} */ newParams = newOptions.params;\n        if (newParams) {\n            var /** @type {?} */ paramsToUpdate_1 = /** @type {?} */ ((optionsToUpdate.params));\n            if (!paramsToUpdate_1) {\n                paramsToUpdate_1 = this.options.params = {};\n            }\n            Object.keys(newParams).forEach(function (name) {\n                if (!skipIfExists || !paramsToUpdate_1.hasOwnProperty(name)) {\n                    paramsToUpdate_1[name] = interpolateParams(newParams[name], paramsToUpdate_1, _this.errors);\n                }\n            });\n        }\n    };\n    /**\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype._copyOptions = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ options = {};\n        if (this.options) {\n            var /** @type {?} */ oldParams_1 = this.options.params;\n            if (oldParams_1) {\n                var /** @type {?} */ params_1 = options['params'] = {};\n                Object.keys(oldParams_1).forEach(function (name) { params_1[name] = oldParams_1[name]; });\n            }\n        }\n        return options;\n    };\n    /**\n     * @param {?=} options\n     * @param {?=} element\n     * @param {?=} newTime\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.createSubContext = /**\n     * @param {?=} options\n     * @param {?=} element\n     * @param {?=} newTime\n     * @return {?}\n     */\n    function (options, element, newTime) {\n        if (options === void 0) { options = null; }\n        var /** @type {?} */ target = element || this.element;\n        var /** @type {?} */ context = new AnimationTimelineContext(this._driver, target, this.subInstructions, this._enterClassName, this._leaveClassName, this.errors, this.timelines, this.currentTimeline.fork(target, newTime || 0));\n        context.previousNode = this.previousNode;\n        context.currentAnimateTimings = this.currentAnimateTimings;\n        context.options = this._copyOptions();\n        context.updateOptions(options);\n        context.currentQueryIndex = this.currentQueryIndex;\n        context.currentQueryTotal = this.currentQueryTotal;\n        context.parentContext = this;\n        this.subContextCount++;\n        return context;\n    };\n    /**\n     * @param {?=} newTime\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.transformIntoNewTimeline = /**\n     * @param {?=} newTime\n     * @return {?}\n     */\n    function (newTime) {\n        this.previousNode = DEFAULT_NOOP_PREVIOUS_NODE;\n        this.currentTimeline = this.currentTimeline.fork(this.element, newTime);\n        this.timelines.push(this.currentTimeline);\n        return this.currentTimeline;\n    };\n    /**\n     * @param {?} instruction\n     * @param {?} duration\n     * @param {?} delay\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.appendInstructionToTimeline = /**\n     * @param {?} instruction\n     * @param {?} duration\n     * @param {?} delay\n     * @return {?}\n     */\n    function (instruction, duration, delay) {\n        var /** @type {?} */ updatedTimings = {\n            duration: duration != null ? duration : instruction.duration,\n            delay: this.currentTimeline.currentTime + (delay != null ? delay : 0) + instruction.delay,\n            easing: ''\n        };\n        var /** @type {?} */ builder = new SubTimelineBuilder(this._driver, instruction.element, instruction.keyframes, instruction.preStyleProps, instruction.postStyleProps, updatedTimings, instruction.stretchStartingKeyframe);\n        this.timelines.push(builder);\n        return updatedTimings;\n    };\n    /**\n     * @param {?} time\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.incrementTime = /**\n     * @param {?} time\n     * @return {?}\n     */\n    function (time) {\n        this.currentTimeline.forwardTime(this.currentTimeline.duration + time);\n    };\n    /**\n     * @param {?} delay\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.delayNextStep = /**\n     * @param {?} delay\n     * @return {?}\n     */\n    function (delay) {\n        // negative delays are not yet supported\n        if (delay > 0) {\n            this.currentTimeline.delayNextStep(delay);\n        }\n    };\n    /**\n     * @param {?} selector\n     * @param {?} originalSelector\n     * @param {?} limit\n     * @param {?} includeSelf\n     * @param {?} optional\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationTimelineContext.prototype.invokeQuery = /**\n     * @param {?} selector\n     * @param {?} originalSelector\n     * @param {?} limit\n     * @param {?} includeSelf\n     * @param {?} optional\n     * @param {?} errors\n     * @return {?}\n     */\n    function (selector, originalSelector, limit, includeSelf, optional, errors) {\n        var /** @type {?} */ results = [];\n        if (includeSelf) {\n            results.push(this.element);\n        }\n        if (selector.length > 0) {\n            // if :self is only used then the selector is empty\n            selector = selector.replace(ENTER_TOKEN_REGEX, '.' + this._enterClassName);\n            selector = selector.replace(LEAVE_TOKEN_REGEX, '.' + this._leaveClassName);\n            var /** @type {?} */ multi = limit != 1;\n            var /** @type {?} */ elements = this._driver.query(this.element, selector, multi);\n            if (limit !== 0) {\n                elements = limit < 0 ? elements.slice(elements.length + limit, elements.length) :\n                    elements.slice(0, limit);\n            }\n            results.push.apply(results, elements);\n        }\n        if (!optional && results.length == 0) {\n            errors.push(\"`query(\\\"\" + originalSelector + \"\\\")` returned zero elements. (Use `query(\\\"\" + originalSelector + \"\\\", { optional: true })` if you wish to allow this.)\");\n        }\n        return results;\n    };\n    return AnimationTimelineContext;\n}());\nvar TimelineBuilder = /** @class */ (function () {\n    function TimelineBuilder(_driver, element, startTime, _elementTimelineStylesLookup) {\n        this._driver = _driver;\n        this.element = element;\n        this.startTime = startTime;\n        this._elementTimelineStylesLookup = _elementTimelineStylesLookup;\n        this.duration = 0;\n        this._previousKeyframe = {};\n        this._currentKeyframe = {};\n        this._keyframes = new Map();\n        this._styleSummary = {};\n        this._pendingStyles = {};\n        this._backFill = {};\n        this._currentEmptyStepKeyframe = null;\n        if (!this._elementTimelineStylesLookup) {\n            this._elementTimelineStylesLookup = new Map();\n        }\n        this._localTimelineStyles = Object.create(this._backFill, {});\n        this._globalTimelineStyles = /** @type {?} */ ((this._elementTimelineStylesLookup.get(element)));\n        if (!this._globalTimelineStyles) {\n            this._globalTimelineStyles = this._localTimelineStyles;\n            this._elementTimelineStylesLookup.set(element, this._localTimelineStyles);\n        }\n        this._loadKeyframe();\n    }\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.containsAnimation = /**\n     * @return {?}\n     */\n    function () {\n        switch (this._keyframes.size) {\n            case 0:\n                return false;\n            case 1:\n                return this.getCurrentStyleProperties().length > 0;\n            default:\n                return true;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.getCurrentStyleProperties = /**\n     * @return {?}\n     */\n    function () { return Object.keys(this._currentKeyframe); };\n    Object.defineProperty(TimelineBuilder.prototype, \"currentTime\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this.startTime + this.duration; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} delay\n     * @return {?}\n     */\n    TimelineBuilder.prototype.delayNextStep = /**\n     * @param {?} delay\n     * @return {?}\n     */\n    function (delay) {\n        // in the event that a style() step is placed right before a stagger()\n        // and that style() step is the very first style() value in the animation\n        // then we need to make a copy of the keyframe [0, copy, 1] so that the delay\n        // properly applies the style() values to work with the stagger...\n        var /** @type {?} */ hasPreStyleStep = this._keyframes.size == 1 && Object.keys(this._pendingStyles).length;\n        if (this.duration || hasPreStyleStep) {\n            this.forwardTime(this.currentTime + delay);\n            if (hasPreStyleStep) {\n                this.snapshotCurrentStyles();\n            }\n        }\n        else {\n            this.startTime += delay;\n        }\n    };\n    /**\n     * @param {?} element\n     * @param {?=} currentTime\n     * @return {?}\n     */\n    TimelineBuilder.prototype.fork = /**\n     * @param {?} element\n     * @param {?=} currentTime\n     * @return {?}\n     */\n    function (element, currentTime) {\n        this.applyStylesToKeyframe();\n        return new TimelineBuilder(this._driver, element, currentTime || this.currentTime, this._elementTimelineStylesLookup);\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype._loadKeyframe = /**\n     * @return {?}\n     */\n    function () {\n        if (this._currentKeyframe) {\n            this._previousKeyframe = this._currentKeyframe;\n        }\n        this._currentKeyframe = /** @type {?} */ ((this._keyframes.get(this.duration)));\n        if (!this._currentKeyframe) {\n            this._currentKeyframe = Object.create(this._backFill, {});\n            this._keyframes.set(this.duration, this._currentKeyframe);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.forwardFrame = /**\n     * @return {?}\n     */\n    function () {\n        this.duration += ONE_FRAME_IN_MILLISECONDS;\n        this._loadKeyframe();\n    };\n    /**\n     * @param {?} time\n     * @return {?}\n     */\n    TimelineBuilder.prototype.forwardTime = /**\n     * @param {?} time\n     * @return {?}\n     */\n    function (time) {\n        this.applyStylesToKeyframe();\n        this.duration = time;\n        this._loadKeyframe();\n    };\n    /**\n     * @param {?} prop\n     * @param {?} value\n     * @return {?}\n     */\n    TimelineBuilder.prototype._updateStyle = /**\n     * @param {?} prop\n     * @param {?} value\n     * @return {?}\n     */\n    function (prop, value) {\n        this._localTimelineStyles[prop] = value;\n        this._globalTimelineStyles[prop] = value;\n        this._styleSummary[prop] = { time: this.currentTime, value: value };\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.allowOnlyTimelineStyles = /**\n     * @return {?}\n     */\n    function () { return this._currentEmptyStepKeyframe !== this._currentKeyframe; };\n    /**\n     * @param {?} easing\n     * @return {?}\n     */\n    TimelineBuilder.prototype.applyEmptyStep = /**\n     * @param {?} easing\n     * @return {?}\n     */\n    function (easing) {\n        var _this = this;\n        if (easing) {\n            this._previousKeyframe['easing'] = easing;\n        }\n        // special case for animate(duration):\n        // all missing styles are filled with a `*` value then\n        // if any destination styles are filled in later on the same\n        // keyframe then they will override the overridden styles\n        // We use `_globalTimelineStyles` here because there may be\n        // styles in previous keyframes that are not present in this timeline\n        Object.keys(this._globalTimelineStyles).forEach(function (prop) {\n            _this._backFill[prop] = _this._globalTimelineStyles[prop] || AUTO_STYLE;\n            _this._currentKeyframe[prop] = AUTO_STYLE;\n        });\n        this._currentEmptyStepKeyframe = this._currentKeyframe;\n    };\n    /**\n     * @param {?} input\n     * @param {?} easing\n     * @param {?} errors\n     * @param {?=} options\n     * @return {?}\n     */\n    TimelineBuilder.prototype.setStyles = /**\n     * @param {?} input\n     * @param {?} easing\n     * @param {?} errors\n     * @param {?=} options\n     * @return {?}\n     */\n    function (input, easing, errors, options) {\n        var _this = this;\n        if (easing) {\n            this._previousKeyframe['easing'] = easing;\n        }\n        var /** @type {?} */ params = (options && options.params) || {};\n        var /** @type {?} */ styles = flattenStyles(input, this._globalTimelineStyles);\n        Object.keys(styles).forEach(function (prop) {\n            var /** @type {?} */ val = interpolateParams(styles[prop], params, errors);\n            _this._pendingStyles[prop] = val;\n            if (!_this._localTimelineStyles.hasOwnProperty(prop)) {\n                _this._backFill[prop] = _this._globalTimelineStyles.hasOwnProperty(prop) ?\n                    _this._globalTimelineStyles[prop] :\n                    AUTO_STYLE;\n            }\n            _this._updateStyle(prop, val);\n        });\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.applyStylesToKeyframe = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ styles = this._pendingStyles;\n        var /** @type {?} */ props = Object.keys(styles);\n        if (props.length == 0)\n            return;\n        this._pendingStyles = {};\n        props.forEach(function (prop) {\n            var /** @type {?} */ val = styles[prop];\n            _this._currentKeyframe[prop] = val;\n        });\n        Object.keys(this._localTimelineStyles).forEach(function (prop) {\n            if (!_this._currentKeyframe.hasOwnProperty(prop)) {\n                _this._currentKeyframe[prop] = _this._localTimelineStyles[prop];\n            }\n        });\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.snapshotCurrentStyles = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        Object.keys(this._localTimelineStyles).forEach(function (prop) {\n            var /** @type {?} */ val = _this._localTimelineStyles[prop];\n            _this._pendingStyles[prop] = val;\n            _this._updateStyle(prop, val);\n        });\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.getFinalKeyframe = /**\n     * @return {?}\n     */\n    function () { return this._keyframes.get(this.duration); };\n    Object.defineProperty(TimelineBuilder.prototype, \"properties\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            var /** @type {?} */ properties = [];\n            for (var /** @type {?} */ prop in this._currentKeyframe) {\n                properties.push(prop);\n            }\n            return properties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} timeline\n     * @return {?}\n     */\n    TimelineBuilder.prototype.mergeTimelineCollectedStyles = /**\n     * @param {?} timeline\n     * @return {?}\n     */\n    function (timeline) {\n        var _this = this;\n        Object.keys(timeline._styleSummary).forEach(function (prop) {\n            var /** @type {?} */ details0 = _this._styleSummary[prop];\n            var /** @type {?} */ details1 = timeline._styleSummary[prop];\n            if (!details0 || details1.time > details0.time) {\n                _this._updateStyle(prop, details1.value);\n            }\n        });\n    };\n    /**\n     * @return {?}\n     */\n    TimelineBuilder.prototype.buildKeyframes = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        this.applyStylesToKeyframe();\n        var /** @type {?} */ preStyleProps = new Set();\n        var /** @type {?} */ postStyleProps = new Set();\n        var /** @type {?} */ isEmpty = this._keyframes.size === 1 && this.duration === 0;\n        var /** @type {?} */ finalKeyframes = [];\n        this._keyframes.forEach(function (keyframe, time) {\n            var /** @type {?} */ finalKeyframe = copyStyles(keyframe, true);\n            Object.keys(finalKeyframe).forEach(function (prop) {\n                var /** @type {?} */ value = finalKeyframe[prop];\n                if (value == ɵPRE_STYLE) {\n                    preStyleProps.add(prop);\n                }\n                else if (value == AUTO_STYLE) {\n                    postStyleProps.add(prop);\n                }\n            });\n            if (!isEmpty) {\n                finalKeyframe['offset'] = time / _this.duration;\n            }\n            finalKeyframes.push(finalKeyframe);\n        });\n        var /** @type {?} */ preProps = preStyleProps.size ? iteratorToArray(preStyleProps.values()) : [];\n        var /** @type {?} */ postProps = postStyleProps.size ? iteratorToArray(postStyleProps.values()) : [];\n        // special case for a 0-second animation (which is designed just to place styles onscreen)\n        if (isEmpty) {\n            var /** @type {?} */ kf0 = finalKeyframes[0];\n            var /** @type {?} */ kf1 = copyObj(kf0);\n            kf0['offset'] = 0;\n            kf1['offset'] = 1;\n            finalKeyframes = [kf0, kf1];\n        }\n        return createTimelineInstruction(this.element, finalKeyframes, preProps, postProps, this.duration, this.startTime, this.easing, false);\n    };\n    return TimelineBuilder;\n}());\nvar SubTimelineBuilder = /** @class */ (function (_super) {\n    __extends(SubTimelineBuilder, _super);\n    function SubTimelineBuilder(driver, element, keyframes, preStyleProps, postStyleProps, timings, _stretchStartingKeyframe) {\n        if (_stretchStartingKeyframe === void 0) { _stretchStartingKeyframe = false; }\n        var _this = _super.call(this, driver, element, timings.delay) || this;\n        _this.element = element;\n        _this.keyframes = keyframes;\n        _this.preStyleProps = preStyleProps;\n        _this.postStyleProps = postStyleProps;\n        _this._stretchStartingKeyframe = _stretchStartingKeyframe;\n        _this.timings = { duration: timings.duration, delay: timings.delay, easing: timings.easing };\n        return _this;\n    }\n    /**\n     * @return {?}\n     */\n    SubTimelineBuilder.prototype.containsAnimation = /**\n     * @return {?}\n     */\n    function () { return this.keyframes.length > 1; };\n    /**\n     * @return {?}\n     */\n    SubTimelineBuilder.prototype.buildKeyframes = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ keyframes = this.keyframes;\n        var _a = this.timings, delay = _a.delay, duration = _a.duration, easing = _a.easing;\n        if (this._stretchStartingKeyframe && delay) {\n            var /** @type {?} */ newKeyframes = [];\n            var /** @type {?} */ totalTime = duration + delay;\n            var /** @type {?} */ startingGap = delay / totalTime;\n            // the original starting keyframe now starts once the delay is done\n            var /** @type {?} */ newFirstKeyframe = copyStyles(keyframes[0], false);\n            newFirstKeyframe['offset'] = 0;\n            newKeyframes.push(newFirstKeyframe);\n            var /** @type {?} */ oldFirstKeyframe = copyStyles(keyframes[0], false);\n            oldFirstKeyframe['offset'] = roundOffset(startingGap);\n            newKeyframes.push(oldFirstKeyframe);\n            /*\n                    When the keyframe is stretched then it means that the delay before the animation\n                    starts is gone. Instead the first keyframe is placed at the start of the animation\n                    and it is then copied to where it starts when the original delay is over. This basically\n                    means nothing animates during that delay, but the styles are still renderered. For this\n                    to work the original offset values that exist in the original keyframes must be \"warped\"\n                    so that they can take the new keyframe + delay into account.\n            \n                    delay=1000, duration=1000, keyframes = 0 .5 1\n            \n                    turns into\n            \n                    delay=0, duration=2000, keyframes = 0 .33 .66 1\n                   */\n            // offsets between 1 ... n -1 are all warped by the keyframe stretch\n            var /** @type {?} */ limit = keyframes.length - 1;\n            for (var /** @type {?} */ i = 1; i <= limit; i++) {\n                var /** @type {?} */ kf = copyStyles(keyframes[i], false);\n                var /** @type {?} */ oldOffset = /** @type {?} */ (kf['offset']);\n                var /** @type {?} */ timeAtKeyframe = delay + oldOffset * duration;\n                kf['offset'] = roundOffset(timeAtKeyframe / totalTime);\n                newKeyframes.push(kf);\n            }\n            // the new starting keyframe should be added at the start\n            duration = totalTime;\n            delay = 0;\n            easing = '';\n            keyframes = newKeyframes;\n        }\n        return createTimelineInstruction(this.element, keyframes, this.preStyleProps, this.postStyleProps, duration, delay, easing, true);\n    };\n    return SubTimelineBuilder;\n}(TimelineBuilder));\n/**\n * @param {?} offset\n * @param {?=} decimalPoints\n * @return {?}\n */\nfunction roundOffset(offset, decimalPoints) {\n    if (decimalPoints === void 0) { decimalPoints = 3; }\n    var /** @type {?} */ mult = Math.pow(10, decimalPoints - 1);\n    return Math.round(offset * mult) / mult;\n}\n/**\n * @param {?} input\n * @param {?} allStyles\n * @return {?}\n */\nfunction flattenStyles(input, allStyles) {\n    var /** @type {?} */ styles = {};\n    var /** @type {?} */ allProperties;\n    input.forEach(function (token) {\n        if (token === '*') {\n            allProperties = allProperties || Object.keys(allStyles);\n            allProperties.forEach(function (prop) { styles[prop] = AUTO_STYLE; });\n        }\n        else {\n            copyStyles(/** @type {?} */ (token), false, styles);\n        }\n    });\n    return styles;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Animation = /** @class */ (function () {\n    function Animation(_driver, input) {\n        this._driver = _driver;\n        var /** @type {?} */ errors = [];\n        var /** @type {?} */ ast = buildAnimationAst(_driver, input, errors);\n        if (errors.length) {\n            var /** @type {?} */ errorMessage = \"animation validation failed:\\n\" + errors.join(\"\\n\");\n            throw new Error(errorMessage);\n        }\n        this._animationAst = ast;\n    }\n    /**\n     * @param {?} element\n     * @param {?} startingStyles\n     * @param {?} destinationStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n    Animation.prototype.buildTimelines = /**\n     * @param {?} element\n     * @param {?} startingStyles\n     * @param {?} destinationStyles\n     * @param {?} options\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n    function (element, startingStyles, destinationStyles, options, subInstructions) {\n        var /** @type {?} */ start = Array.isArray(startingStyles) ? normalizeStyles(startingStyles) : /** @type {?} */ (startingStyles);\n        var /** @type {?} */ dest = Array.isArray(destinationStyles) ? normalizeStyles(destinationStyles) : /** @type {?} */ (destinationStyles);\n        var /** @type {?} */ errors = [];\n        subInstructions = subInstructions || new ElementInstructionMap();\n        var /** @type {?} */ result = buildAnimationTimelines(this._driver, element, this._animationAst, ENTER_CLASSNAME, LEAVE_CLASSNAME, start, dest, options, subInstructions, errors);\n        if (errors.length) {\n            var /** @type {?} */ errorMessage = \"animation building failed:\\n\" + errors.join(\"\\n\");\n            throw new Error(errorMessage);\n        }\n        return result;\n    };\n    return Animation;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental Animation support is experimental.\n * @abstract\n */\nvar AnimationStyleNormalizer = /** @class */ (function () {\n    function AnimationStyleNormalizer() {\n    }\n    return AnimationStyleNormalizer;\n}());\n/**\n * \\@experimental Animation support is experimental.\n */\nvar NoopAnimationStyleNormalizer = /** @class */ (function () {\n    function NoopAnimationStyleNormalizer() {\n    }\n    /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n    NoopAnimationStyleNormalizer.prototype.normalizePropertyName = /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n    function (propertyName, errors) { return propertyName; };\n    /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n    NoopAnimationStyleNormalizer.prototype.normalizeStyleValue = /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n    function (userProvidedProperty, normalizedProperty, value, errors) {\n        return /** @type {?} */ (value);\n    };\n    return NoopAnimationStyleNormalizer;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar WebAnimationsStyleNormalizer = /** @class */ (function (_super) {\n    __extends(WebAnimationsStyleNormalizer, _super);\n    function WebAnimationsStyleNormalizer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n    WebAnimationsStyleNormalizer.prototype.normalizePropertyName = /**\n     * @param {?} propertyName\n     * @param {?} errors\n     * @return {?}\n     */\n    function (propertyName, errors) {\n        return dashCaseToCamelCase(propertyName);\n    };\n    /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n    WebAnimationsStyleNormalizer.prototype.normalizeStyleValue = /**\n     * @param {?} userProvidedProperty\n     * @param {?} normalizedProperty\n     * @param {?} value\n     * @param {?} errors\n     * @return {?}\n     */\n    function (userProvidedProperty, normalizedProperty, value, errors) {\n        var /** @type {?} */ unit = '';\n        var /** @type {?} */ strVal = value.toString().trim();\n        if (DIMENSIONAL_PROP_MAP[normalizedProperty] && value !== 0 && value !== '0') {\n            if (typeof value === 'number') {\n                unit = 'px';\n            }\n            else {\n                var /** @type {?} */ valAndSuffixMatch = value.match(/^[+-]?[\\d\\.]+([a-z]*)$/);\n                if (valAndSuffixMatch && valAndSuffixMatch[1].length == 0) {\n                    errors.push(\"Please provide a CSS unit value for \" + userProvidedProperty + \":\" + value);\n                }\n            }\n        }\n        return strVal + unit;\n    };\n    return WebAnimationsStyleNormalizer;\n}(AnimationStyleNormalizer));\nvar DIMENSIONAL_PROP_MAP = makeBooleanMap('width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective'\n    .split(','));\n/**\n * @param {?} keys\n * @return {?}\n */\nfunction makeBooleanMap(keys) {\n    var /** @type {?} */ map = {};\n    keys.forEach(function (key) { return map[key] = true; });\n    return map;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @record\n */\n\n/**\n * @param {?} element\n * @param {?} triggerName\n * @param {?} fromState\n * @param {?} toState\n * @param {?} isRemovalTransition\n * @param {?} fromStyles\n * @param {?} toStyles\n * @param {?} timelines\n * @param {?} queriedElements\n * @param {?} preStyleProps\n * @param {?} postStyleProps\n * @param {?=} errors\n * @return {?}\n */\nfunction createTransitionInstruction(element, triggerName, fromState, toState, isRemovalTransition, fromStyles, toStyles, timelines, queriedElements, preStyleProps, postStyleProps, errors) {\n    return {\n        type: 0 /* TransitionAnimation */,\n        element: element,\n        triggerName: triggerName,\n        isRemovalTransition: isRemovalTransition,\n        fromState: fromState,\n        fromStyles: fromStyles,\n        toState: toState,\n        toStyles: toStyles,\n        timelines: timelines,\n        queriedElements: queriedElements,\n        preStyleProps: preStyleProps,\n        postStyleProps: postStyleProps,\n        errors: errors\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EMPTY_OBJECT = {};\nvar AnimationTransitionFactory = /** @class */ (function () {\n    function AnimationTransitionFactory(_triggerName, ast, _stateStyles) {\n        this._triggerName = _triggerName;\n        this.ast = ast;\n        this._stateStyles = _stateStyles;\n    }\n    /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n    AnimationTransitionFactory.prototype.match = /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n    function (currentState, nextState) {\n        return oneOrMoreTransitionsMatch(this.ast.matchers, currentState, nextState);\n    };\n    /**\n     * @param {?} stateName\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationTransitionFactory.prototype.buildStyles = /**\n     * @param {?} stateName\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    function (stateName, params, errors) {\n        var /** @type {?} */ backupStateStyler = this._stateStyles['*'];\n        var /** @type {?} */ stateStyler = this._stateStyles[stateName];\n        var /** @type {?} */ backupStyles = backupStateStyler ? backupStateStyler.buildStyles(params, errors) : {};\n        return stateStyler ? stateStyler.buildStyles(params, errors) : backupStyles;\n    };\n    /**\n     * @param {?} driver\n     * @param {?} element\n     * @param {?} currentState\n     * @param {?} nextState\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?=} currentOptions\n     * @param {?=} nextOptions\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n    AnimationTransitionFactory.prototype.build = /**\n     * @param {?} driver\n     * @param {?} element\n     * @param {?} currentState\n     * @param {?} nextState\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @param {?=} currentOptions\n     * @param {?=} nextOptions\n     * @param {?=} subInstructions\n     * @return {?}\n     */\n    function (driver, element, currentState, nextState, enterClassName, leaveClassName, currentOptions, nextOptions, subInstructions) {\n        var /** @type {?} */ errors = [];\n        var /** @type {?} */ transitionAnimationParams = this.ast.options && this.ast.options.params || EMPTY_OBJECT;\n        var /** @type {?} */ currentAnimationParams = currentOptions && currentOptions.params || EMPTY_OBJECT;\n        var /** @type {?} */ currentStateStyles = this.buildStyles(currentState, currentAnimationParams, errors);\n        var /** @type {?} */ nextAnimationParams = nextOptions && nextOptions.params || EMPTY_OBJECT;\n        var /** @type {?} */ nextStateStyles = this.buildStyles(nextState, nextAnimationParams, errors);\n        var /** @type {?} */ queriedElements = new Set();\n        var /** @type {?} */ preStyleMap = new Map();\n        var /** @type {?} */ postStyleMap = new Map();\n        var /** @type {?} */ isRemoval = nextState === 'void';\n        var /** @type {?} */ animationOptions = { params: __assign({}, transitionAnimationParams, nextAnimationParams) };\n        var /** @type {?} */ timelines = buildAnimationTimelines(driver, element, this.ast.animation, enterClassName, leaveClassName, currentStateStyles, nextStateStyles, animationOptions, subInstructions, errors);\n        if (errors.length) {\n            return createTransitionInstruction(element, this._triggerName, currentState, nextState, isRemoval, currentStateStyles, nextStateStyles, [], [], preStyleMap, postStyleMap, errors);\n        }\n        timelines.forEach(function (tl) {\n            var /** @type {?} */ elm = tl.element;\n            var /** @type {?} */ preProps = getOrSetAsInMap(preStyleMap, elm, {});\n            tl.preStyleProps.forEach(function (prop) { return preProps[prop] = true; });\n            var /** @type {?} */ postProps = getOrSetAsInMap(postStyleMap, elm, {});\n            tl.postStyleProps.forEach(function (prop) { return postProps[prop] = true; });\n            if (elm !== element) {\n                queriedElements.add(elm);\n            }\n        });\n        var /** @type {?} */ queriedElementsList = iteratorToArray(queriedElements.values());\n        return createTransitionInstruction(element, this._triggerName, currentState, nextState, isRemoval, currentStateStyles, nextStateStyles, timelines, queriedElementsList, preStyleMap, postStyleMap);\n    };\n    return AnimationTransitionFactory;\n}());\n/**\n * @param {?} matchFns\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\nfunction oneOrMoreTransitionsMatch(matchFns, currentState, nextState) {\n    return matchFns.some(function (fn) { return fn(currentState, nextState); });\n}\nvar AnimationStateStyles = /** @class */ (function () {\n    function AnimationStateStyles(styles, defaultParams) {\n        this.styles = styles;\n        this.defaultParams = defaultParams;\n    }\n    /**\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationStateStyles.prototype.buildStyles = /**\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    function (params, errors) {\n        var /** @type {?} */ finalStyles = {};\n        var /** @type {?} */ combinedParams = copyObj(this.defaultParams);\n        Object.keys(params).forEach(function (key) {\n            var /** @type {?} */ value = params[key];\n            if (value != null) {\n                combinedParams[key] = value;\n            }\n        });\n        this.styles.styles.forEach(function (value) {\n            if (typeof value !== 'string') {\n                var /** @type {?} */ styleObj_1 = /** @type {?} */ (value);\n                Object.keys(styleObj_1).forEach(function (prop) {\n                    var /** @type {?} */ val = styleObj_1[prop];\n                    if (val.length > 1) {\n                        val = interpolateParams(val, combinedParams, errors);\n                    }\n                    finalStyles[prop] = val;\n                });\n            }\n        });\n        return finalStyles;\n    };\n    return AnimationStateStyles;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * \\@experimental Animation support is experimental.\n * @param {?} name\n * @param {?} ast\n * @return {?}\n */\nfunction buildTrigger(name, ast) {\n    return new AnimationTrigger(name, ast);\n}\n/**\n * \\@experimental Animation support is experimental.\n */\nvar AnimationTrigger = /** @class */ (function () {\n    function AnimationTrigger(name, ast) {\n        var _this = this;\n        this.name = name;\n        this.ast = ast;\n        this.transitionFactories = [];\n        this.states = {};\n        ast.states.forEach(function (ast) {\n            var /** @type {?} */ defaultParams = (ast.options && ast.options.params) || {};\n            _this.states[ast.name] = new AnimationStateStyles(ast.style, defaultParams);\n        });\n        balanceProperties(this.states, 'true', '1');\n        balanceProperties(this.states, 'false', '0');\n        ast.transitions.forEach(function (ast) {\n            _this.transitionFactories.push(new AnimationTransitionFactory(name, ast, _this.states));\n        });\n        this.fallbackTransition = createFallbackTransition(name, this.states);\n    }\n    Object.defineProperty(AnimationTrigger.prototype, \"containsQueries\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this.ast.queryCount > 0; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n    AnimationTrigger.prototype.matchTransition = /**\n     * @param {?} currentState\n     * @param {?} nextState\n     * @return {?}\n     */\n    function (currentState, nextState) {\n        var /** @type {?} */ entry = this.transitionFactories.find(function (f) { return f.match(currentState, nextState); });\n        return entry || null;\n    };\n    /**\n     * @param {?} currentState\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    AnimationTrigger.prototype.matchStyles = /**\n     * @param {?} currentState\n     * @param {?} params\n     * @param {?} errors\n     * @return {?}\n     */\n    function (currentState, params, errors) {\n        return this.fallbackTransition.buildStyles(currentState, params, errors);\n    };\n    return AnimationTrigger;\n}());\n/**\n * @param {?} triggerName\n * @param {?} states\n * @return {?}\n */\nfunction createFallbackTransition(triggerName, states) {\n    var /** @type {?} */ matchers = [function (fromState, toState) { return true; }];\n    var /** @type {?} */ animation = { type: 2 /* Sequence */, steps: [], options: null };\n    var /** @type {?} */ transition = {\n        type: 1 /* Transition */,\n        animation: animation,\n        matchers: matchers,\n        options: null,\n        queryCount: 0,\n        depCount: 0\n    };\n    return new AnimationTransitionFactory(triggerName, transition, states);\n}\n/**\n * @param {?} obj\n * @param {?} key1\n * @param {?} key2\n * @return {?}\n */\nfunction balanceProperties(obj, key1, key2) {\n    if (obj.hasOwnProperty(key1)) {\n        if (!obj.hasOwnProperty(key2)) {\n            obj[key2] = obj[key1];\n        }\n    }\n    else if (obj.hasOwnProperty(key2)) {\n        obj[key1] = obj[key2];\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EMPTY_INSTRUCTION_MAP = new ElementInstructionMap();\nvar TimelineAnimationEngine = /** @class */ (function () {\n    function TimelineAnimationEngine(_driver, _normalizer) {\n        this._driver = _driver;\n        this._normalizer = _normalizer;\n        this._animations = {};\n        this._playersById = {};\n        this.players = [];\n    }\n    /**\n     * @param {?} id\n     * @param {?} metadata\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.register = /**\n     * @param {?} id\n     * @param {?} metadata\n     * @return {?}\n     */\n    function (id, metadata) {\n        var /** @type {?} */ errors = [];\n        var /** @type {?} */ ast = buildAnimationAst(this._driver, metadata, errors);\n        if (errors.length) {\n            throw new Error(\"Unable to build the animation due to the following errors: \" + errors.join(\"\\n\"));\n        }\n        else {\n            this._animations[id] = ast;\n        }\n    };\n    /**\n     * @param {?} i\n     * @param {?} preStyles\n     * @param {?=} postStyles\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype._buildPlayer = /**\n     * @param {?} i\n     * @param {?} preStyles\n     * @param {?=} postStyles\n     * @return {?}\n     */\n    function (i, preStyles, postStyles) {\n        var /** @type {?} */ element = i.element;\n        var /** @type {?} */ keyframes = normalizeKeyframes(this._driver, this._normalizer, element, i.keyframes, preStyles, postStyles);\n        return this._driver.animate(element, keyframes, i.duration, i.delay, i.easing, []);\n    };\n    /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?=} options\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.create = /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?=} options\n     * @return {?}\n     */\n    function (id, element, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        var /** @type {?} */ errors = [];\n        var /** @type {?} */ ast = this._animations[id];\n        var /** @type {?} */ instructions;\n        var /** @type {?} */ autoStylesMap = new Map();\n        if (ast) {\n            instructions = buildAnimationTimelines(this._driver, element, ast, ENTER_CLASSNAME, LEAVE_CLASSNAME, {}, {}, options, EMPTY_INSTRUCTION_MAP, errors);\n            instructions.forEach(function (inst) {\n                var /** @type {?} */ styles = getOrSetAsInMap(autoStylesMap, inst.element, {});\n                inst.postStyleProps.forEach(function (prop) { return styles[prop] = null; });\n            });\n        }\n        else {\n            errors.push('The requested animation doesn\\'t exist or has already been destroyed');\n            instructions = [];\n        }\n        if (errors.length) {\n            throw new Error(\"Unable to create the animation due to the following errors: \" + errors.join(\"\\n\"));\n        }\n        autoStylesMap.forEach(function (styles, element) {\n            Object.keys(styles).forEach(function (prop) { styles[prop] = _this._driver.computeStyle(element, prop, AUTO_STYLE); });\n        });\n        var /** @type {?} */ players = instructions.map(function (i) {\n            var /** @type {?} */ styles = autoStylesMap.get(i.element);\n            return _this._buildPlayer(i, {}, styles);\n        });\n        var /** @type {?} */ player = optimizeGroupPlayer(players);\n        this._playersById[id] = player;\n        player.onDestroy(function () { return _this.destroy(id); });\n        this.players.push(player);\n        return player;\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.destroy = /**\n     * @param {?} id\n     * @return {?}\n     */\n    function (id) {\n        var /** @type {?} */ player = this._getPlayer(id);\n        player.destroy();\n        delete this._playersById[id];\n        var /** @type {?} */ index = this.players.indexOf(player);\n        if (index >= 0) {\n            this.players.splice(index, 1);\n        }\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype._getPlayer = /**\n     * @param {?} id\n     * @return {?}\n     */\n    function (id) {\n        var /** @type {?} */ player = this._playersById[id];\n        if (!player) {\n            throw new Error(\"Unable to find the timeline player referenced by \" + id);\n        }\n        return player;\n    };\n    /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.listen = /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    function (id, element, eventName, callback) {\n        // triggerName, fromState, toState are all ignored for timeline animations\n        var /** @type {?} */ baseEvent = makeAnimationEvent(element, '', '', '');\n        listenOnPlayer(this._getPlayer(id), eventName, baseEvent, callback);\n        return function () { };\n    };\n    /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} command\n     * @param {?} args\n     * @return {?}\n     */\n    TimelineAnimationEngine.prototype.command = /**\n     * @param {?} id\n     * @param {?} element\n     * @param {?} command\n     * @param {?} args\n     * @return {?}\n     */\n    function (id, element, command, args) {\n        if (command == 'register') {\n            this.register(id, /** @type {?} */ (args[0]));\n            return;\n        }\n        if (command == 'create') {\n            var /** @type {?} */ options = /** @type {?} */ ((args[0] || {}));\n            this.create(id, element, options);\n            return;\n        }\n        var /** @type {?} */ player = this._getPlayer(id);\n        switch (command) {\n            case 'play':\n                player.play();\n                break;\n            case 'pause':\n                player.pause();\n                break;\n            case 'reset':\n                player.reset();\n                break;\n            case 'restart':\n                player.restart();\n                break;\n            case 'finish':\n                player.finish();\n                break;\n            case 'init':\n                player.init();\n                break;\n            case 'setPosition':\n                player.setPosition(parseFloat(/** @type {?} */ (args[0])));\n                break;\n            case 'destroy':\n                this.destroy(id);\n                break;\n        }\n    };\n    return TimelineAnimationEngine;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar QUEUED_CLASSNAME = 'ng-animate-queued';\nvar QUEUED_SELECTOR = '.ng-animate-queued';\nvar DISABLED_CLASSNAME = 'ng-animate-disabled';\nvar DISABLED_SELECTOR = '.ng-animate-disabled';\nvar STAR_CLASSNAME = 'ng-star-inserted';\nvar STAR_SELECTOR = '.ng-star-inserted';\nvar EMPTY_PLAYER_ARRAY = [];\nvar NULL_REMOVAL_STATE = {\n    namespaceId: '',\n    setForRemoval: null,\n    hasAnimation: false,\n    removedBeforeQueried: false\n};\nvar NULL_REMOVED_QUERIED_STATE = {\n    namespaceId: '',\n    setForRemoval: null,\n    hasAnimation: false,\n    removedBeforeQueried: true\n};\n/**\n * @record\n */\n\nvar REMOVAL_FLAG = '__ng_removed';\n/**\n * @record\n */\n\nvar StateValue = /** @class */ (function () {\n    function StateValue(input, namespaceId) {\n        if (namespaceId === void 0) { namespaceId = ''; }\n        this.namespaceId = namespaceId;\n        var /** @type {?} */ isObj = input && input.hasOwnProperty('value');\n        var /** @type {?} */ value = isObj ? input['value'] : input;\n        this.value = normalizeTriggerValue(value);\n        if (isObj) {\n            var /** @type {?} */ options = copyObj(/** @type {?} */ (input));\n            delete options['value'];\n            this.options = /** @type {?} */ (options);\n        }\n        else {\n            this.options = {};\n        }\n        if (!this.options.params) {\n            this.options.params = {};\n        }\n    }\n    Object.defineProperty(StateValue.prototype, \"params\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return /** @type {?} */ (this.options.params); },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    StateValue.prototype.absorbOptions = /**\n     * @param {?} options\n     * @return {?}\n     */\n    function (options) {\n        var /** @type {?} */ newParams = options.params;\n        if (newParams) {\n            var /** @type {?} */ oldParams_1 = /** @type {?} */ ((this.options.params));\n            Object.keys(newParams).forEach(function (prop) {\n                if (oldParams_1[prop] == null) {\n                    oldParams_1[prop] = newParams[prop];\n                }\n            });\n        }\n    };\n    return StateValue;\n}());\nvar VOID_VALUE = 'void';\nvar DEFAULT_STATE_VALUE = new StateValue(VOID_VALUE);\nvar DELETED_STATE_VALUE = new StateValue('DELETED');\nvar AnimationTransitionNamespace = /** @class */ (function () {\n    function AnimationTransitionNamespace(id, hostElement, _engine) {\n        this.id = id;\n        this.hostElement = hostElement;\n        this._engine = _engine;\n        this.players = [];\n        this._triggers = {};\n        this._queue = [];\n        this._elementListeners = new Map();\n        this._hostClassName = 'ng-tns-' + id;\n        addClass(hostElement, this._hostClassName);\n    }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.listen = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n    function (element, name, phase, callback) {\n        var _this = this;\n        if (!this._triggers.hasOwnProperty(name)) {\n            throw new Error(\"Unable to listen on the animation trigger event \\\"\" + phase + \"\\\" because the animation trigger \\\"\" + name + \"\\\" doesn't exist!\");\n        }\n        if (phase == null || phase.length == 0) {\n            throw new Error(\"Unable to listen on the animation trigger \\\"\" + name + \"\\\" because the provided event is undefined!\");\n        }\n        if (!isTriggerEventValid(phase)) {\n            throw new Error(\"The provided animation trigger event \\\"\" + phase + \"\\\" for the animation trigger \\\"\" + name + \"\\\" is not supported!\");\n        }\n        var /** @type {?} */ listeners = getOrSetAsInMap(this._elementListeners, element, []);\n        var /** @type {?} */ data = { name: name, phase: phase, callback: callback };\n        listeners.push(data);\n        var /** @type {?} */ triggersWithStates = getOrSetAsInMap(this._engine.statesByElement, element, {});\n        if (!triggersWithStates.hasOwnProperty(name)) {\n            addClass(element, NG_TRIGGER_CLASSNAME);\n            addClass(element, NG_TRIGGER_CLASSNAME + '-' + name);\n            triggersWithStates[name] = DEFAULT_STATE_VALUE;\n        }\n        return function () {\n            // the event listener is removed AFTER the flush has occurred such\n            // that leave animations callbacks can fire (otherwise if the node\n            // is removed in between then the listeners would be deregistered)\n            // the event listener is removed AFTER the flush has occurred such\n            // that leave animations callbacks can fire (otherwise if the node\n            // is removed in between then the listeners would be deregistered)\n            _this._engine.afterFlush(function () {\n                var /** @type {?} */ index = listeners.indexOf(data);\n                if (index >= 0) {\n                    listeners.splice(index, 1);\n                }\n                if (!_this._triggers[name]) {\n                    delete triggersWithStates[name];\n                }\n            });\n        };\n    };\n    /**\n     * @param {?} name\n     * @param {?} ast\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.register = /**\n     * @param {?} name\n     * @param {?} ast\n     * @return {?}\n     */\n    function (name, ast) {\n        if (this._triggers[name]) {\n            // throw\n            return false;\n        }\n        else {\n            this._triggers[name] = ast;\n            return true;\n        }\n    };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype._getTrigger = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) {\n        var /** @type {?} */ trigger = this._triggers[name];\n        if (!trigger) {\n            throw new Error(\"The provided animation trigger \\\"\" + name + \"\\\" has not been registered!\");\n        }\n        return trigger;\n    };\n    /**\n     * @param {?} element\n     * @param {?} triggerName\n     * @param {?} value\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.trigger = /**\n     * @param {?} element\n     * @param {?} triggerName\n     * @param {?} value\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n    function (element, triggerName, value, defaultToFallback) {\n        var _this = this;\n        if (defaultToFallback === void 0) { defaultToFallback = true; }\n        var /** @type {?} */ trigger = this._getTrigger(triggerName);\n        var /** @type {?} */ player = new TransitionAnimationPlayer(this.id, triggerName, element);\n        var /** @type {?} */ triggersWithStates = this._engine.statesByElement.get(element);\n        if (!triggersWithStates) {\n            addClass(element, NG_TRIGGER_CLASSNAME);\n            addClass(element, NG_TRIGGER_CLASSNAME + '-' + triggerName);\n            this._engine.statesByElement.set(element, triggersWithStates = {});\n        }\n        var /** @type {?} */ fromState = triggersWithStates[triggerName];\n        var /** @type {?} */ toState = new StateValue(value, this.id);\n        var /** @type {?} */ isObj = value && value.hasOwnProperty('value');\n        if (!isObj && fromState) {\n            toState.absorbOptions(fromState.options);\n        }\n        triggersWithStates[triggerName] = toState;\n        if (!fromState) {\n            fromState = DEFAULT_STATE_VALUE;\n        }\n        else if (fromState === DELETED_STATE_VALUE) {\n            return player;\n        }\n        var /** @type {?} */ isRemoval = toState.value === VOID_VALUE;\n        // normally this isn't reached by here, however, if an object expression\n        // is passed in then it may be a new object each time. Comparing the value\n        // is important since that will stay the same despite there being a new object.\n        // The removal arc here is special cased because the same element is triggered\n        // twice in the event that it contains animations on the outer/inner portions\n        // of the host container\n        if (!isRemoval && fromState.value === toState.value) {\n            // this means that despite the value not changing, some inner params\n            // have changed which means that the animation final styles need to be applied\n            if (!objEquals(fromState.params, toState.params)) {\n                var /** @type {?} */ errors = [];\n                var /** @type {?} */ fromStyles_1 = trigger.matchStyles(fromState.value, fromState.params, errors);\n                var /** @type {?} */ toStyles_1 = trigger.matchStyles(toState.value, toState.params, errors);\n                if (errors.length) {\n                    this._engine.reportError(errors);\n                }\n                else {\n                    this._engine.afterFlush(function () {\n                        eraseStyles(element, fromStyles_1);\n                        setStyles(element, toStyles_1);\n                    });\n                }\n            }\n            return;\n        }\n        var /** @type {?} */ playersOnElement = getOrSetAsInMap(this._engine.playersByElement, element, []);\n        playersOnElement.forEach(function (player) {\n            // only remove the player if it is queued on the EXACT same trigger/namespace\n            // we only also deal with queued players here because if the animation has\n            // started then we want to keep the player alive until the flush happens\n            // (which is where the previousPlayers are passed into the new palyer)\n            if (player.namespaceId == _this.id && player.triggerName == triggerName && player.queued) {\n                player.destroy();\n            }\n        });\n        var /** @type {?} */ transition = trigger.matchTransition(fromState.value, toState.value);\n        var /** @type {?} */ isFallbackTransition = false;\n        if (!transition) {\n            if (!defaultToFallback)\n                return;\n            transition = trigger.fallbackTransition;\n            isFallbackTransition = true;\n        }\n        this._engine.totalQueuedPlayers++;\n        this._queue.push({ element: element, triggerName: triggerName, transition: transition, fromState: fromState, toState: toState, player: player, isFallbackTransition: isFallbackTransition });\n        if (!isFallbackTransition) {\n            addClass(element, QUEUED_CLASSNAME);\n            player.onStart(function () { removeClass(element, QUEUED_CLASSNAME); });\n        }\n        player.onDone(function () {\n            var /** @type {?} */ index = _this.players.indexOf(player);\n            if (index >= 0) {\n                _this.players.splice(index, 1);\n            }\n            var /** @type {?} */ players = _this._engine.playersByElement.get(element);\n            if (players) {\n                var /** @type {?} */ index_1 = players.indexOf(player);\n                if (index_1 >= 0) {\n                    players.splice(index_1, 1);\n                }\n            }\n        });\n        this.players.push(player);\n        playersOnElement.push(player);\n        return player;\n    };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.deregister = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) {\n        var _this = this;\n        delete this._triggers[name];\n        this._engine.statesByElement.forEach(function (stateMap, element) { delete stateMap[name]; });\n        this._elementListeners.forEach(function (listeners, element) {\n            _this._elementListeners.set(element, listeners.filter(function (entry) { return entry.name != name; }));\n        });\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.clearElementCache = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        this._engine.statesByElement.delete(element);\n        this._elementListeners.delete(element);\n        var /** @type {?} */ elementPlayers = this._engine.playersByElement.get(element);\n        if (elementPlayers) {\n            elementPlayers.forEach(function (player) { return player.destroy(); });\n            this._engine.playersByElement.delete(element);\n        }\n    };\n    /**\n     * @param {?} rootElement\n     * @param {?} context\n     * @param {?=} animate\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype._signalRemovalForInnerTriggers = /**\n     * @param {?} rootElement\n     * @param {?} context\n     * @param {?=} animate\n     * @return {?}\n     */\n    function (rootElement, context, animate) {\n        var _this = this;\n        if (animate === void 0) { animate = false; }\n        // emulate a leave animation for all inner nodes within this node.\n        // If there are no animations found for any of the nodes then clear the cache\n        // for the element.\n        this._engine.driver.query(rootElement, NG_TRIGGER_SELECTOR, true).forEach(function (elm) {\n            // this means that an inner remove() operation has already kicked off\n            // the animation on this element...\n            if (elm[REMOVAL_FLAG])\n                return;\n            var /** @type {?} */ namespaces = _this._engine.fetchNamespacesByElement(elm);\n            if (namespaces.size) {\n                namespaces.forEach(function (ns) { return ns.triggerLeaveAnimation(elm, context, false, true); });\n            }\n            else {\n                _this.clearElementCache(elm);\n            }\n        });\n    };\n    /**\n     * @param {?} element\n     * @param {?} context\n     * @param {?=} destroyAfterComplete\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.triggerLeaveAnimation = /**\n     * @param {?} element\n     * @param {?} context\n     * @param {?=} destroyAfterComplete\n     * @param {?=} defaultToFallback\n     * @return {?}\n     */\n    function (element, context, destroyAfterComplete, defaultToFallback) {\n        var _this = this;\n        var /** @type {?} */ triggerStates = this._engine.statesByElement.get(element);\n        if (triggerStates) {\n            var /** @type {?} */ players_1 = [];\n            Object.keys(triggerStates).forEach(function (triggerName) {\n                // this check is here in the event that an element is removed\n                // twice (both on the host level and the component level)\n                if (_this._triggers[triggerName]) {\n                    var /** @type {?} */ player = _this.trigger(element, triggerName, VOID_VALUE, defaultToFallback);\n                    if (player) {\n                        players_1.push(player);\n                    }\n                }\n            });\n            if (players_1.length) {\n                this._engine.markElementAsRemoved(this.id, element, true, context);\n                if (destroyAfterComplete) {\n                    optimizeGroupPlayer(players_1).onDone(function () { return _this._engine.processLeaveNode(element); });\n                }\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.prepareLeaveAnimationListeners = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var _this = this;\n        var /** @type {?} */ listeners = this._elementListeners.get(element);\n        if (listeners) {\n            var /** @type {?} */ visitedTriggers_1 = new Set();\n            listeners.forEach(function (listener) {\n                var /** @type {?} */ triggerName = listener.name;\n                if (visitedTriggers_1.has(triggerName))\n                    return;\n                visitedTriggers_1.add(triggerName);\n                var /** @type {?} */ trigger = _this._triggers[triggerName];\n                var /** @type {?} */ transition = trigger.fallbackTransition;\n                var /** @type {?} */ elementStates = /** @type {?} */ ((_this._engine.statesByElement.get(element)));\n                var /** @type {?} */ fromState = elementStates[triggerName] || DEFAULT_STATE_VALUE;\n                var /** @type {?} */ toState = new StateValue(VOID_VALUE);\n                var /** @type {?} */ player = new TransitionAnimationPlayer(_this.id, triggerName, element);\n                _this._engine.totalQueuedPlayers++;\n                _this._queue.push({\n                    element: element,\n                    triggerName: triggerName,\n                    transition: transition,\n                    fromState: fromState,\n                    toState: toState,\n                    player: player,\n                    isFallbackTransition: true\n                });\n            });\n        }\n    };\n    /**\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.removeNode = /**\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    function (element, context) {\n        var _this = this;\n        var /** @type {?} */ engine = this._engine;\n        if (element.childElementCount) {\n            this._signalRemovalForInnerTriggers(element, context, true);\n        }\n        // this means that a * => VOID animation was detected and kicked off\n        if (this.triggerLeaveAnimation(element, context, true))\n            return;\n        // find the player that is animating and make sure that the\n        // removal is delayed until that player has completed\n        var /** @type {?} */ containsPotentialParentTransition = false;\n        if (engine.totalAnimations) {\n            var /** @type {?} */ currentPlayers = engine.players.length ? engine.playersByQueriedElement.get(element) : [];\n            // when this `if statement` does not continue forward it means that\n            // a previous animation query has selected the current element and\n            // is animating it. In this situation want to continue fowards and\n            // allow the element to be queued up for animation later.\n            if (currentPlayers && currentPlayers.length) {\n                containsPotentialParentTransition = true;\n            }\n            else {\n                var /** @type {?} */ parent_1 = element;\n                while (parent_1 = parent_1.parentNode) {\n                    var /** @type {?} */ triggers = engine.statesByElement.get(parent_1);\n                    if (triggers) {\n                        containsPotentialParentTransition = true;\n                        break;\n                    }\n                }\n            }\n        }\n        // at this stage we know that the element will either get removed\n        // during flush or will be picked up by a parent query. Either way\n        // we need to fire the listeners for this element when it DOES get\n        // removed (once the query parent animation is done or after flush)\n        this.prepareLeaveAnimationListeners(element);\n        // whether or not a parent has an animation we need to delay the deferral of the leave\n        // operation until we have more information (which we do after flush() has been called)\n        if (containsPotentialParentTransition) {\n            engine.markElementAsRemoved(this.id, element, false, context);\n        }\n        else {\n            // we do this after the flush has occurred such\n            // that the callbacks can be fired\n            engine.afterFlush(function () { return _this.clearElementCache(element); });\n            engine.destroyInnerAnimations(element);\n            engine._onRemovalComplete(element, context);\n        }\n    };\n    /**\n     * @param {?} element\n     * @param {?} parent\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.insertNode = /**\n     * @param {?} element\n     * @param {?} parent\n     * @return {?}\n     */\n    function (element, parent) { addClass(element, this._hostClassName); };\n    /**\n     * @param {?} microtaskId\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.drainQueuedTransitions = /**\n     * @param {?} microtaskId\n     * @return {?}\n     */\n    function (microtaskId) {\n        var _this = this;\n        var /** @type {?} */ instructions = [];\n        this._queue.forEach(function (entry) {\n            var /** @type {?} */ player = entry.player;\n            if (player.destroyed)\n                return;\n            var /** @type {?} */ element = entry.element;\n            var /** @type {?} */ listeners = _this._elementListeners.get(element);\n            if (listeners) {\n                listeners.forEach(function (listener) {\n                    if (listener.name == entry.triggerName) {\n                        var /** @type {?} */ baseEvent = makeAnimationEvent(element, entry.triggerName, entry.fromState.value, entry.toState.value);\n                        (/** @type {?} */ (baseEvent))['_data'] = microtaskId;\n                        listenOnPlayer(entry.player, listener.phase, baseEvent, listener.callback);\n                    }\n                });\n            }\n            if (player.markedForDestroy) {\n                _this._engine.afterFlush(function () {\n                    // now we can destroy the element properly since the event listeners have\n                    // been bound to the player\n                    player.destroy();\n                });\n            }\n            else {\n                instructions.push(entry);\n            }\n        });\n        this._queue = [];\n        return instructions.sort(function (a, b) {\n            // if depCount == 0 them move to front\n            // otherwise if a contains b then move back\n            var /** @type {?} */ d0 = a.transition.ast.depCount;\n            var /** @type {?} */ d1 = b.transition.ast.depCount;\n            if (d0 == 0 || d1 == 0) {\n                return d0 - d1;\n            }\n            return _this._engine.driver.containsElement(a.element, b.element) ? 1 : -1;\n        });\n    };\n    /**\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.destroy = /**\n     * @param {?} context\n     * @return {?}\n     */\n    function (context) {\n        this.players.forEach(function (p) { return p.destroy(); });\n        this._signalRemovalForInnerTriggers(this.hostElement, context);\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    AnimationTransitionNamespace.prototype.elementContainsData = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var /** @type {?} */ containsData = false;\n        if (this._elementListeners.has(element))\n            containsData = true;\n        containsData =\n            (this._queue.find(function (entry) { return entry.element === element; }) ? true : false) || containsData;\n        return containsData;\n    };\n    return AnimationTransitionNamespace;\n}());\n/**\n * @record\n */\n\nvar TransitionAnimationEngine = /** @class */ (function () {\n    function TransitionAnimationEngine(driver, _normalizer) {\n        this.driver = driver;\n        this._normalizer = _normalizer;\n        this.players = [];\n        this.newHostElements = new Map();\n        this.playersByElement = new Map();\n        this.playersByQueriedElement = new Map();\n        this.statesByElement = new Map();\n        this.disabledNodes = new Set();\n        this.totalAnimations = 0;\n        this.totalQueuedPlayers = 0;\n        this._namespaceLookup = {};\n        this._namespaceList = [];\n        this._flushFns = [];\n        this._whenQuietFns = [];\n        this.namespacesByHostElement = new Map();\n        this.collectedEnterElements = [];\n        this.collectedLeaveElements = [];\n        this.onRemovalComplete = function (element, context) { };\n    }\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._onRemovalComplete = /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    function (element, context) { this.onRemovalComplete(element, context); };\n    Object.defineProperty(TransitionAnimationEngine.prototype, \"queuedPlayers\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            var /** @type {?} */ players = [];\n            this._namespaceList.forEach(function (ns) {\n                ns.players.forEach(function (player) {\n                    if (player.queued) {\n                        players.push(player);\n                    }\n                });\n            });\n            return players;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.createNamespace = /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    function (namespaceId, hostElement) {\n        var /** @type {?} */ ns = new AnimationTransitionNamespace(namespaceId, hostElement, this);\n        if (hostElement.parentNode) {\n            this._balanceNamespaceList(ns, hostElement);\n        }\n        else {\n            // defer this later until flush during when the host element has\n            // been inserted so that we know exactly where to place it in\n            // the namespace list\n            this.newHostElements.set(hostElement, ns);\n            // given that this host element is apart of the animation code, it\n            // may or may not be inserted by a parent node that is an of an\n            // animation renderer type. If this happens then we can still have\n            // access to this item when we query for :enter nodes. If the parent\n            // is a renderer then the set data-structure will normalize the entry\n            this.collectEnterElement(hostElement);\n        }\n        return this._namespaceLookup[namespaceId] = ns;\n    };\n    /**\n     * @param {?} ns\n     * @param {?} hostElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._balanceNamespaceList = /**\n     * @param {?} ns\n     * @param {?} hostElement\n     * @return {?}\n     */\n    function (ns, hostElement) {\n        var /** @type {?} */ limit = this._namespaceList.length - 1;\n        if (limit >= 0) {\n            var /** @type {?} */ found = false;\n            for (var /** @type {?} */ i = limit; i >= 0; i--) {\n                var /** @type {?} */ nextNamespace = this._namespaceList[i];\n                if (this.driver.containsElement(nextNamespace.hostElement, hostElement)) {\n                    this._namespaceList.splice(i + 1, 0, ns);\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                this._namespaceList.splice(0, 0, ns);\n            }\n        }\n        else {\n            this._namespaceList.push(ns);\n        }\n        this.namespacesByHostElement.set(hostElement, ns);\n        return ns;\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.register = /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    function (namespaceId, hostElement) {\n        var /** @type {?} */ ns = this._namespaceLookup[namespaceId];\n        if (!ns) {\n            ns = this.createNamespace(namespaceId, hostElement);\n        }\n        return ns;\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} name\n     * @param {?} trigger\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.registerTrigger = /**\n     * @param {?} namespaceId\n     * @param {?} name\n     * @param {?} trigger\n     * @return {?}\n     */\n    function (namespaceId, name, trigger) {\n        var /** @type {?} */ ns = this._namespaceLookup[namespaceId];\n        if (ns && ns.register(name, trigger)) {\n            this.totalAnimations++;\n        }\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.destroy = /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n    function (namespaceId, context) {\n        var _this = this;\n        if (!namespaceId)\n            return;\n        var /** @type {?} */ ns = this._fetchNamespace(namespaceId);\n        this.afterFlush(function () {\n            _this.namespacesByHostElement.delete(ns.hostElement);\n            delete _this._namespaceLookup[namespaceId];\n            var /** @type {?} */ index = _this._namespaceList.indexOf(ns);\n            if (index >= 0) {\n                _this._namespaceList.splice(index, 1);\n            }\n        });\n        this.afterFlushAnimationsDone(function () { return ns.destroy(context); });\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._fetchNamespace = /**\n     * @param {?} id\n     * @return {?}\n     */\n    function (id) { return this._namespaceLookup[id]; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.fetchNamespacesByElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        // normally there should only be one namespace per element, however\n        // if @triggers are placed on both the component element and then\n        // its host element (within the component code) then there will be\n        // two namespaces returned. We use a set here to simply the dedupe\n        // of namespaces incase there are multiple triggers both the elm and host\n        var /** @type {?} */ namespaces = new Set();\n        var /** @type {?} */ elementStates = this.statesByElement.get(element);\n        if (elementStates) {\n            var /** @type {?} */ keys = Object.keys(elementStates);\n            for (var /** @type {?} */ i = 0; i < keys.length; i++) {\n                var /** @type {?} */ nsId = elementStates[keys[i]].namespaceId;\n                if (nsId) {\n                    var /** @type {?} */ ns = this._fetchNamespace(nsId);\n                    if (ns) {\n                        namespaces.add(ns);\n                    }\n                }\n            }\n        }\n        return namespaces;\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.trigger = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (namespaceId, element, name, value) {\n        if (isElementNode(element)) {\n            this._fetchNamespace(namespaceId).trigger(element, name, value);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.insertNode = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n    function (namespaceId, element, parent, insertBefore) {\n        if (!isElementNode(element))\n            return;\n        // special case for when an element is removed and reinserted (move operation)\n        // when this occurs we do not want to use the element for deletion later\n        var /** @type {?} */ details = /** @type {?} */ (element[REMOVAL_FLAG]);\n        if (details && details.setForRemoval) {\n            details.setForRemoval = false;\n        }\n        // in the event that the namespaceId is blank then the caller\n        // code does not contain any animation code in it, but it is\n        // just being called so that the node is marked as being inserted\n        if (namespaceId) {\n            var /** @type {?} */ ns = this._fetchNamespace(namespaceId);\n            // This if-statement is a workaround for router issue #21947.\n            // The router sometimes hits a race condition where while a route\n            // is being instantiated a new navigation arrives, triggering leave\n            // animation of DOM that has not been fully initialized, until this\n            // is resolved, we need to handle the scenario when DOM is not in a\n            // consistent state during the animation.\n            if (ns) {\n                ns.insertNode(element, parent);\n            }\n        }\n        // only *directives and host elements are inserted before\n        if (insertBefore) {\n            this.collectEnterElement(element);\n        }\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.collectEnterElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { this.collectedEnterElements.push(element); };\n    /**\n     * @param {?} element\n     * @param {?} value\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.markElementAsDisabled = /**\n     * @param {?} element\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, value) {\n        if (value) {\n            if (!this.disabledNodes.has(element)) {\n                this.disabledNodes.add(element);\n                addClass(element, DISABLED_CLASSNAME);\n            }\n        }\n        else if (this.disabledNodes.has(element)) {\n            this.disabledNodes.delete(element);\n            removeClass(element, DISABLED_CLASSNAME);\n        }\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.removeNode = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    function (namespaceId, element, context) {\n        if (!isElementNode(element)) {\n            this._onRemovalComplete(element, context);\n            return;\n        }\n        var /** @type {?} */ ns = namespaceId ? this._fetchNamespace(namespaceId) : null;\n        if (ns) {\n            ns.removeNode(element, context);\n        }\n        else {\n            this.markElementAsRemoved(namespaceId, element, false, context);\n        }\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?=} hasAnimation\n     * @param {?=} context\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.markElementAsRemoved = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?=} hasAnimation\n     * @param {?=} context\n     * @return {?}\n     */\n    function (namespaceId, element, hasAnimation, context) {\n        this.collectedLeaveElements.push(element);\n        element[REMOVAL_FLAG] = {\n            namespaceId: namespaceId,\n            setForRemoval: context, hasAnimation: hasAnimation,\n            removedBeforeQueried: false\n        };\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.listen = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} name\n     * @param {?} phase\n     * @param {?} callback\n     * @return {?}\n     */\n    function (namespaceId, element, name, phase, callback) {\n        if (isElementNode(element)) {\n            return this._fetchNamespace(namespaceId).listen(element, name, phase, callback);\n        }\n        return function () { };\n    };\n    /**\n     * @param {?} entry\n     * @param {?} subTimelines\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._buildInstruction = /**\n     * @param {?} entry\n     * @param {?} subTimelines\n     * @param {?} enterClassName\n     * @param {?} leaveClassName\n     * @return {?}\n     */\n    function (entry, subTimelines, enterClassName, leaveClassName) {\n        return entry.transition.build(this.driver, entry.element, entry.fromState.value, entry.toState.value, enterClassName, leaveClassName, entry.fromState.options, entry.toState.options, subTimelines);\n    };\n    /**\n     * @param {?} containerElement\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.destroyInnerAnimations = /**\n     * @param {?} containerElement\n     * @return {?}\n     */\n    function (containerElement) {\n        var _this = this;\n        var /** @type {?} */ elements = this.driver.query(containerElement, NG_TRIGGER_SELECTOR, true);\n        elements.forEach(function (element) { return _this.destroyActiveAnimationsForElement(element); });\n        if (this.playersByQueriedElement.size == 0)\n            return;\n        elements = this.driver.query(containerElement, NG_ANIMATING_SELECTOR, true);\n        elements.forEach(function (element) { return _this.finishActiveQueriedAnimationOnElement(element); });\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.destroyActiveAnimationsForElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var /** @type {?} */ players = this.playersByElement.get(element);\n        if (players) {\n            players.forEach(function (player) {\n                // special case for when an element is set for destruction, but hasn't started.\n                // in this situation we want to delay the destruction until the flush occurs\n                // so that any event listeners attached to the player are triggered.\n                if (player.queued) {\n                    player.markedForDestroy = true;\n                }\n                else {\n                    player.destroy();\n                }\n            });\n        }\n        var /** @type {?} */ stateMap = this.statesByElement.get(element);\n        if (stateMap) {\n            Object.keys(stateMap).forEach(function (triggerName) { return stateMap[triggerName] = DELETED_STATE_VALUE; });\n        }\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.finishActiveQueriedAnimationOnElement = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var /** @type {?} */ players = this.playersByQueriedElement.get(element);\n        if (players) {\n            players.forEach(function (player) { return player.finish(); });\n        }\n    };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.whenRenderingDone = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            if (_this.players.length) {\n                return optimizeGroupPlayer(_this.players).onDone(function () { return resolve(); });\n            }\n            else {\n                resolve();\n            }\n        });\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.processLeaveNode = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var _this = this;\n        var /** @type {?} */ details = /** @type {?} */ (element[REMOVAL_FLAG]);\n        if (details && details.setForRemoval) {\n            // this will prevent it from removing it twice\n            element[REMOVAL_FLAG] = NULL_REMOVAL_STATE;\n            if (details.namespaceId) {\n                this.destroyInnerAnimations(element);\n                var /** @type {?} */ ns = this._fetchNamespace(details.namespaceId);\n                if (ns) {\n                    ns.clearElementCache(element);\n                }\n            }\n            this._onRemovalComplete(element, details.setForRemoval);\n        }\n        if (this.driver.matchesElement(element, DISABLED_SELECTOR)) {\n            this.markElementAsDisabled(element, false);\n        }\n        this.driver.query(element, DISABLED_SELECTOR, true).forEach(function (node) {\n            _this.markElementAsDisabled(element, false);\n        });\n    };\n    /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.flush = /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n    function (microtaskId) {\n        var _this = this;\n        if (microtaskId === void 0) { microtaskId = -1; }\n        var /** @type {?} */ players = [];\n        if (this.newHostElements.size) {\n            this.newHostElements.forEach(function (ns, element) { return _this._balanceNamespaceList(ns, element); });\n            this.newHostElements.clear();\n        }\n        if (this.totalAnimations && this.collectedEnterElements.length) {\n            for (var /** @type {?} */ i = 0; i < this.collectedEnterElements.length; i++) {\n                var /** @type {?} */ elm = this.collectedEnterElements[i];\n                addClass(elm, STAR_CLASSNAME);\n            }\n        }\n        if (this._namespaceList.length &&\n            (this.totalQueuedPlayers || this.collectedLeaveElements.length)) {\n            var /** @type {?} */ cleanupFns = [];\n            try {\n                players = this._flushAnimations(cleanupFns, microtaskId);\n            }\n            finally {\n                for (var /** @type {?} */ i = 0; i < cleanupFns.length; i++) {\n                    cleanupFns[i]();\n                }\n            }\n        }\n        else {\n            for (var /** @type {?} */ i = 0; i < this.collectedLeaveElements.length; i++) {\n                var /** @type {?} */ element = this.collectedLeaveElements[i];\n                this.processLeaveNode(element);\n            }\n        }\n        this.totalQueuedPlayers = 0;\n        this.collectedEnterElements.length = 0;\n        this.collectedLeaveElements.length = 0;\n        this._flushFns.forEach(function (fn) { return fn(); });\n        this._flushFns = [];\n        if (this._whenQuietFns.length) {\n            // we move these over to a variable so that\n            // if any new callbacks are registered in another\n            // flush they do not populate the existing set\n            var /** @type {?} */ quietFns_1 = this._whenQuietFns;\n            this._whenQuietFns = [];\n            if (players.length) {\n                optimizeGroupPlayer(players).onDone(function () { quietFns_1.forEach(function (fn) { return fn(); }); });\n            }\n            else {\n                quietFns_1.forEach(function (fn) { return fn(); });\n            }\n        }\n    };\n    /**\n     * @param {?} errors\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.reportError = /**\n     * @param {?} errors\n     * @return {?}\n     */\n    function (errors) {\n        throw new Error(\"Unable to process animations due to the following failed trigger transitions\\n \" + errors.join('\\n'));\n    };\n    /**\n     * @param {?} cleanupFns\n     * @param {?} microtaskId\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._flushAnimations = /**\n     * @param {?} cleanupFns\n     * @param {?} microtaskId\n     * @return {?}\n     */\n    function (cleanupFns, microtaskId) {\n        var _this = this;\n        var /** @type {?} */ subTimelines = new ElementInstructionMap();\n        var /** @type {?} */ skippedPlayers = [];\n        var /** @type {?} */ skippedPlayersMap = new Map();\n        var /** @type {?} */ queuedInstructions = [];\n        var /** @type {?} */ queriedElements = new Map();\n        var /** @type {?} */ allPreStyleElements = new Map();\n        var /** @type {?} */ allPostStyleElements = new Map();\n        var /** @type {?} */ disabledElementsSet = new Set();\n        this.disabledNodes.forEach(function (node) {\n            disabledElementsSet.add(node);\n            var /** @type {?} */ nodesThatAreDisabled = _this.driver.query(node, QUEUED_SELECTOR, true);\n            for (var /** @type {?} */ i_1 = 0; i_1 < nodesThatAreDisabled.length; i_1++) {\n                disabledElementsSet.add(nodesThatAreDisabled[i_1]);\n            }\n        });\n        var /** @type {?} */ bodyNode = getBodyNode();\n        var /** @type {?} */ allTriggerElements = Array.from(this.statesByElement.keys());\n        var /** @type {?} */ enterNodeMap = buildRootMap(allTriggerElements, this.collectedEnterElements);\n        // this must occur before the instructions are built below such that\n        // the :enter queries match the elements (since the timeline queries\n        // are fired during instruction building).\n        var /** @type {?} */ enterNodeMapIds = new Map();\n        var /** @type {?} */ i = 0;\n        enterNodeMap.forEach(function (nodes, root) {\n            var /** @type {?} */ className = ENTER_CLASSNAME + i++;\n            enterNodeMapIds.set(root, className);\n            nodes.forEach(function (node) { return addClass(node, className); });\n        });\n        var /** @type {?} */ allLeaveNodes = [];\n        var /** @type {?} */ mergedLeaveNodes = new Set();\n        var /** @type {?} */ leaveNodesWithoutAnimations = new Set();\n        for (var /** @type {?} */ i_2 = 0; i_2 < this.collectedLeaveElements.length; i_2++) {\n            var /** @type {?} */ element = this.collectedLeaveElements[i_2];\n            var /** @type {?} */ details = /** @type {?} */ (element[REMOVAL_FLAG]);\n            if (details && details.setForRemoval) {\n                allLeaveNodes.push(element);\n                mergedLeaveNodes.add(element);\n                if (details.hasAnimation) {\n                    this.driver.query(element, STAR_SELECTOR, true).forEach(function (elm) { return mergedLeaveNodes.add(elm); });\n                }\n                else {\n                    leaveNodesWithoutAnimations.add(element);\n                }\n            }\n        }\n        var /** @type {?} */ leaveNodeMapIds = new Map();\n        var /** @type {?} */ leaveNodeMap = buildRootMap(allTriggerElements, Array.from(mergedLeaveNodes));\n        leaveNodeMap.forEach(function (nodes, root) {\n            var /** @type {?} */ className = LEAVE_CLASSNAME + i++;\n            leaveNodeMapIds.set(root, className);\n            nodes.forEach(function (node) { return addClass(node, className); });\n        });\n        cleanupFns.push(function () {\n            enterNodeMap.forEach(function (nodes, root) {\n                var /** @type {?} */ className = /** @type {?} */ ((enterNodeMapIds.get(root)));\n                nodes.forEach(function (node) { return removeClass(node, className); });\n            });\n            leaveNodeMap.forEach(function (nodes, root) {\n                var /** @type {?} */ className = /** @type {?} */ ((leaveNodeMapIds.get(root)));\n                nodes.forEach(function (node) { return removeClass(node, className); });\n            });\n            allLeaveNodes.forEach(function (element) { _this.processLeaveNode(element); });\n        });\n        var /** @type {?} */ allPlayers = [];\n        var /** @type {?} */ erroneousTransitions = [];\n        for (var /** @type {?} */ i_3 = this._namespaceList.length - 1; i_3 >= 0; i_3--) {\n            var /** @type {?} */ ns = this._namespaceList[i_3];\n            ns.drainQueuedTransitions(microtaskId).forEach(function (entry) {\n                var /** @type {?} */ player = entry.player;\n                allPlayers.push(player);\n                var /** @type {?} */ element = entry.element;\n                if (!bodyNode || !_this.driver.containsElement(bodyNode, element)) {\n                    player.destroy();\n                    return;\n                }\n                var /** @type {?} */ leaveClassName = /** @type {?} */ ((leaveNodeMapIds.get(element)));\n                var /** @type {?} */ enterClassName = /** @type {?} */ ((enterNodeMapIds.get(element)));\n                var /** @type {?} */ instruction = /** @type {?} */ ((_this._buildInstruction(entry, subTimelines, enterClassName, leaveClassName)));\n                if (instruction.errors && instruction.errors.length) {\n                    erroneousTransitions.push(instruction);\n                    return;\n                }\n                // if a unmatched transition is queued to go then it SHOULD NOT render\n                // an animation and cancel the previously running animations.\n                if (entry.isFallbackTransition) {\n                    player.onStart(function () { return eraseStyles(element, instruction.fromStyles); });\n                    player.onDestroy(function () { return setStyles(element, instruction.toStyles); });\n                    skippedPlayers.push(player);\n                    return;\n                }\n                // this means that if a parent animation uses this animation as a sub trigger\n                // then it will instruct the timeline builder to not add a player delay, but\n                // instead stretch the first keyframe gap up until the animation starts. The\n                // reason this is important is to prevent extra initialization styles from being\n                // required by the user in the animation.\n                instruction.timelines.forEach(function (tl) { return tl.stretchStartingKeyframe = true; });\n                subTimelines.append(element, instruction.timelines);\n                var /** @type {?} */ tuple = { instruction: instruction, player: player, element: element };\n                queuedInstructions.push(tuple);\n                instruction.queriedElements.forEach(function (element) { return getOrSetAsInMap(queriedElements, element, []).push(player); });\n                instruction.preStyleProps.forEach(function (stringMap, element) {\n                    var /** @type {?} */ props = Object.keys(stringMap);\n                    if (props.length) {\n                        var /** @type {?} */ setVal_1 = /** @type {?} */ ((allPreStyleElements.get(element)));\n                        if (!setVal_1) {\n                            allPreStyleElements.set(element, setVal_1 = new Set());\n                        }\n                        props.forEach(function (prop) { return setVal_1.add(prop); });\n                    }\n                });\n                instruction.postStyleProps.forEach(function (stringMap, element) {\n                    var /** @type {?} */ props = Object.keys(stringMap);\n                    var /** @type {?} */ setVal = /** @type {?} */ ((allPostStyleElements.get(element)));\n                    if (!setVal) {\n                        allPostStyleElements.set(element, setVal = new Set());\n                    }\n                    props.forEach(function (prop) { return setVal.add(prop); });\n                });\n            });\n        }\n        if (erroneousTransitions.length) {\n            var /** @type {?} */ errors_1 = [];\n            erroneousTransitions.forEach(function (instruction) {\n                errors_1.push(\"@\" + instruction.triggerName + \" has failed due to:\\n\"); /** @type {?} */\n                ((instruction.errors)).forEach(function (error) { return errors_1.push(\"- \" + error + \"\\n\"); });\n            });\n            allPlayers.forEach(function (player) { return player.destroy(); });\n            this.reportError(errors_1);\n        }\n        var /** @type {?} */ allPreviousPlayersMap = new Map();\n        // this map works to tell which element in the DOM tree is contained by\n        // which animation. Further down below this map will get populated once\n        // the players are built and in doing so it can efficiently figure out\n        // if a sub player is skipped due to a parent player having priority.\n        var /** @type {?} */ animationElementMap = new Map();\n        queuedInstructions.forEach(function (entry) {\n            var /** @type {?} */ element = entry.element;\n            if (subTimelines.has(element)) {\n                animationElementMap.set(element, element);\n                _this._beforeAnimationBuild(entry.player.namespaceId, entry.instruction, allPreviousPlayersMap);\n            }\n        });\n        skippedPlayers.forEach(function (player) {\n            var /** @type {?} */ element = player.element;\n            var /** @type {?} */ previousPlayers = _this._getPreviousPlayers(element, false, player.namespaceId, player.triggerName, null);\n            previousPlayers.forEach(function (prevPlayer) {\n                getOrSetAsInMap(allPreviousPlayersMap, element, []).push(prevPlayer);\n                prevPlayer.destroy();\n            });\n        });\n        // this is a special case for nodes that will be removed (either by)\n        // having their own leave animations or by being queried in a container\n        // that will be removed once a parent animation is complete. The idea\n        // here is that * styles must be identical to ! styles because of\n        // backwards compatibility (* is also filled in by default in many places).\n        // Otherwise * styles will return an empty value or auto since the element\n        // that is being getComputedStyle'd will not be visible (since * = destination)\n        var /** @type {?} */ replaceNodes = allLeaveNodes.filter(function (node) {\n            return replacePostStylesAsPre(node, allPreStyleElements, allPostStyleElements);\n        });\n        // POST STAGE: fill the * styles\n        var /** @type {?} */ postStylesMap = new Map();\n        var /** @type {?} */ allLeaveQueriedNodes = cloakAndComputeStyles(postStylesMap, this.driver, leaveNodesWithoutAnimations, allPostStyleElements, AUTO_STYLE);\n        allLeaveQueriedNodes.forEach(function (node) {\n            if (replacePostStylesAsPre(node, allPreStyleElements, allPostStyleElements)) {\n                replaceNodes.push(node);\n            }\n        });\n        // PRE STAGE: fill the ! styles\n        var /** @type {?} */ preStylesMap = new Map();\n        enterNodeMap.forEach(function (nodes, root) {\n            cloakAndComputeStyles(preStylesMap, _this.driver, new Set(nodes), allPreStyleElements, ɵPRE_STYLE);\n        });\n        replaceNodes.forEach(function (node) {\n            var /** @type {?} */ post = postStylesMap.get(node);\n            var /** @type {?} */ pre = preStylesMap.get(node);\n            postStylesMap.set(node, /** @type {?} */ (__assign({}, post, pre)));\n        });\n        var /** @type {?} */ rootPlayers = [];\n        var /** @type {?} */ subPlayers = [];\n        var /** @type {?} */ NO_PARENT_ANIMATION_ELEMENT_DETECTED = {};\n        queuedInstructions.forEach(function (entry) {\n            var element = entry.element, player = entry.player, instruction = entry.instruction;\n            // this means that it was never consumed by a parent animation which\n            // means that it is independent and therefore should be set for animation\n            if (subTimelines.has(element)) {\n                if (disabledElementsSet.has(element)) {\n                    player.onDestroy(function () { return setStyles(element, instruction.toStyles); });\n                    skippedPlayers.push(player);\n                    return;\n                }\n                // this will flow up the DOM and query the map to figure out\n                // if a parent animation has priority over it. In the situation\n                // that a parent is detected then it will cancel the loop. If\n                // nothing is detected, or it takes a few hops to find a parent,\n                // then it will fill in the missing nodes and signal them as having\n                // a detected parent (or a NO_PARENT value via a special constant).\n                var /** @type {?} */ parentWithAnimation_1 = NO_PARENT_ANIMATION_ELEMENT_DETECTED;\n                if (animationElementMap.size > 1) {\n                    var /** @type {?} */ elm = element;\n                    var /** @type {?} */ parentsToAdd = [];\n                    while (elm = elm.parentNode) {\n                        var /** @type {?} */ detectedParent = animationElementMap.get(elm);\n                        if (detectedParent) {\n                            parentWithAnimation_1 = detectedParent;\n                            break;\n                        }\n                        parentsToAdd.push(elm);\n                    }\n                    parentsToAdd.forEach(function (parent) { return animationElementMap.set(parent, parentWithAnimation_1); });\n                }\n                var /** @type {?} */ innerPlayer = _this._buildAnimation(player.namespaceId, instruction, allPreviousPlayersMap, skippedPlayersMap, preStylesMap, postStylesMap);\n                player.setRealPlayer(innerPlayer);\n                if (parentWithAnimation_1 === NO_PARENT_ANIMATION_ELEMENT_DETECTED) {\n                    rootPlayers.push(player);\n                }\n                else {\n                    var /** @type {?} */ parentPlayers = _this.playersByElement.get(parentWithAnimation_1);\n                    if (parentPlayers && parentPlayers.length) {\n                        player.parentPlayer = optimizeGroupPlayer(parentPlayers);\n                    }\n                    skippedPlayers.push(player);\n                }\n            }\n            else {\n                eraseStyles(element, instruction.fromStyles);\n                player.onDestroy(function () { return setStyles(element, instruction.toStyles); });\n                // there still might be a ancestor player animating this\n                // element therefore we will still add it as a sub player\n                // even if its animation may be disabled\n                subPlayers.push(player);\n                if (disabledElementsSet.has(element)) {\n                    skippedPlayers.push(player);\n                }\n            }\n        });\n        // find all of the sub players' corresponding inner animation player\n        subPlayers.forEach(function (player) {\n            // even if any players are not found for a sub animation then it\n            // will still complete itself after the next tick since it's Noop\n            var /** @type {?} */ playersForElement = skippedPlayersMap.get(player.element);\n            if (playersForElement && playersForElement.length) {\n                var /** @type {?} */ innerPlayer = optimizeGroupPlayer(playersForElement);\n                player.setRealPlayer(innerPlayer);\n            }\n        });\n        // the reason why we don't actually play the animation is\n        // because all that a skipped player is designed to do is to\n        // fire the start/done transition callback events\n        skippedPlayers.forEach(function (player) {\n            if (player.parentPlayer) {\n                player.syncPlayerEvents(player.parentPlayer);\n            }\n            else {\n                player.destroy();\n            }\n        });\n        // run through all of the queued removals and see if they\n        // were picked up by a query. If not then perform the removal\n        // operation right away unless a parent animation is ongoing.\n        for (var /** @type {?} */ i_4 = 0; i_4 < allLeaveNodes.length; i_4++) {\n            var /** @type {?} */ element = allLeaveNodes[i_4];\n            var /** @type {?} */ details = /** @type {?} */ (element[REMOVAL_FLAG]);\n            removeClass(element, LEAVE_CLASSNAME);\n            // this means the element has a removal animation that is being\n            // taken care of and therefore the inner elements will hang around\n            // until that animation is over (or the parent queried animation)\n            if (details && details.hasAnimation)\n                continue;\n            var /** @type {?} */ players = [];\n            // if this element is queried or if it contains queried children\n            // then we want for the element not to be removed from the page\n            // until the queried animations have finished\n            if (queriedElements.size) {\n                var /** @type {?} */ queriedPlayerResults = queriedElements.get(element);\n                if (queriedPlayerResults && queriedPlayerResults.length) {\n                    players.push.apply(players, queriedPlayerResults);\n                }\n                var /** @type {?} */ queriedInnerElements = this.driver.query(element, NG_ANIMATING_SELECTOR, true);\n                for (var /** @type {?} */ j = 0; j < queriedInnerElements.length; j++) {\n                    var /** @type {?} */ queriedPlayers = queriedElements.get(queriedInnerElements[j]);\n                    if (queriedPlayers && queriedPlayers.length) {\n                        players.push.apply(players, queriedPlayers);\n                    }\n                }\n            }\n            var /** @type {?} */ activePlayers = players.filter(function (p) { return !p.destroyed; });\n            if (activePlayers.length) {\n                removeNodesAfterAnimationDone(this, element, activePlayers);\n            }\n            else {\n                this.processLeaveNode(element);\n            }\n        }\n        // this is required so the cleanup method doesn't remove them\n        allLeaveNodes.length = 0;\n        rootPlayers.forEach(function (player) {\n            _this.players.push(player);\n            player.onDone(function () {\n                player.destroy();\n                var /** @type {?} */ index = _this.players.indexOf(player);\n                _this.players.splice(index, 1);\n            });\n            player.play();\n        });\n        return rootPlayers;\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.elementContainsData = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @return {?}\n     */\n    function (namespaceId, element) {\n        var /** @type {?} */ containsData = false;\n        var /** @type {?} */ details = /** @type {?} */ (element[REMOVAL_FLAG]);\n        if (details && details.setForRemoval)\n            containsData = true;\n        if (this.playersByElement.has(element))\n            containsData = true;\n        if (this.playersByQueriedElement.has(element))\n            containsData = true;\n        if (this.statesByElement.has(element))\n            containsData = true;\n        return this._fetchNamespace(namespaceId).elementContainsData(element) || containsData;\n    };\n    /**\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.afterFlush = /**\n     * @param {?} callback\n     * @return {?}\n     */\n    function (callback) { this._flushFns.push(callback); };\n    /**\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype.afterFlushAnimationsDone = /**\n     * @param {?} callback\n     * @return {?}\n     */\n    function (callback) { this._whenQuietFns.push(callback); };\n    /**\n     * @param {?} element\n     * @param {?} isQueriedElement\n     * @param {?=} namespaceId\n     * @param {?=} triggerName\n     * @param {?=} toStateValue\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._getPreviousPlayers = /**\n     * @param {?} element\n     * @param {?} isQueriedElement\n     * @param {?=} namespaceId\n     * @param {?=} triggerName\n     * @param {?=} toStateValue\n     * @return {?}\n     */\n    function (element, isQueriedElement, namespaceId, triggerName, toStateValue) {\n        var /** @type {?} */ players = [];\n        if (isQueriedElement) {\n            var /** @type {?} */ queriedElementPlayers = this.playersByQueriedElement.get(element);\n            if (queriedElementPlayers) {\n                players = queriedElementPlayers;\n            }\n        }\n        else {\n            var /** @type {?} */ elementPlayers = this.playersByElement.get(element);\n            if (elementPlayers) {\n                var /** @type {?} */ isRemovalAnimation_1 = !toStateValue || toStateValue == VOID_VALUE;\n                elementPlayers.forEach(function (player) {\n                    if (player.queued)\n                        return;\n                    if (!isRemovalAnimation_1 && player.triggerName != triggerName)\n                        return;\n                    players.push(player);\n                });\n            }\n        }\n        if (namespaceId || triggerName) {\n            players = players.filter(function (player) {\n                if (namespaceId && namespaceId != player.namespaceId)\n                    return false;\n                if (triggerName && triggerName != player.triggerName)\n                    return false;\n                return true;\n            });\n        }\n        return players;\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._beforeAnimationBuild = /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @return {?}\n     */\n    function (namespaceId, instruction, allPreviousPlayersMap) {\n        var /** @type {?} */ triggerName = instruction.triggerName;\n        var /** @type {?} */ rootElement = instruction.element;\n        // when a removal animation occurs, ALL previous players are collected\n        // and destroyed (even if they are outside of the current namespace)\n        var /** @type {?} */ targetNameSpaceId = instruction.isRemovalTransition ? undefined : namespaceId;\n        var /** @type {?} */ targetTriggerName = instruction.isRemovalTransition ? undefined : triggerName;\n        var _loop_1 = function (timelineInstruction) {\n            var /** @type {?} */ element = timelineInstruction.element;\n            var /** @type {?} */ isQueriedElement = element !== rootElement;\n            var /** @type {?} */ players = getOrSetAsInMap(allPreviousPlayersMap, element, []);\n            var /** @type {?} */ previousPlayers = this_1._getPreviousPlayers(element, isQueriedElement, targetNameSpaceId, targetTriggerName, instruction.toState);\n            previousPlayers.forEach(function (player) {\n                var /** @type {?} */ realPlayer = /** @type {?} */ (player.getRealPlayer());\n                if (realPlayer.beforeDestroy) {\n                    realPlayer.beforeDestroy();\n                }\n                player.destroy();\n                players.push(player);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = instruction.timelines; _i < _a.length; _i++) {\n            var timelineInstruction = _a[_i];\n            _loop_1(timelineInstruction);\n        }\n        // this needs to be done so that the PRE/POST styles can be\n        // computed properly without interfering with the previous animation\n        eraseStyles(rootElement, instruction.fromStyles);\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @param {?} skippedPlayersMap\n     * @param {?} preStylesMap\n     * @param {?} postStylesMap\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._buildAnimation = /**\n     * @param {?} namespaceId\n     * @param {?} instruction\n     * @param {?} allPreviousPlayersMap\n     * @param {?} skippedPlayersMap\n     * @param {?} preStylesMap\n     * @param {?} postStylesMap\n     * @return {?}\n     */\n    function (namespaceId, instruction, allPreviousPlayersMap, skippedPlayersMap, preStylesMap, postStylesMap) {\n        var _this = this;\n        var /** @type {?} */ triggerName = instruction.triggerName;\n        var /** @type {?} */ rootElement = instruction.element;\n        // we first run this so that the previous animation player\n        // data can be passed into the successive animation players\n        var /** @type {?} */ allQueriedPlayers = [];\n        var /** @type {?} */ allConsumedElements = new Set();\n        var /** @type {?} */ allSubElements = new Set();\n        var /** @type {?} */ allNewPlayers = instruction.timelines.map(function (timelineInstruction) {\n            var /** @type {?} */ element = timelineInstruction.element;\n            allConsumedElements.add(element);\n            // FIXME (matsko): make sure to-be-removed animations are removed properly\n            var /** @type {?} */ details = element[REMOVAL_FLAG];\n            if (details && details.removedBeforeQueried)\n                return new NoopAnimationPlayer();\n            var /** @type {?} */ isQueriedElement = element !== rootElement;\n            var /** @type {?} */ previousPlayers = flattenGroupPlayers((allPreviousPlayersMap.get(element) || EMPTY_PLAYER_ARRAY)\n                .map(function (p) { return p.getRealPlayer(); }))\n                .filter(function (p) {\n                // the `element` is not apart of the AnimationPlayer definition, but\n                // Mock/WebAnimations\n                // use the element within their implementation. This will be added in Angular5 to\n                // AnimationPlayer\n                var /** @type {?} */ pp = /** @type {?} */ (p);\n                return pp.element ? pp.element === element : false;\n            });\n            var /** @type {?} */ preStyles = preStylesMap.get(element);\n            var /** @type {?} */ postStyles = postStylesMap.get(element);\n            var /** @type {?} */ keyframes = normalizeKeyframes(_this.driver, _this._normalizer, element, timelineInstruction.keyframes, preStyles, postStyles);\n            var /** @type {?} */ player = _this._buildPlayer(timelineInstruction, keyframes, previousPlayers);\n            // this means that this particular player belongs to a sub trigger. It is\n            // important that we match this player up with the corresponding (@trigger.listener)\n            if (timelineInstruction.subTimeline && skippedPlayersMap) {\n                allSubElements.add(element);\n            }\n            if (isQueriedElement) {\n                var /** @type {?} */ wrappedPlayer = new TransitionAnimationPlayer(namespaceId, triggerName, element);\n                wrappedPlayer.setRealPlayer(player);\n                allQueriedPlayers.push(wrappedPlayer);\n            }\n            return player;\n        });\n        allQueriedPlayers.forEach(function (player) {\n            getOrSetAsInMap(_this.playersByQueriedElement, player.element, []).push(player);\n            player.onDone(function () { return deleteOrUnsetInMap(_this.playersByQueriedElement, player.element, player); });\n        });\n        allConsumedElements.forEach(function (element) { return addClass(element, NG_ANIMATING_CLASSNAME); });\n        var /** @type {?} */ player = optimizeGroupPlayer(allNewPlayers);\n        player.onDestroy(function () {\n            allConsumedElements.forEach(function (element) { return removeClass(element, NG_ANIMATING_CLASSNAME); });\n            setStyles(rootElement, instruction.toStyles);\n        });\n        // this basically makes all of the callbacks for sub element animations\n        // be dependent on the upper players for when they finish\n        allSubElements.forEach(function (element) { getOrSetAsInMap(skippedPlayersMap, element, []).push(player); });\n        return player;\n    };\n    /**\n     * @param {?} instruction\n     * @param {?} keyframes\n     * @param {?} previousPlayers\n     * @return {?}\n     */\n    TransitionAnimationEngine.prototype._buildPlayer = /**\n     * @param {?} instruction\n     * @param {?} keyframes\n     * @param {?} previousPlayers\n     * @return {?}\n     */\n    function (instruction, keyframes, previousPlayers) {\n        if (keyframes.length > 0) {\n            return this.driver.animate(instruction.element, keyframes, instruction.duration, instruction.delay, instruction.easing, previousPlayers);\n        }\n        // special case for when an empty transition|definition is provided\n        // ... there is no point in rendering an empty animation\n        return new NoopAnimationPlayer();\n    };\n    return TransitionAnimationEngine;\n}());\nvar TransitionAnimationPlayer = /** @class */ (function () {\n    function TransitionAnimationPlayer(namespaceId, triggerName, element) {\n        this.namespaceId = namespaceId;\n        this.triggerName = triggerName;\n        this.element = element;\n        this._player = new NoopAnimationPlayer();\n        this._containsRealPlayer = false;\n        this._queuedCallbacks = {};\n        this.destroyed = false;\n        this.markedForDestroy = false;\n        this.queued = true;\n    }\n    /**\n     * @param {?} player\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.setRealPlayer = /**\n     * @param {?} player\n     * @return {?}\n     */\n    function (player) {\n        var _this = this;\n        if (this._containsRealPlayer)\n            return;\n        this._player = player;\n        Object.keys(this._queuedCallbacks).forEach(function (phase) {\n            _this._queuedCallbacks[phase].forEach(function (callback) { return listenOnPlayer(player, phase, undefined, callback); });\n        });\n        this._queuedCallbacks = {};\n        this._containsRealPlayer = true;\n        (/** @type {?} */ (this)).queued = false;\n    };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.getRealPlayer = /**\n     * @return {?}\n     */\n    function () { return this._player; };\n    /**\n     * @param {?} player\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.syncPlayerEvents = /**\n     * @param {?} player\n     * @return {?}\n     */\n    function (player) {\n        var _this = this;\n        var /** @type {?} */ p = /** @type {?} */ (this._player);\n        if (p.triggerCallback) {\n            player.onStart(function () { return p.triggerCallback('start'); });\n        }\n        player.onDone(function () { return _this.finish(); });\n        player.onDestroy(function () { return _this.destroy(); });\n    };\n    /**\n     * @param {?} name\n     * @param {?} callback\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype._queueEvent = /**\n     * @param {?} name\n     * @param {?} callback\n     * @return {?}\n     */\n    function (name, callback) {\n        getOrSetAsInMap(this._queuedCallbacks, name, []).push(callback);\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.onDone = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) {\n        if (this.queued) {\n            this._queueEvent('done', fn);\n        }\n        this._player.onDone(fn);\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.onStart = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) {\n        if (this.queued) {\n            this._queueEvent('start', fn);\n        }\n        this._player.onStart(fn);\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.onDestroy = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) {\n        if (this.queued) {\n            this._queueEvent('destroy', fn);\n        }\n        this._player.onDestroy(fn);\n    };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.init = /**\n     * @return {?}\n     */\n    function () { this._player.init(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.hasStarted = /**\n     * @return {?}\n     */\n    function () { return this.queued ? false : this._player.hasStarted(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.play = /**\n     * @return {?}\n     */\n    function () { !this.queued && this._player.play(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.pause = /**\n     * @return {?}\n     */\n    function () { !this.queued && this._player.pause(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.restart = /**\n     * @return {?}\n     */\n    function () { !this.queued && this._player.restart(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.finish = /**\n     * @return {?}\n     */\n    function () { this._player.finish(); };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.destroy = /**\n     * @return {?}\n     */\n    function () {\n        (/** @type {?} */ (this)).destroyed = true;\n        this._player.destroy();\n    };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.reset = /**\n     * @return {?}\n     */\n    function () { !this.queued && this._player.reset(); };\n    /**\n     * @param {?} p\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.setPosition = /**\n     * @param {?} p\n     * @return {?}\n     */\n    function (p) {\n        if (!this.queued) {\n            this._player.setPosition(p);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.getPosition = /**\n     * @return {?}\n     */\n    function () { return this.queued ? 0 : this._player.getPosition(); };\n    Object.defineProperty(TransitionAnimationPlayer.prototype, \"totalTime\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._player.totalTime; },\n        enumerable: true,\n        configurable: true\n    });\n    /* @internal */\n    /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n    TransitionAnimationPlayer.prototype.triggerCallback = /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n    function (phaseName) {\n        var /** @type {?} */ p = /** @type {?} */ (this._player);\n        if (p.triggerCallback) {\n            p.triggerCallback(phaseName);\n        }\n    };\n    return TransitionAnimationPlayer;\n}());\n/**\n * @param {?} map\n * @param {?} key\n * @param {?} value\n * @return {?}\n */\nfunction deleteOrUnsetInMap(map, key, value) {\n    var /** @type {?} */ currentValues;\n    if (map instanceof Map) {\n        currentValues = map.get(key);\n        if (currentValues) {\n            if (currentValues.length) {\n                var /** @type {?} */ index = currentValues.indexOf(value);\n                currentValues.splice(index, 1);\n            }\n            if (currentValues.length == 0) {\n                map.delete(key);\n            }\n        }\n    }\n    else {\n        currentValues = map[key];\n        if (currentValues) {\n            if (currentValues.length) {\n                var /** @type {?} */ index = currentValues.indexOf(value);\n                currentValues.splice(index, 1);\n            }\n            if (currentValues.length == 0) {\n                delete map[key];\n            }\n        }\n    }\n    return currentValues;\n}\n/**\n * @param {?} value\n * @return {?}\n */\nfunction normalizeTriggerValue(value) {\n    // we use `!= null` here because it's the most simple\n    // way to test against a \"falsy\" value without mixing\n    // in empty strings or a zero value. DO NOT OPTIMIZE.\n    return value != null ? value : null;\n}\n/**\n * @param {?} node\n * @return {?}\n */\nfunction isElementNode(node) {\n    return node && node['nodeType'] === 1;\n}\n/**\n * @param {?} eventName\n * @return {?}\n */\nfunction isTriggerEventValid(eventName) {\n    return eventName == 'start' || eventName == 'done';\n}\n/**\n * @param {?} element\n * @param {?=} value\n * @return {?}\n */\nfunction cloakElement(element, value) {\n    var /** @type {?} */ oldValue = element.style.display;\n    element.style.display = value != null ? value : 'none';\n    return oldValue;\n}\n/**\n * @param {?} valuesMap\n * @param {?} driver\n * @param {?} elements\n * @param {?} elementPropsMap\n * @param {?} defaultStyle\n * @return {?}\n */\nfunction cloakAndComputeStyles(valuesMap, driver, elements, elementPropsMap, defaultStyle) {\n    var /** @type {?} */ cloakVals = [];\n    elements.forEach(function (element) { return cloakVals.push(cloakElement(element)); });\n    var /** @type {?} */ failedElements = [];\n    elementPropsMap.forEach(function (props, element) {\n        var /** @type {?} */ styles = {};\n        props.forEach(function (prop) {\n            var /** @type {?} */ value = styles[prop] = driver.computeStyle(element, prop, defaultStyle);\n            // there is no easy way to detect this because a sub element could be removed\n            // by a parent animation element being detached.\n            if (!value || value.length == 0) {\n                element[REMOVAL_FLAG] = NULL_REMOVED_QUERIED_STATE;\n                failedElements.push(element);\n            }\n        });\n        valuesMap.set(element, styles);\n    });\n    // we use a index variable here since Set.forEach(a, i) does not return\n    // an index value for the closure (but instead just the value)\n    var /** @type {?} */ i = 0;\n    elements.forEach(function (element) { return cloakElement(element, cloakVals[i++]); });\n    return failedElements;\n}\n/**\n * @param {?} roots\n * @param {?} nodes\n * @return {?}\n */\nfunction buildRootMap(roots, nodes) {\n    var /** @type {?} */ rootMap = new Map();\n    roots.forEach(function (root) { return rootMap.set(root, []); });\n    if (nodes.length == 0)\n        return rootMap;\n    var /** @type {?} */ NULL_NODE = 1;\n    var /** @type {?} */ nodeSet = new Set(nodes);\n    var /** @type {?} */ localRootMap = new Map();\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    function getRoot(node) {\n        if (!node)\n            return NULL_NODE;\n        var /** @type {?} */ root = localRootMap.get(node);\n        if (root)\n            return root;\n        var /** @type {?} */ parent = node.parentNode;\n        if (rootMap.has(parent)) {\n            // ngIf inside @trigger\n            root = parent;\n        }\n        else if (nodeSet.has(parent)) {\n            // ngIf inside ngIf\n            root = NULL_NODE;\n        }\n        else {\n            // recurse upwards\n            root = getRoot(parent);\n        }\n        localRootMap.set(node, root);\n        return root;\n    }\n    nodes.forEach(function (node) {\n        var /** @type {?} */ root = getRoot(node);\n        if (root !== NULL_NODE) {\n            /** @type {?} */ ((rootMap.get(root))).push(node);\n        }\n    });\n    return rootMap;\n}\nvar CLASSES_CACHE_KEY = '$$classes';\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nfunction addClass(element, className) {\n    if (element.classList) {\n        element.classList.add(className);\n    }\n    else {\n        var /** @type {?} */ classes = element[CLASSES_CACHE_KEY];\n        if (!classes) {\n            classes = element[CLASSES_CACHE_KEY] = {};\n        }\n        classes[className] = true;\n    }\n}\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nfunction removeClass(element, className) {\n    if (element.classList) {\n        element.classList.remove(className);\n    }\n    else {\n        var /** @type {?} */ classes = element[CLASSES_CACHE_KEY];\n        if (classes) {\n            delete classes[className];\n        }\n    }\n}\n/**\n * @param {?} engine\n * @param {?} element\n * @param {?} players\n * @return {?}\n */\nfunction removeNodesAfterAnimationDone(engine, element, players) {\n    optimizeGroupPlayer(players).onDone(function () { return engine.processLeaveNode(element); });\n}\n/**\n * @param {?} players\n * @return {?}\n */\nfunction flattenGroupPlayers(players) {\n    var /** @type {?} */ finalPlayers = [];\n    _flattenGroupPlayersRecur(players, finalPlayers);\n    return finalPlayers;\n}\n/**\n * @param {?} players\n * @param {?} finalPlayers\n * @return {?}\n */\nfunction _flattenGroupPlayersRecur(players, finalPlayers) {\n    for (var /** @type {?} */ i = 0; i < players.length; i++) {\n        var /** @type {?} */ player = players[i];\n        if (player instanceof ɵAnimationGroupPlayer) {\n            _flattenGroupPlayersRecur(player.players, finalPlayers);\n        }\n        else {\n            finalPlayers.push(/** @type {?} */ (player));\n        }\n    }\n}\n/**\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nfunction objEquals(a, b) {\n    var /** @type {?} */ k1 = Object.keys(a);\n    var /** @type {?} */ k2 = Object.keys(b);\n    if (k1.length != k2.length)\n        return false;\n    for (var /** @type {?} */ i = 0; i < k1.length; i++) {\n        var /** @type {?} */ prop = k1[i];\n        if (!b.hasOwnProperty(prop) || a[prop] !== b[prop])\n            return false;\n    }\n    return true;\n}\n/**\n * @param {?} element\n * @param {?} allPreStyleElements\n * @param {?} allPostStyleElements\n * @return {?}\n */\nfunction replacePostStylesAsPre(element, allPreStyleElements, allPostStyleElements) {\n    var /** @type {?} */ postEntry = allPostStyleElements.get(element);\n    if (!postEntry)\n        return false;\n    var /** @type {?} */ preEntry = allPreStyleElements.get(element);\n    if (preEntry) {\n        postEntry.forEach(function (data) { return ((preEntry)).add(data); });\n    }\n    else {\n        allPreStyleElements.set(element, postEntry);\n    }\n    allPostStyleElements.delete(element);\n    return true;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar AnimationEngine = /** @class */ (function () {\n    function AnimationEngine(_driver, normalizer) {\n        var _this = this;\n        this._driver = _driver;\n        this._triggerCache = {};\n        this.onRemovalComplete = function (element, context) { };\n        this._transitionEngine = new TransitionAnimationEngine(_driver, normalizer);\n        this._timelineEngine = new TimelineAnimationEngine(_driver, normalizer);\n        this._transitionEngine.onRemovalComplete = function (element, context) {\n            return _this.onRemovalComplete(element, context);\n        };\n    }\n    /**\n     * @param {?} componentId\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @param {?} name\n     * @param {?} metadata\n     * @return {?}\n     */\n    AnimationEngine.prototype.registerTrigger = /**\n     * @param {?} componentId\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @param {?} name\n     * @param {?} metadata\n     * @return {?}\n     */\n    function (componentId, namespaceId, hostElement, name, metadata) {\n        var /** @type {?} */ cacheKey = componentId + '-' + name;\n        var /** @type {?} */ trigger = this._triggerCache[cacheKey];\n        if (!trigger) {\n            var /** @type {?} */ errors = [];\n            var /** @type {?} */ ast = /** @type {?} */ (buildAnimationAst(this._driver, /** @type {?} */ (metadata), errors));\n            if (errors.length) {\n                throw new Error(\"The animation trigger \\\"\" + name + \"\\\" has failed to build due to the following errors:\\n - \" + errors.join(\"\\n - \"));\n            }\n            trigger = buildTrigger(name, ast);\n            this._triggerCache[cacheKey] = trigger;\n        }\n        this._transitionEngine.registerTrigger(namespaceId, name, trigger);\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    AnimationEngine.prototype.register = /**\n     * @param {?} namespaceId\n     * @param {?} hostElement\n     * @return {?}\n     */\n    function (namespaceId, hostElement) {\n        this._transitionEngine.register(namespaceId, hostElement);\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationEngine.prototype.destroy = /**\n     * @param {?} namespaceId\n     * @param {?} context\n     * @return {?}\n     */\n    function (namespaceId, context) {\n        this._transitionEngine.destroy(namespaceId, context);\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n    AnimationEngine.prototype.onInsert = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} parent\n     * @param {?} insertBefore\n     * @return {?}\n     */\n    function (namespaceId, element, parent, insertBefore) {\n        this._transitionEngine.insertNode(namespaceId, element, parent, insertBefore);\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    AnimationEngine.prototype.onRemove = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} context\n     * @return {?}\n     */\n    function (namespaceId, element, context) {\n        this._transitionEngine.removeNode(namespaceId, element, context);\n    };\n    /**\n     * @param {?} element\n     * @param {?} disable\n     * @return {?}\n     */\n    AnimationEngine.prototype.disableAnimations = /**\n     * @param {?} element\n     * @param {?} disable\n     * @return {?}\n     */\n    function (element, disable) {\n        this._transitionEngine.markElementAsDisabled(element, disable);\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} property\n     * @param {?} value\n     * @return {?}\n     */\n    AnimationEngine.prototype.process = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} property\n     * @param {?} value\n     * @return {?}\n     */\n    function (namespaceId, element, property, value) {\n        if (property.charAt(0) == '@') {\n            var _a = parseTimelineCommand(property), id = _a[0], action = _a[1];\n            var /** @type {?} */ args = /** @type {?} */ (value);\n            this._timelineEngine.command(id, element, action, args);\n        }\n        else {\n            this._transitionEngine.trigger(namespaceId, element, property, value);\n        }\n    };\n    /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} eventPhase\n     * @param {?} callback\n     * @return {?}\n     */\n    AnimationEngine.prototype.listen = /**\n     * @param {?} namespaceId\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} eventPhase\n     * @param {?} callback\n     * @return {?}\n     */\n    function (namespaceId, element, eventName, eventPhase, callback) {\n        // @@listen\n        if (eventName.charAt(0) == '@') {\n            var _a = parseTimelineCommand(eventName), id = _a[0], action = _a[1];\n            return this._timelineEngine.listen(id, element, action, callback);\n        }\n        return this._transitionEngine.listen(namespaceId, element, eventName, eventPhase, callback);\n    };\n    /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n    AnimationEngine.prototype.flush = /**\n     * @param {?=} microtaskId\n     * @return {?}\n     */\n    function (microtaskId) {\n        if (microtaskId === void 0) { microtaskId = -1; }\n        this._transitionEngine.flush(microtaskId);\n    };\n    Object.defineProperty(AnimationEngine.prototype, \"players\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return (/** @type {?} */ (this._transitionEngine.players))\n                .concat(/** @type {?} */ (this._timelineEngine.players));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    AnimationEngine.prototype.whenRenderingDone = /**\n     * @return {?}\n     */\n    function () { return this._transitionEngine.whenRenderingDone(); };\n    return AnimationEngine;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar WebAnimationsPlayer = /** @class */ (function () {\n    function WebAnimationsPlayer(element, keyframes, options, previousPlayers) {\n        if (previousPlayers === void 0) { previousPlayers = []; }\n        var _this = this;\n        this.element = element;\n        this.keyframes = keyframes;\n        this.options = options;\n        this.previousPlayers = previousPlayers;\n        this._onDoneFns = [];\n        this._onStartFns = [];\n        this._onDestroyFns = [];\n        this._initialized = false;\n        this._finished = false;\n        this._started = false;\n        this._destroyed = false;\n        this.time = 0;\n        this.parentPlayer = null;\n        this.previousStyles = {};\n        this.currentSnapshot = {};\n        this._duration = /** @type {?} */ (options['duration']);\n        this._delay = /** @type {?} */ (options['delay']) || 0;\n        this.time = this._duration + this._delay;\n        if (allowPreviousPlayerStylesMerge(this._duration, this._delay)) {\n            previousPlayers.forEach(function (player) {\n                var /** @type {?} */ styles = player.currentSnapshot;\n                Object.keys(styles).forEach(function (prop) { return _this.previousStyles[prop] = styles[prop]; });\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._onFinish = /**\n     * @return {?}\n     */\n    function () {\n        if (!this._finished) {\n            this._finished = true;\n            this._onDoneFns.forEach(function (fn) { return fn(); });\n            this._onDoneFns = [];\n        }\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.init = /**\n     * @return {?}\n     */\n    function () {\n        this._buildPlayer();\n        this._preparePlayerBeforeStart();\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._buildPlayer = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this._initialized)\n            return;\n        this._initialized = true;\n        var /** @type {?} */ keyframes = this.keyframes.map(function (styles) { return copyStyles(styles, false); });\n        var /** @type {?} */ previousStyleProps = Object.keys(this.previousStyles);\n        if (previousStyleProps.length && keyframes.length) {\n            var /** @type {?} */ startingKeyframe_1 = keyframes[0];\n            var /** @type {?} */ missingStyleProps_1 = [];\n            previousStyleProps.forEach(function (prop) {\n                if (!startingKeyframe_1.hasOwnProperty(prop)) {\n                    missingStyleProps_1.push(prop);\n                }\n                startingKeyframe_1[prop] = _this.previousStyles[prop];\n            });\n            if (missingStyleProps_1.length) {\n                var /** @type {?} */ self_1 = this;\n                var _loop_1 = function () {\n                    var /** @type {?} */ kf = keyframes[i];\n                    missingStyleProps_1.forEach(function (prop) {\n                        kf[prop] = _computeStyle(self_1.element, prop);\n                    });\n                };\n                // tslint:disable-next-line\n                for (var /** @type {?} */ i = 1; i < keyframes.length; i++) {\n                    _loop_1();\n                }\n            }\n        }\n        (/** @type {?} */ (this)).domPlayer =\n            this._triggerWebAnimation(this.element, keyframes, this.options);\n        this._finalKeyframe = keyframes.length ? keyframes[keyframes.length - 1] : {};\n        this.domPlayer.addEventListener('finish', function () { return _this._onFinish(); });\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._preparePlayerBeforeStart = /**\n     * @return {?}\n     */\n    function () {\n        // this is required so that the player doesn't start to animate right away\n        if (this._delay) {\n            this._resetDomPlayerState();\n        }\n        else {\n            this.domPlayer.pause();\n        }\n    };\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} options\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._triggerWebAnimation = /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} options\n     * @return {?}\n     */\n    function (element, keyframes, options) {\n        // jscompiler doesn't seem to know animate is a native property because it's not fully\n        // supported yet across common browsers (we polyfill it for Edge/Safari) [CL #143630929]\n        return /** @type {?} */ (element['animate'](keyframes, options));\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.onStart = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._onStartFns.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.onDone = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._onDoneFns.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.onDestroy = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._onDestroyFns.push(fn); };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.play = /**\n     * @return {?}\n     */\n    function () {\n        this._buildPlayer();\n        if (!this.hasStarted()) {\n            this._onStartFns.forEach(function (fn) { return fn(); });\n            this._onStartFns = [];\n            this._started = true;\n        }\n        this.domPlayer.play();\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.pause = /**\n     * @return {?}\n     */\n    function () {\n        this.init();\n        this.domPlayer.pause();\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.finish = /**\n     * @return {?}\n     */\n    function () {\n        this.init();\n        this._onFinish();\n        this.domPlayer.finish();\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.reset = /**\n     * @return {?}\n     */\n    function () {\n        this._resetDomPlayerState();\n        this._destroyed = false;\n        this._finished = false;\n        this._started = false;\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype._resetDomPlayerState = /**\n     * @return {?}\n     */\n    function () {\n        if (this.domPlayer) {\n            this.domPlayer.cancel();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.restart = /**\n     * @return {?}\n     */\n    function () {\n        this.reset();\n        this.play();\n    };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.hasStarted = /**\n     * @return {?}\n     */\n    function () { return this._started; };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.destroy = /**\n     * @return {?}\n     */\n    function () {\n        if (!this._destroyed) {\n            this._destroyed = true;\n            this._resetDomPlayerState();\n            this._onFinish();\n            this._onDestroyFns.forEach(function (fn) { return fn(); });\n            this._onDestroyFns = [];\n        }\n    };\n    /**\n     * @param {?} p\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.setPosition = /**\n     * @param {?} p\n     * @return {?}\n     */\n    function (p) { this.domPlayer.currentTime = p * this.time; };\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.getPosition = /**\n     * @return {?}\n     */\n    function () { return this.domPlayer.currentTime / this.time; };\n    Object.defineProperty(WebAnimationsPlayer.prototype, \"totalTime\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._delay + this._duration; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.beforeDestroy = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ styles = {};\n        if (this.hasStarted()) {\n            Object.keys(this._finalKeyframe).forEach(function (prop) {\n                if (prop != 'offset') {\n                    styles[prop] =\n                        _this._finished ? _this._finalKeyframe[prop] : _computeStyle(_this.element, prop);\n                }\n            });\n        }\n        this.currentSnapshot = styles;\n    };\n    /* @internal */\n    /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n    WebAnimationsPlayer.prototype.triggerCallback = /**\n     * @param {?} phaseName\n     * @return {?}\n     */\n    function (phaseName) {\n        var /** @type {?} */ methods = phaseName == 'start' ? this._onStartFns : this._onDoneFns;\n        methods.forEach(function (fn) { return fn(); });\n        methods.length = 0;\n    };\n    return WebAnimationsPlayer;\n}());\n/**\n * @param {?} element\n * @param {?} prop\n * @return {?}\n */\nfunction _computeStyle(element, prop) {\n    return (/** @type {?} */ (window.getComputedStyle(element)))[prop];\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar WebAnimationsDriver = /** @class */ (function () {\n    function WebAnimationsDriver() {\n    }\n    /**\n     * @param {?} prop\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.validateStyleProperty = /**\n     * @param {?} prop\n     * @return {?}\n     */\n    function (prop) { return validateStyleProperty(prop); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.matchesElement = /**\n     * @param {?} element\n     * @param {?} selector\n     * @return {?}\n     */\n    function (element, selector) {\n        return matchesElement(element, selector);\n    };\n    /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.containsElement = /**\n     * @param {?} elm1\n     * @param {?} elm2\n     * @return {?}\n     */\n    function (elm1, elm2) { return containsElement(elm1, elm2); };\n    /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.query = /**\n     * @param {?} element\n     * @param {?} selector\n     * @param {?} multi\n     * @return {?}\n     */\n    function (element, selector, multi) {\n        return invokeQuery(element, selector, multi);\n    };\n    /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.computeStyle = /**\n     * @param {?} element\n     * @param {?} prop\n     * @param {?=} defaultValue\n     * @return {?}\n     */\n    function (element, prop, defaultValue) {\n        return /** @type {?} */ ((/** @type {?} */ (window.getComputedStyle(element)))[prop]);\n    };\n    /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n    WebAnimationsDriver.prototype.animate = /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} duration\n     * @param {?} delay\n     * @param {?} easing\n     * @param {?=} previousPlayers\n     * @return {?}\n     */\n    function (element, keyframes, duration, delay, easing, previousPlayers) {\n        if (previousPlayers === void 0) { previousPlayers = []; }\n        var /** @type {?} */ fill = delay == 0 ? 'both' : 'forwards';\n        var /** @type {?} */ playerOptions = { duration: duration, delay: delay, fill: fill };\n        // we check for this to avoid having a null|undefined value be present\n        // for the easing (which results in an error for certain browsers #9752)\n        if (easing) {\n            playerOptions['easing'] = easing;\n        }\n        var /** @type {?} */ previousWebAnimationPlayers = /** @type {?} */ (previousPlayers.filter(function (player) { return player instanceof WebAnimationsPlayer; }));\n        return new WebAnimationsPlayer(element, keyframes, playerOptions, previousWebAnimationPlayers);\n    };\n    return WebAnimationsDriver;\n}());\n/**\n * @return {?}\n */\nfunction supportsWebAnimations() {\n    return typeof Element !== 'undefined' && typeof (/** @type {?} */ (Element)).prototype['animate'] === 'function';\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of this package.\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AnimationDriver, Animation as ɵAnimation, AnimationStyleNormalizer as ɵAnimationStyleNormalizer, NoopAnimationStyleNormalizer as ɵNoopAnimationStyleNormalizer, WebAnimationsStyleNormalizer as ɵWebAnimationsStyleNormalizer, NoopAnimationDriver as ɵNoopAnimationDriver, AnimationEngine as ɵAnimationEngine, WebAnimationsDriver as ɵWebAnimationsDriver, supportsWebAnimations as ɵsupportsWebAnimations, WebAnimationsPlayer as ɵWebAnimationsPlayer };\n//# sourceMappingURL=browser.js.map\n"]}]}