{"remainingRequest":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\timepicker\\timepicker.component.js","dependencies":[{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\timepicker\\timepicker.component.js","mtime":1614055099819},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614055079483},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["/* tslint:disable:no-forward-ref max-file-line-count */\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, forwardRef, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { TimepickerActions } from './reducer/timepicker.actions';\nimport { TimepickerStore } from './reducer/timepicker.store';\nimport { getControlsValue } from './timepicker-controls.util';\nimport { TimepickerConfig } from './timepicker.config';\nimport { isValidDate, padNumber, parseTime, isInputValid, isHourInputValid, isMinuteInputValid, isSecondInputValid, isInputLimitValid } from './timepicker.utils';\nexport var TIMEPICKER_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line\n    useExisting: forwardRef(function () { return TimepickerComponent; }),\n    multi: true\n};\nvar TimepickerComponent = /*@__PURE__*/ (function () {\n    function TimepickerComponent(_config, _cd, _store, _timepickerActions) {\n        var _this = this;\n        this._store = _store;\n        this._timepickerActions = _timepickerActions;\n        /** emits true if value is a valid date */\n        this.isValid = new EventEmitter();\n        // min\\max validation for input fields\n        this.invalidHours = false;\n        this.invalidMinutes = false;\n        this.invalidSeconds = false;\n        // control value accessor methods\n        this.onChange = Function.prototype;\n        this.onTouched = Function.prototype;\n        Object.assign(this, _config);\n        this.timepickerSub = _store.select(function (state) { return state.value; }).subscribe(function (value) {\n            // update UI values if date changed\n            _this._renderTime(value);\n            _this.onChange(value);\n            _this._store.dispatch(_this._timepickerActions.updateControls(getControlsValue(_this)));\n        });\n        _store.select(function (state) { return state.controls; }).subscribe(function (controlsState) {\n            _this.isValid.emit(isInputValid(_this.hours, _this.minutes, _this.seconds, _this.isPM()));\n            Object.assign(_this, controlsState);\n            _cd.markForCheck();\n        });\n    }\n    Object.defineProperty(TimepickerComponent.prototype, \"isSpinnersVisible\", {\n        /** @deprecated - please use `isEditable` instead */\n        get: function () {\n            return this.showSpinners && !this.readonlyInput;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimepickerComponent.prototype, \"isEditable\", {\n        get: function () {\n            return !(this.readonlyInput || this.disabled);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimepickerComponent.prototype.resetValidation = function () {\n        this.invalidHours = false;\n        this.invalidMinutes = false;\n        this.invalidSeconds = false;\n    };\n    TimepickerComponent.prototype.isPM = function () {\n        return this.showMeridian && this.meridian === this.meridians[1];\n    };\n    TimepickerComponent.prototype.prevDef = function ($event) {\n        $event.preventDefault();\n    };\n    TimepickerComponent.prototype.wheelSign = function ($event) {\n        return Math.sign($event.deltaY) * -1;\n    };\n    TimepickerComponent.prototype.ngOnChanges = function (changes) {\n        this._store.dispatch(this._timepickerActions.updateControls(getControlsValue(this)));\n    };\n    TimepickerComponent.prototype.changeHours = function (step, source) {\n        if (source === void 0) {\n            source = '';\n        }\n        this.resetValidation();\n        this._store.dispatch(this._timepickerActions.changeHours({ step: step, source: source }));\n    };\n    TimepickerComponent.prototype.changeMinutes = function (step, source) {\n        if (source === void 0) {\n            source = '';\n        }\n        this.resetValidation();\n        this._store.dispatch(this._timepickerActions.changeMinutes({ step: step, source: source }));\n    };\n    TimepickerComponent.prototype.changeSeconds = function (step, source) {\n        if (source === void 0) {\n            source = '';\n        }\n        this.resetValidation();\n        this._store.dispatch(this._timepickerActions.changeSeconds({ step: step, source: source }));\n    };\n    TimepickerComponent.prototype.updateHours = function (hours) {\n        this.resetValidation();\n        this.hours = hours;\n        var isValid = isHourInputValid(this.hours, this.isPM()) && this.isValidLimit();\n        if (!isValid) {\n            this.invalidHours = true;\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._updateTime();\n    };\n    TimepickerComponent.prototype.updateMinutes = function (minutes) {\n        this.resetValidation();\n        this.minutes = minutes;\n        var isValid = isMinuteInputValid(this.minutes) && this.isValidLimit();\n        if (!isValid) {\n            this.invalidMinutes = true;\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._updateTime();\n    };\n    TimepickerComponent.prototype.updateSeconds = function (seconds) {\n        this.resetValidation();\n        this.seconds = seconds;\n        var isValid = isSecondInputValid(this.seconds) && this.isValidLimit();\n        if (!isValid) {\n            this.invalidSeconds = true;\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._updateTime();\n    };\n    TimepickerComponent.prototype.isValidLimit = function () {\n        return isInputLimitValid({\n            hour: this.hours,\n            minute: this.minutes,\n            seconds: this.seconds,\n            isPM: this.isPM()\n        }, this.max, this.min);\n    };\n    TimepickerComponent.prototype._updateTime = function () {\n        var _seconds = this.showSeconds ? this.seconds : void 0;\n        var _minutes = this.showMinutes ? this.minutes : void 0;\n        if (!isInputValid(this.hours, _minutes, _seconds, this.isPM())) {\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._store.dispatch(this._timepickerActions.setTime({\n            hour: this.hours,\n            minute: this.minutes,\n            seconds: this.seconds,\n            isPM: this.isPM()\n        }));\n    };\n    TimepickerComponent.prototype.toggleMeridian = function () {\n        if (!this.showMeridian || !this.isEditable) {\n            return;\n        }\n        var _hoursPerDayHalf = 12;\n        this._store.dispatch(this._timepickerActions.changeHours({\n            step: _hoursPerDayHalf,\n            source: ''\n        }));\n    };\n    /**\n     * Write a new value to the element.\n     */\n    TimepickerComponent.prototype.writeValue = function (obj) {\n        if (isValidDate(obj)) {\n            this._store.dispatch(this._timepickerActions.writeValue(parseTime(obj)));\n        }\n        else if (obj == null) {\n            this._store.dispatch(this._timepickerActions.writeValue(null));\n        }\n    };\n    /**\n     * Set the function to be called when the control receives a change event.\n     */\n    TimepickerComponent.prototype.registerOnChange = function (fn) {\n        this.onChange = fn;\n    };\n    /**\n     * Set the function to be called when the control receives a touch event.\n     */\n    TimepickerComponent.prototype.registerOnTouched = function (fn) {\n        this.onTouched = fn;\n    };\n    /**\n     * This function is called when the control status changes to or from \"disabled\".\n     * Depending on the value, it will enable or disable the appropriate DOM element.\n     *\n     * @param isDisabled\n     */\n    TimepickerComponent.prototype.setDisabledState = function (isDisabled) {\n        this.disabled = isDisabled;\n    };\n    TimepickerComponent.prototype.ngOnDestroy = function () {\n        this.timepickerSub.unsubscribe();\n    };\n    TimepickerComponent.prototype._renderTime = function (value) {\n        if (!isValidDate(value)) {\n            this.hours = '';\n            this.minutes = '';\n            this.seconds = '';\n            this.meridian = this.meridians[0];\n            return;\n        }\n        var _value = parseTime(value);\n        var _hoursPerDayHalf = 12;\n        var _hours = _value.getHours();\n        if (this.showMeridian) {\n            this.meridian = this.meridians[_hours >= _hoursPerDayHalf ? 1 : 0];\n            _hours = _hours % _hoursPerDayHalf;\n            // should be 12 PM, not 00 PM\n            if (_hours === 0) {\n                _hours = _hoursPerDayHalf;\n            }\n        }\n        this.hours = padNumber(_hours);\n        this.minutes = padNumber(_value.getMinutes());\n        this.seconds = padNumber(_value.getUTCSeconds());\n    };\n    return TimepickerComponent;\n}());\nexport { TimepickerComponent };\n\n\n\n",{"version":3,"file":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\timepicker\\timepicker.component.js.post-build-optimizer.js","sourceRoot":"","sources":["D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\timepicker\\timepicker.component.js.pre-build-optimizer.js"],"names":[],"mappings":"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","sourcesContent":["/* tslint:disable:no-forward-ref max-file-line-count */\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, forwardRef, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { TimepickerActions } from './reducer/timepicker.actions';\nimport { TimepickerStore } from './reducer/timepicker.store';\nimport { getControlsValue } from './timepicker-controls.util';\nimport { TimepickerConfig } from './timepicker.config';\nimport { isValidDate, padNumber, parseTime, isInputValid, isHourInputValid, isMinuteInputValid, isSecondInputValid, isInputLimitValid } from './timepicker.utils';\nexport var TIMEPICKER_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line\n    useExisting: forwardRef(function () { return TimepickerComponent; }),\n    multi: true\n};\nvar TimepickerComponent = (function () {\n    function TimepickerComponent(_config, _cd, _store, _timepickerActions) {\n        var _this = this;\n        this._store = _store;\n        this._timepickerActions = _timepickerActions;\n        /** emits true if value is a valid date */\n        this.isValid = new EventEmitter();\n        // min\\max validation for input fields\n        this.invalidHours = false;\n        this.invalidMinutes = false;\n        this.invalidSeconds = false;\n        // control value accessor methods\n        this.onChange = Function.prototype;\n        this.onTouched = Function.prototype;\n        Object.assign(this, _config);\n        this.timepickerSub = _store.select(function (state) { return state.value; }).subscribe(function (value) {\n            // update UI values if date changed\n            _this._renderTime(value);\n            _this.onChange(value);\n            _this._store.dispatch(_this._timepickerActions.updateControls(getControlsValue(_this)));\n        });\n        _store.select(function (state) { return state.controls; }).subscribe(function (controlsState) {\n            _this.isValid.emit(isInputValid(_this.hours, _this.minutes, _this.seconds, _this.isPM()));\n            Object.assign(_this, controlsState);\n            _cd.markForCheck();\n        });\n    }\n    Object.defineProperty(TimepickerComponent.prototype, \"isSpinnersVisible\", {\n        /** @deprecated - please use `isEditable` instead */\n        get: function () {\n            return this.showSpinners && !this.readonlyInput;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimepickerComponent.prototype, \"isEditable\", {\n        get: function () {\n            return !(this.readonlyInput || this.disabled);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimepickerComponent.prototype.resetValidation = function () {\n        this.invalidHours = false;\n        this.invalidMinutes = false;\n        this.invalidSeconds = false;\n    };\n    TimepickerComponent.prototype.isPM = function () {\n        return this.showMeridian && this.meridian === this.meridians[1];\n    };\n    TimepickerComponent.prototype.prevDef = function ($event) {\n        $event.preventDefault();\n    };\n    TimepickerComponent.prototype.wheelSign = function ($event) {\n        return Math.sign($event.deltaY) * -1;\n    };\n    TimepickerComponent.prototype.ngOnChanges = function (changes) {\n        this._store.dispatch(this._timepickerActions.updateControls(getControlsValue(this)));\n    };\n    TimepickerComponent.prototype.changeHours = function (step, source) {\n        if (source === void 0) { source = ''; }\n        this.resetValidation();\n        this._store.dispatch(this._timepickerActions.changeHours({ step: step, source: source }));\n    };\n    TimepickerComponent.prototype.changeMinutes = function (step, source) {\n        if (source === void 0) { source = ''; }\n        this.resetValidation();\n        this._store.dispatch(this._timepickerActions.changeMinutes({ step: step, source: source }));\n    };\n    TimepickerComponent.prototype.changeSeconds = function (step, source) {\n        if (source === void 0) { source = ''; }\n        this.resetValidation();\n        this._store.dispatch(this._timepickerActions.changeSeconds({ step: step, source: source }));\n    };\n    TimepickerComponent.prototype.updateHours = function (hours) {\n        this.resetValidation();\n        this.hours = hours;\n        var isValid = isHourInputValid(this.hours, this.isPM()) && this.isValidLimit();\n        if (!isValid) {\n            this.invalidHours = true;\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._updateTime();\n    };\n    TimepickerComponent.prototype.updateMinutes = function (minutes) {\n        this.resetValidation();\n        this.minutes = minutes;\n        var isValid = isMinuteInputValid(this.minutes) && this.isValidLimit();\n        if (!isValid) {\n            this.invalidMinutes = true;\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._updateTime();\n    };\n    TimepickerComponent.prototype.updateSeconds = function (seconds) {\n        this.resetValidation();\n        this.seconds = seconds;\n        var isValid = isSecondInputValid(this.seconds) && this.isValidLimit();\n        if (!isValid) {\n            this.invalidSeconds = true;\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._updateTime();\n    };\n    TimepickerComponent.prototype.isValidLimit = function () {\n        return isInputLimitValid({\n            hour: this.hours,\n            minute: this.minutes,\n            seconds: this.seconds,\n            isPM: this.isPM()\n        }, this.max, this.min);\n    };\n    TimepickerComponent.prototype._updateTime = function () {\n        var _seconds = this.showSeconds ? this.seconds : void 0;\n        var _minutes = this.showMinutes ? this.minutes : void 0;\n        if (!isInputValid(this.hours, _minutes, _seconds, this.isPM())) {\n            this.isValid.emit(false);\n            this.onChange(null);\n            return;\n        }\n        this._store.dispatch(this._timepickerActions.setTime({\n            hour: this.hours,\n            minute: this.minutes,\n            seconds: this.seconds,\n            isPM: this.isPM()\n        }));\n    };\n    TimepickerComponent.prototype.toggleMeridian = function () {\n        if (!this.showMeridian || !this.isEditable) {\n            return;\n        }\n        var _hoursPerDayHalf = 12;\n        this._store.dispatch(this._timepickerActions.changeHours({\n            step: _hoursPerDayHalf,\n            source: ''\n        }));\n    };\n    /**\n     * Write a new value to the element.\n     */\n    TimepickerComponent.prototype.writeValue = function (obj) {\n        if (isValidDate(obj)) {\n            this._store.dispatch(this._timepickerActions.writeValue(parseTime(obj)));\n        }\n        else if (obj == null) {\n            this._store.dispatch(this._timepickerActions.writeValue(null));\n        }\n    };\n    /**\n     * Set the function to be called when the control receives a change event.\n     */\n    TimepickerComponent.prototype.registerOnChange = function (fn) {\n        this.onChange = fn;\n    };\n    /**\n     * Set the function to be called when the control receives a touch event.\n     */\n    TimepickerComponent.prototype.registerOnTouched = function (fn) {\n        this.onTouched = fn;\n    };\n    /**\n     * This function is called when the control status changes to or from \"disabled\".\n     * Depending on the value, it will enable or disable the appropriate DOM element.\n     *\n     * @param isDisabled\n     */\n    TimepickerComponent.prototype.setDisabledState = function (isDisabled) {\n        this.disabled = isDisabled;\n    };\n    TimepickerComponent.prototype.ngOnDestroy = function () {\n        this.timepickerSub.unsubscribe();\n    };\n    TimepickerComponent.prototype._renderTime = function (value) {\n        if (!isValidDate(value)) {\n            this.hours = '';\n            this.minutes = '';\n            this.seconds = '';\n            this.meridian = this.meridians[0];\n            return;\n        }\n        var _value = parseTime(value);\n        var _hoursPerDayHalf = 12;\n        var _hours = _value.getHours();\n        if (this.showMeridian) {\n            this.meridian = this.meridians[_hours >= _hoursPerDayHalf ? 1 : 0];\n            _hours = _hours % _hoursPerDayHalf;\n            // should be 12 PM, not 00 PM\n            if (_hours === 0) {\n                _hours = _hoursPerDayHalf;\n            }\n        }\n        this.hours = padNumber(_hours);\n        this.minutes = padNumber(_value.getMinutes());\n        this.seconds = padNumber(_value.getUTCSeconds());\n    };\n    TimepickerComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'timepicker',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [TIMEPICKER_CONTROL_VALUE_ACCESSOR, TimepickerStore],\n                    template: \"<table> <tbody> <tr class=\\\"text-center\\\" [hidden]=\\\"!showSpinners\\\"> <!-- increment hours button--> <td> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canIncrementHours || !isEditable\\\" (click)=\\\"changeHours(hourStep)\\\" ><span class=\\\"bs-chevron bs-chevron-up\\\"></span></a> </td> <!-- divider --> <td *ngIf=\\\"showMinutes\\\">&nbsp;&nbsp;&nbsp;</td> <!-- increment minutes button --> <td *ngIf=\\\"showMinutes\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canIncrementMinutes || !isEditable\\\" (click)=\\\"changeMinutes(minuteStep)\\\" ><span class=\\\"bs-chevron bs-chevron-up\\\"></span></a> </td> <!-- divider --> <td *ngIf=\\\"showSeconds\\\">&nbsp;</td> <!-- increment seconds button --> <td *ngIf=\\\"showSeconds\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canIncrementSeconds || !isEditable\\\" (click)=\\\"changeSeconds(secondsStep)\\\"> <span class=\\\"bs-chevron bs-chevron-up\\\"></span> </a> </td> <!-- space between --> <td *ngIf=\\\"showMeridian\\\">&nbsp;&nbsp;&nbsp;</td> <!-- meridian placeholder--> <td *ngIf=\\\"showMeridian\\\"></td> </tr> <tr> <!-- hours --> <td class=\\\"form-group\\\" [class.has-error]=\\\"invalidHours\\\"> <input type=\\\"text\\\" [class.is-invalid]=\\\"invalidHours\\\" class=\\\"form-control text-center bs-timepicker-field\\\" placeholder=\\\"HH\\\" maxlength=\\\"2\\\" [readonly]=\\\"readonlyInput\\\" [disabled]=\\\"disabled\\\" [value]=\\\"hours\\\" (wheel)=\\\"prevDef($event);changeHours(hourStep * wheelSign($event), 'wheel')\\\" (keydown.ArrowUp)=\\\"changeHours(hourStep, 'key')\\\" (keydown.ArrowDown)=\\\"changeHours(-hourStep, 'key')\\\" (change)=\\\"updateHours($event.target.value)\\\"></td> <!-- divider --> <td *ngIf=\\\"showMinutes\\\">&nbsp;:&nbsp;</td> <!-- minutes --> <td class=\\\"form-group\\\" *ngIf=\\\"showMinutes\\\" [class.has-error]=\\\"invalidMinutes\\\"> <input type=\\\"text\\\" [class.is-invalid]=\\\"invalidMinutes\\\" class=\\\"form-control text-center bs-timepicker-field\\\" placeholder=\\\"MM\\\" maxlength=\\\"2\\\" [readonly]=\\\"readonlyInput\\\" [disabled]=\\\"disabled\\\" [value]=\\\"minutes\\\" (wheel)=\\\"prevDef($event);changeMinutes(minuteStep * wheelSign($event), 'wheel')\\\" (keydown.ArrowUp)=\\\"changeMinutes(minuteStep, 'key')\\\" (keydown.ArrowDown)=\\\"changeMinutes(-minuteStep, 'key')\\\" (change)=\\\"updateMinutes($event.target.value)\\\"> </td> <!-- divider --> <td *ngIf=\\\"showSeconds\\\">&nbsp;:&nbsp;</td> <!-- seconds --> <td class=\\\"form-group\\\" *ngIf=\\\"showSeconds\\\" [class.has-error]=\\\"invalidSeconds\\\"> <input type=\\\"text\\\" [class.is-invalid]=\\\"invalidSeconds\\\" class=\\\"form-control text-center bs-timepicker-field\\\" placeholder=\\\"SS\\\" maxlength=\\\"2\\\" [readonly]=\\\"readonlyInput\\\" [disabled]=\\\"disabled\\\" [value]=\\\"seconds\\\" (wheel)=\\\"prevDef($event);changeSeconds(secondsStep * wheelSign($event), 'wheel')\\\" (keydown.ArrowUp)=\\\"changeSeconds(secondsStep, 'key')\\\" (keydown.ArrowDown)=\\\"changeSeconds(-secondsStep, 'key')\\\" (change)=\\\"updateSeconds($event.target.value)\\\"> </td> <!-- space between --> <td *ngIf=\\\"showMeridian\\\">&nbsp;&nbsp;&nbsp;</td> <!-- meridian --> <td *ngIf=\\\"showMeridian\\\"> <button type=\\\"button\\\" class=\\\"btn btn-default text-center\\\" [disabled]=\\\"!isEditable || !canToggleMeridian\\\" [class.disabled]=\\\"!isEditable || !canToggleMeridian\\\" (click)=\\\"toggleMeridian()\\\" >{{ meridian }} </button> </td> </tr> <tr class=\\\"text-center\\\" [hidden]=\\\"!showSpinners\\\"> <!-- decrement hours button--> <td> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canDecrementHours || !isEditable\\\" (click)=\\\"changeHours(-hourStep)\\\"> <span class=\\\"bs-chevron bs-chevron-down\\\"></span> </a> </td> <!-- divider --> <td *ngIf=\\\"showMinutes\\\">&nbsp;&nbsp;&nbsp;</td> <!-- decrement minutes button--> <td *ngIf=\\\"showMinutes\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canDecrementMinutes || !isEditable\\\" (click)=\\\"changeMinutes(-minuteStep)\\\"> <span class=\\\"bs-chevron bs-chevron-down\\\"></span> </a> </td> <!-- divider --> <td *ngIf=\\\"showSeconds\\\">&nbsp;</td> <!-- decrement seconds button--> <td *ngIf=\\\"showSeconds\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canDecrementSeconds || !isEditable\\\" (click)=\\\"changeSeconds(-secondsStep)\\\"> <span class=\\\"bs-chevron bs-chevron-down\\\"></span> </a> </td> <!-- space between --> <td *ngIf=\\\"showMeridian\\\">&nbsp;&nbsp;&nbsp;</td> <!-- meridian placeholder--> <td *ngIf=\\\"showMeridian\\\"></td> </tr> </tbody> </table> \",\n                    styles: [\"\\n    .bs-chevron{\\n      border-style: solid;\\n      display: block;\\n      width: 9px;\\n      height: 9px;\\n      position: relative;\\n      border-width: 3px 0px 0 3px;\\n    }\\n    .bs-chevron-up{\\n      -webkit-transform: rotate(45deg);\\n      transform: rotate(45deg);\\n      top: 2px;\\n    }\\n    .bs-chevron-down{\\n      -webkit-transform: rotate(-135deg);\\n      transform: rotate(-135deg);\\n      top: -2px;\\n    }\\n    .bs-timepicker-field{\\n      width: 50px;\\n    }\\n  \"],\n                    encapsulation: ViewEncapsulation.None\n                },] },\n    ];\n    /** @nocollapse */\n    TimepickerComponent.ctorParameters = function () { return [\n        { type: TimepickerConfig, },\n        { type: ChangeDetectorRef, },\n        { type: TimepickerStore, },\n        { type: TimepickerActions, },\n    ]; };\n    TimepickerComponent.propDecorators = {\n        'hourStep': [{ type: Input },],\n        'minuteStep': [{ type: Input },],\n        'secondsStep': [{ type: Input },],\n        'readonlyInput': [{ type: Input },],\n        'disabled': [{ type: Input },],\n        'mousewheel': [{ type: Input },],\n        'arrowkeys': [{ type: Input },],\n        'showSpinners': [{ type: Input },],\n        'showMeridian': [{ type: Input },],\n        'showMinutes': [{ type: Input },],\n        'showSeconds': [{ type: Input },],\n        'meridians': [{ type: Input },],\n        'min': [{ type: Input },],\n        'max': [{ type: Input },],\n        'isValid': [{ type: Output },],\n    };\n    return TimepickerComponent;\n}());\nexport { TimepickerComponent };\n//# sourceMappingURL=timepicker.component.js.map"]}]}