{"remainingRequest":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\typeahead\\typeahead-container.component.js","dependencies":[{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\typeahead\\typeahead-container.component.js","mtime":1614055102836},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614055079483},{"path":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { Component, ElementRef, HostListener, ViewChild, ViewChildren, Renderer2 } from '@angular/core';\nimport { isBs3, Utils } from '../utils';\nimport { latinize } from './typeahead-utils';\nvar TypeaheadContainerComponent = /*@__PURE__*/ (function () {\n    function TypeaheadContainerComponent(element, renderer) {\n        this.renderer = renderer;\n        this.isFocused = false;\n        this._matches = [];\n        this.isScrolledIntoView = function (elem) {\n            var containerViewTop = this.ulElement.nativeElement.scrollTop;\n            var containerViewBottom = containerViewTop + this.ulElement.nativeElement.offsetHeight;\n            var elemTop = elem.offsetTop;\n            var elemBottom = elemTop + elem.offsetHeight;\n            return ((elemBottom <= containerViewBottom) && (elemTop >= containerViewTop));\n        };\n        this.element = element;\n    }\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"isBs4\", {\n        get: function () {\n            return !isBs3();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"active\", {\n        get: function () {\n            return this._active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"matches\", {\n        get: function () {\n            return this._matches;\n        },\n        set: function (value) {\n            var _this = this;\n            this._matches = value;\n            this.needScrollbar = this.typeaheadScrollable && this.typeaheadOptionsInScrollableView < this.matches.length;\n            if (this.typeaheadScrollable) {\n                setTimeout(function () {\n                    _this.setScrollableMode();\n                });\n            }\n            if (this._matches.length > 0) {\n                this._active = this._matches[0];\n                if (this._active.isHeader()) {\n                    this.nextActiveMatch();\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"optionsListTemplate\", {\n        get: function () {\n            return this.parent ? this.parent.optionsListTemplate : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"typeaheadScrollable\", {\n        get: function () {\n            return this.parent ? this.parent.typeaheadScrollable : false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"typeaheadOptionsInScrollableView\", {\n        get: function () {\n            return this.parent ? this.parent.typeaheadOptionsInScrollableView : 5;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"itemTemplate\", {\n        get: function () {\n            return this.parent ? this.parent.typeaheadItemTemplate : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TypeaheadContainerComponent.prototype.selectActiveMatch = function () {\n        this.selectMatch(this._active);\n    };\n    TypeaheadContainerComponent.prototype.prevActiveMatch = function () {\n        var index = this.matches.indexOf(this._active);\n        this._active = this.matches[index - 1 < 0 ? this.matches.length - 1 : index - 1];\n        if (this._active.isHeader()) {\n            this.prevActiveMatch();\n        }\n        if (this.typeaheadScrollable) {\n            this.scrollPrevious(index);\n        }\n    };\n    TypeaheadContainerComponent.prototype.nextActiveMatch = function () {\n        var index = this.matches.indexOf(this._active);\n        this._active = this.matches[index + 1 > this.matches.length - 1 ? 0 : index + 1];\n        if (this._active.isHeader()) {\n            this.nextActiveMatch();\n        }\n        if (this.typeaheadScrollable) {\n            this.scrollNext(index);\n        }\n    };\n    TypeaheadContainerComponent.prototype.selectActive = function (value) {\n        this.isFocused = true;\n        this._active = value;\n    };\n    TypeaheadContainerComponent.prototype.hightlight = function (match, query) {\n        var itemStr = match.value;\n        var itemStrHelper = (this.parent && this.parent.typeaheadLatinize\n            ? latinize(itemStr)\n            : itemStr).toLowerCase();\n        var startIdx;\n        var tokenLen;\n        // Replaces the capture string with the same string inside of a \"strong\" tag\n        if (typeof query === 'object') {\n            var queryLen = query.length;\n            for (var i = 0; i < queryLen; i += 1) {\n                // query[i] is already latinized and lower case\n                startIdx = itemStrHelper.indexOf(query[i]);\n                tokenLen = query[i].length;\n                if (startIdx >= 0 && tokenLen > 0) {\n                    itemStr =\n                        itemStr.substring(0, startIdx) + \"<strong>\" + itemStr.substring(startIdx, startIdx + tokenLen) + \"</strong>\" +\n                            (\"\" + itemStr.substring(startIdx + tokenLen));\n                    itemStrHelper =\n                        itemStrHelper.substring(0, startIdx) + \"        \" + ' '.repeat(tokenLen) + \"         \" +\n                            (\"\" + itemStrHelper.substring(startIdx + tokenLen));\n                }\n            }\n        }\n        else if (query) {\n            // query is already latinized and lower case\n            startIdx = itemStrHelper.indexOf(query);\n            tokenLen = query.length;\n            if (startIdx >= 0 && tokenLen > 0) {\n                itemStr =\n                    itemStr.substring(0, startIdx) + \"<strong>\" + itemStr.substring(startIdx, startIdx + tokenLen) + \"</strong>\" +\n                        (\"\" + itemStr.substring(startIdx + tokenLen));\n            }\n        }\n        return itemStr;\n    };\n    TypeaheadContainerComponent.prototype.focusLost = function () {\n        this.isFocused = false;\n    };\n    TypeaheadContainerComponent.prototype.isActive = function (value) {\n        return this._active === value;\n    };\n    TypeaheadContainerComponent.prototype.selectMatch = function (value, e) {\n        var _this = this;\n        if (e === void 0) {\n            e = void 0;\n        }\n        if (e) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n        this.parent.changeModel(value);\n        setTimeout(function () { return _this.parent.typeaheadOnSelect.emit(value); }, 0);\n        return false;\n    };\n    TypeaheadContainerComponent.prototype.setScrollableMode = function () {\n        if (!this.ulElement) {\n            this.ulElement = this.element;\n        }\n        if (this.liElements.first) {\n            var ulStyles = Utils.getStyles(this.ulElement.nativeElement);\n            var liStyles = Utils.getStyles(this.liElements.first.nativeElement);\n            var ulPaddingBottom = parseFloat((ulStyles['padding-bottom'] ? ulStyles['padding-bottom'] : '').replace('px', ''));\n            var ulPaddingTop = parseFloat((ulStyles['padding-top'] ? ulStyles['padding-top'] : '0').replace('px', ''));\n            var optionHeight = parseFloat((liStyles['height'] ? liStyles['height'] : '0').replace('px', ''));\n            var height = this.typeaheadOptionsInScrollableView * optionHeight;\n            this.guiHeight = height + ulPaddingTop + ulPaddingBottom + \"px\";\n        }\n        this.renderer.setStyle(this.element.nativeElement, 'visibility', 'visible');\n    };\n    TypeaheadContainerComponent.prototype.scrollPrevious = function (index) {\n        if (index === 0) {\n            this.scrollToBottom();\n            return;\n        }\n        if (this.liElements) {\n            var liElement = this.liElements.toArray()[index - 1];\n            if (liElement && !this.isScrolledIntoView(liElement.nativeElement)) {\n                this.ulElement.nativeElement.scrollTop = liElement.nativeElement.offsetTop;\n            }\n        }\n    };\n    TypeaheadContainerComponent.prototype.scrollNext = function (index) {\n        if (index + 1 > this.matches.length - 1) {\n            this.scrollToTop();\n            return;\n        }\n        if (this.liElements) {\n            var liElement = this.liElements.toArray()[index + 1];\n            if (liElement && !this.isScrolledIntoView(liElement.nativeElement)) {\n                this.ulElement.nativeElement.scrollTop =\n                    liElement.nativeElement.offsetTop -\n                        this.ulElement.nativeElement.offsetHeight +\n                        liElement.nativeElement.offsetHeight;\n            }\n        }\n    };\n    TypeaheadContainerComponent.prototype.scrollToBottom = function () {\n        this.ulElement.nativeElement.scrollTop = this.ulElement.nativeElement.scrollHeight;\n    };\n    TypeaheadContainerComponent.prototype.scrollToTop = function () {\n        this.ulElement.nativeElement.scrollTop = 0;\n    };\n    return TypeaheadContainerComponent;\n}());\nexport { TypeaheadContainerComponent };\n\n\n\n",{"version":3,"file":"D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\typeahead\\typeahead-container.component.js.post-build-optimizer.js","sourceRoot":"","sources":["D:\\Code MWSC\\2020-MWSC-Github\\webapps\\node_modules\\ngx-bootstrap\\typeahead\\typeahead-container.component.js.pre-build-optimizer.js"],"names":[],"mappings":"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","sourcesContent":["import { Component, ElementRef, HostListener, ViewChild, ViewChildren, Renderer2 } from '@angular/core';\nimport { isBs3, Utils } from '../utils';\nimport { latinize } from './typeahead-utils';\nvar TypeaheadContainerComponent = (function () {\n    function TypeaheadContainerComponent(element, renderer) {\n        this.renderer = renderer;\n        this.isFocused = false;\n        this._matches = [];\n        this.isScrolledIntoView = function (elem) {\n            var containerViewTop = this.ulElement.nativeElement.scrollTop;\n            var containerViewBottom = containerViewTop + this.ulElement.nativeElement.offsetHeight;\n            var elemTop = elem.offsetTop;\n            var elemBottom = elemTop + elem.offsetHeight;\n            return ((elemBottom <= containerViewBottom) && (elemTop >= containerViewTop));\n        };\n        this.element = element;\n    }\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"isBs4\", {\n        get: function () {\n            return !isBs3();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"active\", {\n        get: function () {\n            return this._active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"matches\", {\n        get: function () {\n            return this._matches;\n        },\n        set: function (value) {\n            var _this = this;\n            this._matches = value;\n            this.needScrollbar = this.typeaheadScrollable && this.typeaheadOptionsInScrollableView < this.matches.length;\n            if (this.typeaheadScrollable) {\n                setTimeout(function () {\n                    _this.setScrollableMode();\n                });\n            }\n            if (this._matches.length > 0) {\n                this._active = this._matches[0];\n                if (this._active.isHeader()) {\n                    this.nextActiveMatch();\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"optionsListTemplate\", {\n        get: function () {\n            return this.parent ? this.parent.optionsListTemplate : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"typeaheadScrollable\", {\n        get: function () {\n            return this.parent ? this.parent.typeaheadScrollable : false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"typeaheadOptionsInScrollableView\", {\n        get: function () {\n            return this.parent ? this.parent.typeaheadOptionsInScrollableView : 5;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TypeaheadContainerComponent.prototype, \"itemTemplate\", {\n        get: function () {\n            return this.parent ? this.parent.typeaheadItemTemplate : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TypeaheadContainerComponent.prototype.selectActiveMatch = function () {\n        this.selectMatch(this._active);\n    };\n    TypeaheadContainerComponent.prototype.prevActiveMatch = function () {\n        var index = this.matches.indexOf(this._active);\n        this._active = this.matches[index - 1 < 0 ? this.matches.length - 1 : index - 1];\n        if (this._active.isHeader()) {\n            this.prevActiveMatch();\n        }\n        if (this.typeaheadScrollable) {\n            this.scrollPrevious(index);\n        }\n    };\n    TypeaheadContainerComponent.prototype.nextActiveMatch = function () {\n        var index = this.matches.indexOf(this._active);\n        this._active = this.matches[index + 1 > this.matches.length - 1 ? 0 : index + 1];\n        if (this._active.isHeader()) {\n            this.nextActiveMatch();\n        }\n        if (this.typeaheadScrollable) {\n            this.scrollNext(index);\n        }\n    };\n    TypeaheadContainerComponent.prototype.selectActive = function (value) {\n        this.isFocused = true;\n        this._active = value;\n    };\n    TypeaheadContainerComponent.prototype.hightlight = function (match, query) {\n        var itemStr = match.value;\n        var itemStrHelper = (this.parent && this.parent.typeaheadLatinize\n            ? latinize(itemStr)\n            : itemStr).toLowerCase();\n        var startIdx;\n        var tokenLen;\n        // Replaces the capture string with the same string inside of a \"strong\" tag\n        if (typeof query === 'object') {\n            var queryLen = query.length;\n            for (var i = 0; i < queryLen; i += 1) {\n                // query[i] is already latinized and lower case\n                startIdx = itemStrHelper.indexOf(query[i]);\n                tokenLen = query[i].length;\n                if (startIdx >= 0 && tokenLen > 0) {\n                    itemStr =\n                        itemStr.substring(0, startIdx) + \"<strong>\" + itemStr.substring(startIdx, startIdx + tokenLen) + \"</strong>\" +\n                            (\"\" + itemStr.substring(startIdx + tokenLen));\n                    itemStrHelper =\n                        itemStrHelper.substring(0, startIdx) + \"        \" + ' '.repeat(tokenLen) + \"         \" +\n                            (\"\" + itemStrHelper.substring(startIdx + tokenLen));\n                }\n            }\n        }\n        else if (query) {\n            // query is already latinized and lower case\n            startIdx = itemStrHelper.indexOf(query);\n            tokenLen = query.length;\n            if (startIdx >= 0 && tokenLen > 0) {\n                itemStr =\n                    itemStr.substring(0, startIdx) + \"<strong>\" + itemStr.substring(startIdx, startIdx + tokenLen) + \"</strong>\" +\n                        (\"\" + itemStr.substring(startIdx + tokenLen));\n            }\n        }\n        return itemStr;\n    };\n    TypeaheadContainerComponent.prototype.focusLost = function () {\n        this.isFocused = false;\n    };\n    TypeaheadContainerComponent.prototype.isActive = function (value) {\n        return this._active === value;\n    };\n    TypeaheadContainerComponent.prototype.selectMatch = function (value, e) {\n        var _this = this;\n        if (e === void 0) { e = void 0; }\n        if (e) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n        this.parent.changeModel(value);\n        setTimeout(function () { return _this.parent.typeaheadOnSelect.emit(value); }, 0);\n        return false;\n    };\n    TypeaheadContainerComponent.prototype.setScrollableMode = function () {\n        if (!this.ulElement) {\n            this.ulElement = this.element;\n        }\n        if (this.liElements.first) {\n            var ulStyles = Utils.getStyles(this.ulElement.nativeElement);\n            var liStyles = Utils.getStyles(this.liElements.first.nativeElement);\n            var ulPaddingBottom = parseFloat((ulStyles['padding-bottom'] ? ulStyles['padding-bottom'] : '').replace('px', ''));\n            var ulPaddingTop = parseFloat((ulStyles['padding-top'] ? ulStyles['padding-top'] : '0').replace('px', ''));\n            var optionHeight = parseFloat((liStyles['height'] ? liStyles['height'] : '0').replace('px', ''));\n            var height = this.typeaheadOptionsInScrollableView * optionHeight;\n            this.guiHeight = height + ulPaddingTop + ulPaddingBottom + \"px\";\n        }\n        this.renderer.setStyle(this.element.nativeElement, 'visibility', 'visible');\n    };\n    TypeaheadContainerComponent.prototype.scrollPrevious = function (index) {\n        if (index === 0) {\n            this.scrollToBottom();\n            return;\n        }\n        if (this.liElements) {\n            var liElement = this.liElements.toArray()[index - 1];\n            if (liElement && !this.isScrolledIntoView(liElement.nativeElement)) {\n                this.ulElement.nativeElement.scrollTop = liElement.nativeElement.offsetTop;\n            }\n        }\n    };\n    TypeaheadContainerComponent.prototype.scrollNext = function (index) {\n        if (index + 1 > this.matches.length - 1) {\n            this.scrollToTop();\n            return;\n        }\n        if (this.liElements) {\n            var liElement = this.liElements.toArray()[index + 1];\n            if (liElement && !this.isScrolledIntoView(liElement.nativeElement)) {\n                this.ulElement.nativeElement.scrollTop =\n                    liElement.nativeElement.offsetTop -\n                        this.ulElement.nativeElement.offsetHeight +\n                        liElement.nativeElement.offsetHeight;\n            }\n        }\n    };\n    TypeaheadContainerComponent.prototype.scrollToBottom = function () {\n        this.ulElement.nativeElement.scrollTop = this.ulElement.nativeElement.scrollHeight;\n    };\n    TypeaheadContainerComponent.prototype.scrollToTop = function () {\n        this.ulElement.nativeElement.scrollTop = 0;\n    };\n    TypeaheadContainerComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'typeahead-container',\n                    // tslint:disable-next-line\n                    template: \"<!-- inject options list template --> <ng-template [ngTemplateOutlet]=\\\"optionsListTemplate || (isBs4 ? bs4Template : bs3Template)\\\" [ngTemplateOutletContext]=\\\"{matches:matches, itemTemplate:itemTemplate, query:query}\\\"></ng-template> <!-- default options item template --> <ng-template #bsItemTemplate let-match=\\\"match\\\" let-query=\\\"query\\\"><span [innerHtml]=\\\"hightlight(match, query)\\\"></span> </ng-template> <!-- Bootstrap 3 options list template --> <ng-template #bs3Template> <ul class=\\\"dropdown-menu\\\" #ulElement [style.overflow-y]=\\\"needScrollbar ? 'scroll': 'auto'\\\" [style.height]=\\\"needScrollbar ? guiHeight: 'auto'\\\"> <ng-template ngFor let-match let-i=\\\"index\\\" [ngForOf]=\\\"matches\\\"> <li #liElements *ngIf=\\\"match.isHeader()\\\" class=\\\"dropdown-header\\\">{{ match }}</li> <li #liElements *ngIf=\\\"!match.isHeader()\\\" [class.active]=\\\"isActive(match)\\\" (mouseenter)=\\\"selectActive(match)\\\"> <a href=\\\"#\\\" (click)=\\\"selectMatch(match, $event)\\\" tabindex=\\\"-1\\\"> <ng-template [ngTemplateOutlet]=\\\"itemTemplate || bsItemTemplate\\\" [ngTemplateOutletContext]=\\\"{item:match.item, index:i, match:match, query:query}\\\"></ng-template> </a> </li> </ng-template> </ul> </ng-template> <!-- Bootstrap 4 options list template --> <ng-template #bs4Template> <ng-template ngFor let-match let-i=\\\"index\\\" [ngForOf]=\\\"matches\\\"> <h6 *ngIf=\\\"match.isHeader()\\\" class=\\\"dropdown-header\\\">{{ match }}</h6> <ng-template [ngIf]=\\\"!match.isHeader()\\\"> <button #liElements class=\\\"dropdown-item\\\" (click)=\\\"selectMatch(match, $event)\\\" (mouseenter)=\\\"selectActive(match)\\\" [class.active]=\\\"isActive(match)\\\"> <ng-template [ngTemplateOutlet]=\\\"itemTemplate || bsItemTemplate\\\" [ngTemplateOutletContext]=\\\"{item:match.item, index:i, match:match, query:query}\\\"></ng-template> </button> </ng-template> </ng-template> </ng-template> \",\n                    host: {\n                        class: 'dropdown open',\n                        '[class.dropdown-menu]': 'isBs4',\n                        '[style.overflow-y]': \"isBs4 && needScrollbar ? 'scroll': 'visible'\",\n                        '[style.height]': \"isBs4 && needScrollbar ? guiHeight: 'auto'\",\n                        '[style.visibility]': \"typeaheadScrollable ? 'hidden' : 'visible'\",\n                        '[class.dropup]': 'dropup',\n                        style: 'position: absolute;display: block;'\n                    }\n                },] },\n    ];\n    /** @nocollapse */\n    TypeaheadContainerComponent.ctorParameters = function () { return [\n        { type: ElementRef, },\n        { type: Renderer2, },\n    ]; };\n    TypeaheadContainerComponent.propDecorators = {\n        'ulElement': [{ type: ViewChild, args: ['ulElement',] },],\n        'liElements': [{ type: ViewChildren, args: ['liElements',] },],\n        'focusLost': [{ type: HostListener, args: ['mouseleave',] }, { type: HostListener, args: ['blur',] },],\n    };\n    return TypeaheadContainerComponent;\n}());\nexport { TypeaheadContainerComponent };\n//# sourceMappingURL=typeahead-container.component.js.map"]}]}